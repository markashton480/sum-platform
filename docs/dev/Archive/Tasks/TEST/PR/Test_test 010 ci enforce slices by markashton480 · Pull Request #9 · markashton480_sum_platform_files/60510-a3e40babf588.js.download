"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[14439,19973,29382,36820,60510,69677,83852],{2265:(e,t,n)=>{n.d(t,{W:()=>d,j:()=>o});var i=n(74848),a=n(68273),r=n(21728),s=n(96540);let l=(0,s.createContext)({}),o=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(5),{children:o}=e,[d,c]=(0,s.useState)(!1);a[0]!==d?(t={isDialogOpen:d,setIsDialogOpen:c},a[0]=d,a[1]=t):t=a[1];let u=t;return a[2]!==o||a[3]!==u?(n=(0,i.jsx)(l.Provider,{value:u,children:o}),a[2]=o,a[3]=u,a[4]=n):n=a[4],n}:function({children:e}){let[t,n]=(0,s.useState)(!1),a=(0,s.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:n}),[t,n]);return(0,i.jsx)(l.Provider,{value:a,children:e})},d=((0,a.GV)(),()=>(0,s.useContext)(l));try{l.displayName||(l.displayName="DialogStateContext")}catch{}try{o.displayName||(o.displayName="DialogStateProvider")}catch{}},2694:(e,t,n)=>{n.d(t,{B:()=>s});var i=n(73189),a=n(71315),r=n(96540);function s(e,t){if(!a.KJ)return[i.l,i.l,i.l];let n=(0,r.useMemo)(()=>new IntersectionObserver(e,t),[e,t]);return(0,r.useEffect)(()=>()=>n.disconnect(),[n]),[(0,r.useCallback)(e=>n.observe(e),[n]),(0,r.useCallback)(e=>n.unobserve(e),[n]),(0,r.useCallback)(()=>n.disconnect(),[n])]}},3038:(e,t,n)=>{n.d(t,{Av:()=>L,Ji:()=>h,Ls:()=>N,Mk:()=>b,Po:()=>m,S4:()=>j,Yf:()=>D,a1:()=>w,a2:()=>o,dT:()=>S,dv:()=>p,j2:()=>y,oH:()=>d,qK:()=>f,qX:()=>c,u6:()=>u,x_:()=>g});var i=n(13083),a=n(61583),r=n(66358),s=n(36729),l=n(51391);function o(e,t,n){return"left"===n?!m(e)&&e.left===t:!m(e)&&(0,i.XU)(e.type)===n&&e.right===t}function d(e,t){return"LEFT"===t?`L${e}`:`R${e}`}function c(e,t,n){let i=`-${m(t)||"number"!=typeof t.left?"empty":t.left}`,a=n?`-${m(n)||"number"!=typeof n.right?"empty":n.right}`:"";return`${e}${i}${a}`}function u(e,t){return`${e}-${t}`}function m(e){return!!e&&e===s.Vv}function f(e){return!!e&&e!==s.Vv}function h(e){return"CONTEXT"===e.type}function p(e,t){return t===r.w$.Empty||t===r.w$.Hunk?[e,void 0]:x(e,r.JF[t])}function g(e,t){let n;switch(t){case r.w$.Addition:n=r.JF[r.w$.Addition];break;case r.w$.Deletion:n=r.JF[r.w$.Deletion];break;case r.w$.Context:case r.w$.InjectedContext:n=r.JF[r.w$.Context]}return x(e,n)}function x(e,t){if(!t||!e.startsWith(t))return[e,void 0];let n=e[0];return[e.substring(1),n]}function b(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(s.Vv);for(;n.length<t.length;)n.push(s.Vv)};for(let a of e)switch(a.type){case"ADDITION":n.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(a),n.push(a)}return i(),{leftLines:t,rightLines:n}}function v(e){return["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type)}function y({line:e,range:t,fileAnchor:n}){let i,{origin:r,pathname:s}=window.location;if(e){let r=v(e)?e.left:e.right;i=t&&r&&t.startLineNumber<=r&&t.endLineNumber>=r?(0,a.j$)(t):function(e,t){let n=v(e),i=n?e.left:e.right,r=n?"left":"right";if(null!==i)return(0,a.j$)({diffAnchor:t,endLineNumber:i,endOrientation:r,startLineNumber:i,startOrientation:r})}(e,n)}else t&&(i=(0,a.j$)(t));if(i)return`${r}${s}#${i}`}function j({hasThreads:e}){return e?"80px":"24px"}let C=["ADDITION","DELETION","CONTEXT"],w=(e,t)=>{if(m(e)||!e)return!1;let n=t.leftLines.concat(t.rightLines),i=n.filter(e=>!m(e)).map(e=>(0,l.bo)(e)),a=(0,l.bo)(e);return n.length>0&&i.includes(a)?n.every(e=>!!m(e)||C.includes(e.type)):!!m(e)||C.includes(e.type)},N=e=>e?e.filter(e=>!m(e)).map(e=>{var t;let[n]=g((t=e.html,new DOMParser().parseFromString(t,"text/html").documentElement.textContent||""),e.type);return n}).join(`
`):"";function S(e){return!!(e.text.length<1&&("CONTEXT"===e.type||"INJECTED_CONTEXT"===e.type)||("DELETION"===e.type||"ADDITION"===e.type)&&1===e.text.length&&["+","-"].includes(e.text.charAt(0)))}let L=(e,t,n,i)=>{let a;if(e)return e;if(!m(t)){let e=(n?t.left:t.right)??0,r=n?"left":"right";a={startOrientation:r,endOrientation:r,startLineNumber:e,endLineNumber:e,diffAnchor:i}}return a};function D(e,t=!1,n=!1){let i;switch(e){case"ADDITION":i=t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";break;case"DELETION":i=t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";break;case"HUNK":i=t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";break;case"EMPTY":i=t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";break;default:i="var(--bgColor-default)"}return n?"":i}},3252:(e,t,n)=>{function i(e){return[...e.querySelectorAll(".js-blob-code-addition")].map(e=>e.textContent).filter(e=>null!==e)}function a(e){if(!e||e.length>1e5)return null;let t=e.split(/\r?\n/),n=!1,i="",a=[];for(let e=0;e<t.length;e++){let r=t[e];if(void 0!==r)if(n){if(r.match(/^ {0,3}(`{3,}|~{3,})[ \t]*$/))return a;let e=r;if(i.length>0){let t=RegExp(`^ {0,${i.length}}`);e=r.replace(t,"")}a.push(e)}else{let e=r.match(/^( {0,3})(`{3,}|~{3,})suggestion[ \t]*$/);if(e){n=!0,i=e[1]||"";continue}}}return null}n.d(t,{T:()=>a,y:()=>i})},8431:(e,t,n)=>{n.d(t,{A:()=>i});let i={diff:"Diff-module__diff--Sofy4",diffTargetable:"Diff-module__diffTargetable--kW3Cm",diffHeaderWrapper:"Diff-module__diffHeaderWrapper--eH6zk",diffAddFileThread:"Diff-module__diffAddFileThread--f81Tx",diffFooter:"Diff-module__diffFooter--kHHJz"}},10583:(e,t,n)=>{n.d(t,{M:()=>o});var i=n(74848),a=n(68273),r=n(21728),s=n(38621),l=n(76720);let o=(0,a.Z6)()?function(e){let t,n,a,o,d,c,u=(0,r.c)(8),{text:m}=e;u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(l.E.Visual,{children:(0,i.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),u[0]=t):t=u[0];let f=m||"Unable to load page.";return u[1]!==f?(n=(0,i.jsx)(l.E.Heading,{children:f}),u[1]=f,u[2]=n):n=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),o=(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),u[3]=a,u[4]=o):(a=u[3],o=u[4]),u[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsxs)(l.E.Description,{children:[a,o,(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]}),u[5]=d):d=u[5],u[6]!==n?(c=(0,i.jsx)("div",{className:"width-full",children:(0,i.jsxs)(l.E,{border:!1,spacious:!1,children:[t,n,d]})}),u[6]=n,u[7]=c):c=u[7],c}:function({text:e}){return(0,i.jsx)("div",{className:"width-full",children:(0,i.jsxs)(l.E,{border:!1,spacious:!1,children:[(0,i.jsx)(l.E.Visual,{children:(0,i.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,i.jsx)(l.E.Heading,{children:e||"Unable to load page."}),(0,i.jsxs)(l.E.Description,{children:[(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,i.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,i.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})};try{o.displayName||(o.displayName="PullRequestErrorState")}catch{}},13107:(e,t,n)=>{n.d(t,{NF:()=>b,QS:()=>f,VO:()=>g,wW:()=>v});var i=n(74848),a=n(73017),r=n(96379),s=n(84268),l=n(82156),o=n(5524),d=n(96540),c=n(75202),u=n(65510),m=n(40493);function f(e,t){let n=encodeURIComponent(t);return`/codespaces?codespace%5Bref%5D=${n}&current_branch=${n}&event_target=REPO_PAGE&repo=${e}`}function h(e){return(0,i.jsxs)("span",{children:["An unexpected error occurred. Please"," ",(0,i.jsx)(s.A,{inline:!0,href:e,children:"contact support"})," ","for more information."]})}function p({header:e,message:t}){return(0,i.jsxs)("div",{className:"blankslate",children:[(0,i.jsx)("p",{className:"fgColor-default text-bold mb-1",children:e}),(0,i.jsx)("p",{className:"mt-2 mx-4",children:t})]})}function g({children:e}){return(0,i.jsx)("div",{className:"d-flex flex-justify-center",children:(0,i.jsx)(c.t,{fallback:(0,i.jsx)(p,{header:"Codespaces data failed to load.",message:"Refresh the page and try again."}),children:(0,i.jsx)(d.Suspense,{fallback:(0,i.jsxs)("div",{role:"status",className:m.A.CodespacesSkeletonWrapper,"aria-busy":!0,"aria-label":"Loading Codespaces",children:[(0,i.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,i.jsx)(l.f,{width:"100%",height:"var(--base-size-32)"})}),(0,i.jsx)(o.l.Divider,{}),(0,i.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,i.jsx)(l.f,{width:"100%",height:"var(--base-size-64)"})}),(0,i.jsx)(o.l.Divider,{}),(0,i.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,i.jsx)(l.f,{width:"100%",height:"var(--base-size-32)"})})]}),children:e})})})}function x({codespacesPath:e}){let{data:t}=(0,u.U)({queryKey:["CodespacesTabContent.content",e],queryFn:async()=>{let t=await (0,r.QJ)(e);if(t.status>=400&&t.status<=499)return"";if(!t.ok)throw Error(`HTTP ${t.status}`);return await t.text()}});return(0,i.jsx)(a.vb,{className:"width-full",html:t})}function b(e){let{hasAccessToCodespaces:t,repoPolicyInfo:n,contactPath:a,currentUserIsEnterpriseManaged:r,enterpriseManagedBusinessName:l,newCodespacePath:o,codespacesPath:d,isLoggedIn:c}=e;if(!t){if(!c)return(0,i.jsx)(p,{header:"Sign in required",message:(0,i.jsxs)("span",{children:["Please"," ",(0,i.jsx)(s.A,{inline:!0,href:o,children:"sign in"})," ","to use Codespaces."]})});if(n?.allowed)if(!n?.changesWouldBeSafe)return(0,i.jsx)(p,{header:"Repository access limited",message:(0,i.jsx)("span",{children:"You do not have access to push to this repository and its owner has disabled forking."})});else return(0,i.jsx)(p,{header:"Codespace access limited",message:h(a)});{let e=null;return e=!n?.canBill&&r?(0,i.jsxs)("span",{children:[(0,i.jsx)(s.A,{href:"https://docs.github.com/enterprise-cloud@latest/admin/identity-and-access-management/using-enterprise-managed-users-for-iam/about-enterprise-managed-users",children:"Enterprise-managed users"}),` must have their Codespaces usage paid for by ${l||"their enterprise"}.`]}):n?.hasIpAllowLists?(0,i.jsxs)("span",{children:["Your organization or enterprise enforces"," ",(0,i.jsx)(s.A,{inline:!0,href:"https://docs.github.com/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization",children:"IP allow lists"})," ","which are unsupported by Codespaces at this time."]}):n?.disabledByBusiness?(0,i.jsx)("span",{children:"Your enterprise has disabled Codespaces at this time. Please contact your enterprise administrator for more information."}):n?.disabledByOrganization?(0,i.jsx)("span",{children:"Your organization has disabled Codespaces on this repository. Please contact your organization administrator for more information."}):h(a),(0,i.jsx)(p,{header:"Codespace access limited",message:e})}}return(0,i.jsx)(x,{codespacesPath:d})}function v(e){return(0,i.jsx)(g,{children:(0,i.jsx)(b,{...e})})}try{p.displayName||(p.displayName="ErrorMessage")}catch{}try{g.displayName||(g.displayName="CodespacesTabWrapper")}catch{}try{x.displayName||(x.displayName="ServerRenderedCodespacesTabContent")}catch{}try{b.displayName||(b.displayName="CodespacesTabContent")}catch{}try{v.displayName||(v.displayName="CodespacesTab")}catch{}},13814:(e,t,n)=>{n.d(t,{J:()=>DiffSelectedLineEvent,L:()=>DiffAddCommentButtonClickedEvent});var i=n(50467);let DiffAddCommentButtonClickedEvent=class DiffAddCommentButtonClickedEvent extends Event{constructor(e,t){super("DiffAddCommentButtonClickedEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,i._)(this,"endLineNumber",void 0),(0,i._)(this,"endOrientation",void 0),(0,i._)(this,"filePath",void 0),(0,i._)(this,"startOrientation",void 0),(0,i._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}};let DiffSelectedLineEvent=class DiffSelectedLineEvent extends Event{constructor(e,t){super("DiffSelectedLineEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,i._)(this,"endLineNumber",void 0),(0,i._)(this,"endOrientation",void 0),(0,i._)(this,"filePath",void 0),(0,i._)(this,"startOrientation",void 0),(0,i._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}}},14808:(e,t,n)=>{n.d(t,{LR:()=>o,KA:()=>R,G9:()=>p,XA:()=>N});var i=n(74848),a=n(21728),r=n(5524),s=n(96540);let l=(0,s.forwardRef)((e,t)=>{let n,s,l,o,d,c,u,m,f,h,p,g,x,b,v=(0,a.c)(28);if(v[0]!==t||v[1]!==e){l=Symbol.for("react.early_return_sentinel");e:{let{selected:a,...x}=e;if(x.renderItem){l=x.renderItem({selected:a,...x});break e}let{label:b,id:v,description:y,descriptionVariant:j,onSelect:C,renderDescription:w,className:N,trailingVisual:S,disabled:L}=x;g=S,n=r.l.Item,s=v,o="option",d=()=>{C({label:b,id:v,selected:a,description:y,descriptionVariant:j})},c=a,u=t,m=N,f=L,h=b,p=(y||w)&&(0,i.jsx)(r.l.Description,{variant:j,children:w?w():y})}v[0]=t,v[1]=e,v[2]=n,v[3]=s,v[4]=l,v[5]=o,v[6]=d,v[7]=c,v[8]=u,v[9]=m,v[10]=f,v[11]=h,v[12]=p,v[13]=g}else n=v[2],s=v[3],l=v[4],o=v[5],d=v[6],c=v[7],u=v[8],m=v[9],f=v[10],h=v[11],p=v[12],g=v[13];return l!==Symbol.for("react.early_return_sentinel")?l:(v[14]!==g?(x=g?(0,i.jsx)(r.l.TrailingVisual,{children:g}):null,v[14]=g,v[15]=x):x=v[15],v[16]!==n||v[17]!==s||v[18]!==x||v[19]!==o||v[20]!==d||v[21]!==c||v[22]!==u||v[23]!==m||v[24]!==f||v[25]!==h||v[26]!==p?(b=(0,i.jsxs)(n,{role:o,onSelect:d,selected:c,ref:u,className:m,disabled:f,children:[h,p,x]},s),v[16]=n,v[17]=s,v[18]=x,v[19]=o,v[20]=d,v[21]=c,v[22]=u,v[23]=m,v[24]=f,v[25]=h,v[26]=p,v[27]=b):b=v[27],b)});l.displayName="SelectItem";let o=(0,s.forwardRef)((e,t)=>{let n,l,o,h=(0,a.c)(18),{selectionVariant:p,items:g,onSelect:x,controlled:b,showGroupHeading:v}=e;h[0]!==g?(n=()=>g.filter(c),h[0]=g,h[1]=n):n=h[1];let[y,j]=(0,s.useState)(n);h[2]!==g?(l=g.find(u),h[2]=g,h[3]=l):l=h[3];let C=l;if(h[4]!==b||h[5]!==C||h[6]!==g||h[7]!==x||h[8]!==t||h[9]!==y||h[10]!==p||h[11]!==v){let e,n=C?g.reduce(m,{}):null,a=g.filter(f),l=n&&Object.entries(n);h[13]!==b||h[14]!==x||h[15]!==y||h[16]!==p?(e=e=>{let{id:t}=e;if(x&&x(e),b)if(y.find(e=>e.id===t)){let e=y.filter(e=>e.id!==t);j(e),b(e)}else{let t="multiple"===p?[...y,e]:[e];j(t),b(t)}},h[13]=b,h[14]=x,h[15]=y,h[16]=p,h[17]=e):e=h[17];let c=e;o=(0,i.jsx)(i.Fragment,{children:n?(0,i.jsxs)(i.Fragment,{children:[l?l.map((e,n)=>{let[a,o]=e;return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(r.l.Group,{"aria-label":o[0]?.groupTitle||`Group ${a}`,selectionVariant:p,children:[v?(0,i.jsx)(r.l.GroupHeading,{variant:"filled",children:o[0]?.groupTitle||`Group ${a}`}):null,o.map((e,a)=>(0,i.jsx)(d,{selectedItems:y,onSelectToggle:c,controlled:b,ref:0===a&&0===n?t:void 0,...e},e.id))]},a),l.length>1&&n!==l.length-1?(0,i.jsx)(r.l.Divider,{}):null]},a)}):null,a.map(e=>(0,i.jsx)(d,{selectedItems:y,onSelectToggle:c,controlled:b,...e},e.id))]}):(0,i.jsx)(i.Fragment,{children:g.map((e,n)=>(0,i.jsx)(d,{selectedItems:y,onSelectToggle:c,controlled:b,ref:0===n?t:null,...e},e.id))})}),h[4]=b,h[5]=C,h[6]=g,h[7]=x,h[8]=t,h[9]=y,h[10]=p,h[11]=v,h[12]=o}else o=h[12];return o}),d=s.forwardRef((e,t)=>{let n,r,s,o,d,c,u,m,f,h,p,g,x=(0,a.c)(35);x[0]!==e?({id:s,label:o,description:r,selectedItems:f,onSelectToggle:c,onSelect:d,controlled:n,selected:m,...u}=e,x[0]=e,x[1]=n,x[2]=r,x[3]=s,x[4]=o,x[5]=d,x[6]=c,x[7]=u,x[8]=m,x[9]=f):(n=x[1],r=x[2],s=x[3],o=x[4],d=x[5],c=x[6],u=x[7],m=x[8],f=x[9]),x[10]!==r||x[11]!==s||x[12]!==o||x[13]!==c||x[14]!==u.descriptionVariant||x[15]!==m?(h=()=>{c({label:o,id:s,selected:m,description:r,descriptionVariant:u.descriptionVariant})},x[10]=r,x[11]=s,x[12]=o,x[13]=c,x[14]=u.descriptionVariant,x[15]=m,x[16]=h):h=x[16];let b=h;x[17]!==n||x[18]!==s||x[19]!==m||x[20]!==f?(p=n?f.some(e=>e.id===s):!!m,x[17]=n,x[18]=s,x[19]=m,x[20]=f,x[21]=p):p=x[21];let v=d||b;return x[22]!==r||x[23]!==s||x[24]!==o||x[25]!==u.className||x[26]!==u.descriptionVariant||x[27]!==u.disabled||x[28]!==u.renderDescription||x[29]!==u.renderItem||x[30]!==u.trailingVisual||x[31]!==t||x[32]!==p||x[33]!==v?(g=(0,i.jsx)(l,{label:o,id:s,description:r,descriptionVariant:u.descriptionVariant,selected:p,onSelect:v,className:u.className,renderItem:u.renderItem,ref:t,trailingVisual:u.trailingVisual,disabled:u.disabled,renderDescription:u.renderDescription}),x[22]=r,x[23]=s,x[24]=o,x[25]=u.className,x[26]=u.descriptionVariant,x[27]=u.disabled,x[28]=u.renderDescription,x[29]=u.renderItem,x[30]=u.trailingVisual,x[31]=t,x[32]=p,x[33]=v,x[34]=g):g=x[34],g});function c(e){return e.selected}function u(e){return void 0!==e.groupId}function m(e,t){return void 0!==t.groupId&&(e[t.groupId]=e[t.groupId]||[],e[t.groupId]&&e[t.groupId].push(t)),e}function f(e){return void 0===e.groupId}o.displayName="SelectBody",d.displayName="SelectBodyItem";var h=n(21373);function p(e){let t,n,r,s,l,o,d,c,u,m=(0,a.c)(23),{footerButtons:f,onSave:p,onCancel:b}=e;m[0]!==f?(t=f?.reduce(x,{save:void 0,cancel:void 0,supplementary:[]}),s="SimpleSelect-module__Footer--BWYvt",n="SimpleSelect-module__FooterContent--CCfD8",r=f?t?.supplementary.map(g):null,m[0]=f,m[1]=t,m[2]=n,m[3]=r,m[4]=s):(t=m[1],n=m[2],r=m[3],s=m[4]),m[5]!==n||m[6]!==r?(l=(0,i.jsx)("div",{className:n,children:r}),m[5]=n,m[6]=r,m[7]=l):l=m[7];let v=t?.cancel,y=t?.cancel?.content||"Cancel";m[8]!==b||m[9]!==v||m[10]!==y?(o=(0,i.jsx)(h.Q,{onClick:b,...v,children:y}),m[8]=b,m[9]=v,m[10]=y,m[11]=o):o=m[11];let j=t?.save,C=t?.save?.content||"Save";return m[12]!==p||m[13]!==j||m[14]!==C?(d=(0,i.jsx)(h.Q,{variant:"primary",onClick:p,...j,children:C}),m[12]=p,m[13]=j,m[14]=C,m[15]=d):d=m[15],m[16]!==d||m[17]!==o?(c=(0,i.jsxs)("div",{className:"SimpleSelect-module__FooterActions--ILN1s",children:[o,d]}),m[16]=d,m[17]=o,m[18]=c):c=m[18],m[19]!==c||m[20]!==s||m[21]!==l?(u=(0,i.jsxs)("div",{className:s,children:[l,c]}),m[19]=c,m[20]=s,m[21]=l,m[22]=u):u=m[22],u}function g(e){let{variant:t,content:n,...a}=e;return(0,i.jsx)(h.Q,{variant:t||"default",...a,children:n},n)}function x(e,t){let{action:n,...i}=t;return"save"===n||"cancel"===n?e[n]=i:e.supplementary.push(i),e}try{p.displayName||(p.displayName="SelectFooter")}catch{}var b=n(38621),v=n(81960),y=n(26108);let j=e=>{let t,n,r,s=(0,a.c)(8),{id:l,title:o,onClose:d}=e,c=void 0===o?"Select an item":o;return s[0]!==l||s[1]!==c?(t=(0,i.jsx)(v.A,{id:l,as:"h1",className:"SimpleSelect-module__Title--dSeJ4",children:c}),s[0]=l,s[1]=c,s[2]=t):t=s[2],s[3]!==d?(n=(0,i.jsx)(y.K,{icon:b.XIcon,"aria-label":"Close",variant:"invisible",onClick:d}),s[3]=d,s[4]=n):n=s[4],s[5]!==t||s[6]!==n?(r=(0,i.jsxs)("div",{className:"SimpleSelect-module__Header--DPfBs",children:[t,n]}),s[5]=t,s[6]=n,s[7]=r):r=s[7],r};try{j.displayName||(j.displayName="SelectHeader")}catch{}var C=n(31604),w=n(15220);function N(e){let t,n,l,d,c,u,m,f,g,x,v,y,C,w,N,k,A=(0,a.c)(76),{variant:E,items:T,label:O,title:P,selectionVariant:F,onSelect:$,renderText:M,onSave:B,onCancel:V,selectable:U,buttonProps:G,outsideClick:H,onEscape:q,focusTarget:z,dialogProps:K,footerButtons:W}=e,Z=void 0===E?"overlay":E,Q=void 0===P?"Select an item":P,X=void 0===H?"save":H,J=void 0===q?"save":q,Y=void 0===z?"first-target":z,[ee,et]=(0,s.useState)(!1),[en,ei]=(0,s.useState)();A[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],A[0]=t):t=A[0];let[ea,er]=(0,s.useState)(t),es=(0,s.useRef)(null),el=(0,s.useId)(),eo=U?ea:T.filter(I),ed=(0,s.useRef)(null);en||(ei(T),er(T.filter(_))),A[1]!==T||A[2]!==V||A[3]!==B||A[4]!==ea||A[5]!==U||A[6]!==en?(n=(e,t)=>{if("save"===e&&(B||U)){let e=U?t||ea:T.filter(D),n=T.map(t=>e.find(e=>e.id===t.id)?{...t,selected:!0}:{...t,selected:!1});ei(n),B&&B(n)}else"cancel"===e&&V?V(en||T):"cancel"===e&&U&&er(en?.filter(L)||[]);et(!1)},A[1]=T,A[2]=V,A[3]=B,A[4]=ea,A[5]=U,A[6]=en,A[7]=n):n=A[7];let ec=n;A[8]!==ec?(l=()=>ec("save"),A[8]=ec,A[9]=l):l=A[9];let eu=l;A[10]!==ec?(d=()=>ec("cancel"),A[10]=ec,A[11]=d):d=A[11];let em=d;A[12]!==ec||A[13]!==ea||A[14]!==U||A[15]!==F?(c=e=>{er(e),ea&&U?.(e),"single"===F&&ec("save",e)},A[12]=ec,A[13]=ea,A[14]=U,A[15]=F,A[16]=c):c=A[16];let ef=c;A[17]!==ec||A[18]!==J||A[19]!==X||A[20]!==ea?(u=e=>{"click-outside"===e||"anchor-click"===e||"close-button"===e?ec(X):"escape"===e&&ec(J,ea)},A[17]=ec,A[18]=J,A[19]=X,A[20]=ea,A[21]=u):u=A[21];let eh=u,ep=h.Q,eg="overlay"===Z?b.TriangleDownIcon:null;A[22]!==ee?(m=()=>et(!ee),A[22]=ee,A[23]=m):m=A[23];let ex=M?M():`${O}${!eo.length?"":`: ${eo.map(S).join(", ")}`}`;A[24]!==ep||A[25]!==G||A[26]!==ee||A[27]!==eg||A[28]!==m||A[29]!==ex?(f=(0,i.jsx)(ep,{trailingAction:eg,ref:ed,variant:"default",onClick:m,"aria-haspopup":"dialog","aria-expanded":ee,...G,children:ex}),A[24]=ep,A[25]=G,A[26]=ee,A[27]=eg,A[28]=m,A[29]=ex,A[30]=f):f=A[30],A[31]!==el||A[32]!==em||A[33]!==Q||A[34]!==Z?(g="overlay"===Z?(0,i.jsx)(j,{id:el,title:Q,onClose:em}):null,A[31]=el,A[32]=em,A[33]=Q,A[34]=Z,A[35]=g):g=A[35];let eb=U&&en?en:T;A[36]!==B||A[37]!==$||A[38]!==U||A[39]!==F?(x="single"!==F||B||U?$:e=>{$?.(e),et(!1)},A[36]=B,A[37]=$,A[38]=U,A[39]=F,A[40]=x):x=A[40];let ev=U?ef:void 0,ey="first-item"===Y?es:null;return A[41]!==F||A[42]!==eb||A[43]!==x||A[44]!==ev||A[45]!==ey?(v=(0,i.jsx)(o,{selectionVariant:F,items:eb,onSelect:x,controlled:ev,ref:ey}),A[41]=F,A[42]=eb,A[43]=x,A[44]=ev,A[45]=ey,A[46]=v):v=A[46],A[47]!==F||A[48]!==v?(y=(0,i.jsx)("div",{className:"SimpleSelect-module__SelectBodyWrapper--Dre5i",children:(0,i.jsx)(r.l,{role:"listbox",selectionVariant:F,"aria-label":"Selection",children:v})}),A[47]=F,A[48]=v,A[49]=y):y=A[49],A[50]!==W||A[51]!==B||A[52]!==em||A[53]!==eu||A[54]!==Z?(C=B&&"modal"!==Z?(0,i.jsx)(p,{onSave:eu,onCancel:em,footerButtons:W}):null,A[50]=W,A[51]=B,A[52]=em,A[53]=eu,A[54]=Z,A[55]=C):C=A[55],A[56]!==g||A[57]!==y||A[58]!==C||A[59]!==Z?(w=(0,i.jsxs)("div",{"data-container":Z,className:"SimpleSelect-module__Wrapper--cFdti",children:[g,y,C]}),A[56]=g,A[57]=y,A[58]=C,A[59]=Z,A[60]=w):w=A[60],A[61]!==K||A[62]!==Y||A[63]!==W||A[64]!==el||A[65]!==eh||A[66]!==ee||A[67]!==em||A[68]!==eu||A[69]!==w||A[70]!==Q||A[71]!==Z?(N=(0,i.jsx)(R,{headingId:el,open:ee,anchorRef:ed,onClose:eh,variant:Z,dialogProps:K,title:Q,selectSave:eu,selectCancel:em,footerButtons:W,focusTarget:Y,firstItem:es,children:w}),A[61]=K,A[62]=Y,A[63]=W,A[64]=el,A[65]=eh,A[66]=ee,A[67]=em,A[68]=eu,A[69]=w,A[70]=Q,A[71]=Z,A[72]=N):N=A[72],A[73]!==f||A[74]!==N?(k=(0,i.jsxs)(i.Fragment,{children:[f,N]}),A[73]=f,A[74]=N,A[75]=k):k=A[75],k}function S(e){return e.label}function L(e){return e.selected}function D(e){return e.selected}function _(e){return e.selected}function I(e){return e.selected}function R(e){let t,n=(0,a.c)(15),{open:r,anchorRef:s,headingId:l,focusTarget:o,firstItem:d,onClose:c,children:u,variant:m,dialogProps:f,title:h,selectSave:g,selectCancel:x,footerButtons:b,focusZoneSettings:v}=e;return n[0]!==s||n[1]!==u||n[2]!==f||n[3]!==d||n[4]!==o||n[5]!==v||n[6]!==b||n[7]!==l||n[8]!==c||n[9]!==r||n[10]!==x||n[11]!==g||n[12]!==h||n[13]!==m?(t=(0,i.jsx)(i.Fragment,{children:"overlay"===m?(0,i.jsx)(C.T,{open:r,anchorRef:s,renderAnchor:null,overlayProps:{role:"dialog","aria-labelledby":l,maxHeight:"large",maxWidth:"medium"},focusZoneSettings:v||{disabled:!0},focusTrapSettings:{initialFocusRef:"first-item"===o?d:void 0},onClose:c,children:u}):(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(w.l,{renderBody:()=>(0,i.jsx)(w.l.Body,{className:"SimpleSelect-module__DialogBody--NoZic",children:u}),width:"large",onClose:c,title:h,renderFooter:()=>(0,i.jsx)(p,{onSave:g,onCancel:x,footerButtons:b}),position:{narrow:"fullscreen",regular:"center"},...f}):null})}),n[0]=s,n[1]=u,n[2]=f,n[3]=d,n[4]=o,n[5]=v,n[6]=b,n[7]=l,n[8]=c,n[9]=r,n[10]=x,n[11]=g,n[12]=h,n[13]=m,n[14]=t):t=n[14],t}try{N.displayName||(N.displayName="SimpleSelect")}catch{}try{R.displayName||(R.displayName="SelectContainer")}catch{}},15697:(e,t,n)=>{function i({paths:e,diffSummaries:t}){let n={};for(let i of e){let e=t[i];if(e&&e.markersMap){let t=[];for(let n in e.markersMap){let i=e.markersMap[n]?.ctx;i&&t.push(i)}n[i]=t}}return n}function a({diffSummary:e}){let t=[];if(e&&e.markersMap)for(let n in e.markersMap){let i=e.markersMap[n]?.ctx;i&&t.push({start:i[0],end:i[1]})}return t}n.d(t,{B:()=>a,i:()=>i})},18373:(e,t,n)=>{n.d(t,{U:()=>v});var i=n(74848),a=n(21728),r=n(96540),s=n(43883),l=n(21373),o=n(57478),d=n(72511),c=n(15837),u=n(86877),m=n(4175),f=n(46251),h=n(33989),p=n(15220),g=n(38621),x=n(55127),b=n.n(x);function v(e){let t,n,h,x,v,j,C,w,N,S,L,D,_,I,R,k,A,E,T,O,P=(0,a.c)(60),{setOpen:F,count:$,dismissalOptions:M,error:B,isPending:V,delegatedAlertDismissalEnabled:U,codeSecurity:G,onSubmit:H}=e,[q,z]=(0,r.useState)(""),[K,W]=(0,r.useState)(""),[Z,Q]=(0,r.useState)(!1);P[0]!==U||P[1]!==K?(t=!U||!!K.trim(),P[0]=U,P[1]=K,P[2]=t):t=P[2];let X=t,J=!!q&&X;P[3]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{z(e??"")},P[3]=n):n=P[3];let Y=n,ee=G?"alert":"finding";if(P[4]!==$||P[5]!==ee){let e,t,n,i,a,r,s;e=b()(ee,$),t=$>1,n=`Dismiss ${e}`,i=`Select a reason to dismiss ${b()("this",$)} ${e}.`,a=`Request to dismiss ${e}`,r=t?`These ${e} need approval before they can be dismissed. Requests are sent to all approvers.`:`This ${e} needs approval before it can be dismissed. Requests are sent to all approvers.`,s=t?`These ${e} are not valid`:`This ${e} is not valid`,h={title:n,subtitle:i,submitButtonLabel:"Dismiss",delegatedAlertDismissal:{title:a,subtitle:r,submitButtonLabel:"Submit request"},reasons:{falsePositiveDescription:s,usedInTestsDescription:t?`These ${e} are not in production code`:`This ${e} is not in production code`,wontFixDescription:t?`These ${e} are not relevant`:`This ${e} is not relevant`}},P[4]=$,P[5]=ee,P[6]=h}else h=P[6];let{title:et,subtitle:en,submitButtonLabel:ei,delegatedAlertDismissal:ea,reasons:er}=h;P[7]!==er.falsePositiveDescription?(x={value:"FALSE_POSITIVE",label:"False positive",description:er.falsePositiveDescription},P[7]=er.falsePositiveDescription,P[8]=x):x=P[8],P[9]!==er.usedInTestsDescription?(v={value:"USED_IN_TESTS",label:"Used in tests",description:er.usedInTestsDescription},P[9]=er.usedInTestsDescription,P[10]=v):v=P[10],P[11]!==er.wontFixDescription?(j={value:"WONT_FIX",label:"Won't fix",description:er.wontFixDescription},P[11]=er.wontFixDescription,P[12]=j):j=P[12],P[13]!==x||P[14]!==v||P[15]!==j?(C=[x,v,j],P[13]=x,P[14]=v,P[15]=j,P[16]=C):C=P[16];let es=C,el=M?.length?M:es;P[17]!==K||P[18]!==J||P[19]!==H||P[20]!==q?(w=async()=>{J?(Q(!1),H({resolution:q,dismissalComment:K})):Q(!0)},P[17]=K,P[18]=J,P[19]=H,P[20]=q,P[21]=w):w=P[21];let eo=w;P[22]!==F?(N=()=>F(!1),P[22]=F,P[23]=N):N=P[23];let ed=U?ea.title:et,ec=U?ea.subtitle:en;return P[24]!==$||P[25]!==ea||P[26]!==U||P[27]!==V||P[28]!==J||P[29]!==eo||P[30]!==F||P[31]!==ei?(S=()=>(0,i.jsxs)(p.l.Footer,{children:[(0,i.jsx)(l.Q,{onClick:()=>F(!1),children:"Cancel"}),(0,i.jsxs)(l.Q,{variant:"primary",onClick:eo,disabled:!J||V,leadingVisual:V?g.SyncIcon:null,children:[(0,i.jsx)("span",{children:U?ea.submitButtonLabel:ei}),$>1&&(0,i.jsx)(o.A,{scheme:"primary",className:"ml-2",children:(0,s.ai)($)})]})]}),P[24]=$,P[25]=ea,P[26]=U,P[27]=V,P[28]=J,P[29]=eo,P[30]=F,P[31]=ei,P[32]=S):S=P[32],P[33]!==B?(L=B&&(0,i.jsx)(d.A,{variant:"danger",children:B.message}),P[33]=B,P[34]=L):L=P[34],P[35]===Symbol.for("react.memo_cache_sentinel")?(D=(0,i.jsx)(c.A.Label,{visuallyHidden:!0,children:"Dismissal reason"}),P[35]=D):D=P[35],P[36]!==el?(_=el.map(y),P[36]=el,P[37]=_):_=P[37],P[38]!==V||P[39]!==_?(I=(0,i.jsxs)(c.A,{name:"resolution",onChange:Y,disabled:V,children:[D,_]}),P[38]=V,P[39]=_,P[40]=I):I=P[40],P[41]!==U?(R=(0,i.jsx)(u.A.Label,{required:U,children:"Comment"}),P[41]=U,P[42]=R):R=P[42],P[43]===Symbol.for("react.memo_cache_sentinel")?(k=(0,i.jsx)(m.Ay,{placeholder:"Add a comment",rows:5,maxLength:280,name:"dismissal_comment",onChange:e=>W(e.target.value),className:"BaseSharedDismissalDialog-module__dismissalCommentTextarea--xxBPO"}),P[43]=k):k=P[43],P[44]!==Z?(A=Z&&(0,i.jsx)(u.A.Validation,{variant:"error",children:"This field is required"}),P[44]=Z,P[45]=A):A=P[45],P[46]!==V||P[47]!==R||P[48]!==A?(E=(0,i.jsx)("div",{children:(0,i.jsxs)(u.A,{disabled:V,children:[R,k,A]})}),P[46]=V,P[47]=R,P[48]=A,P[49]=E):E=P[49],P[50]!==L||P[51]!==I||P[52]!==E?(T=(0,i.jsxs)(f.B,{gap:"normal",children:[L,I,E]}),P[50]=L,P[51]=I,P[52]=E,P[53]=T):T=P[53],P[54]!==ed||P[55]!==ec||P[56]!==S||P[57]!==T||P[58]!==N?(O=(0,i.jsx)(p.l,{width:"large",height:"auto",onClose:N,title:ed,subtitle:ec,renderFooter:S,children:T}),P[54]=ed,P[55]=ec,P[56]=S,P[57]=T,P[58]=N,P[59]=O):O=P[59],O}function y(e){return(0,i.jsxs)(u.A,{children:[(0,i.jsx)(h.A,{value:e.value}),(0,i.jsx)(u.A.Label,{children:e.label}),(0,i.jsx)(u.A.Caption,{children:e.description})]},e.value)}try{v.displayName||(v.displayName="BaseSharedDismissalDialog")}catch{}},20622:(e,t,n)=>{n.d(t,{uT:()=>r});let i={baseComparisonInfo:"base_comparison_info",changeGroups:"change_groups",codeButton:"code_button",codeowners:"codeowners",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",diffViewUserSettings:"user_diff_view_settings",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",description:"description"},a={abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",convertToDraft:"convert_to_draft",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",dismissReview:"dismiss_review",enableAutoMerge:"enable_auto_merge",generateChangeGroups:"generate_change_groups",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitCopilotGroupsFeedback:"submit_copilot_groups_feedback",submitReview:"submit_review",submitSuggestedChanges:"apply_suggestions",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateShowChangeGroupsPreference:"update_show_change_groups_preference",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment"},r={...i,...a};Object.values(i),Object.values(a)},21132:(e,t,n)=>{n.d(t,{s:()=>i});let i={Loaded:"Loaded",Loading:"Loading",NotLoaded:"NotLoaded"}},21968:(e,t,n)=>{n.d(t,{O:()=>P});var i=n(74848),a=n(68273),r=n(21728),s=n(96540),l=n(98755),o=n(25407),d=n(26052),c=n(69726),u=n(84268),m=n(56149),f=n(21373),h=n(62935),p=n(72579),g=n(29e3),x=n(66990),b=n(79634),v=n(79431),y=n(11196),j=n(97665),C=n(33578),w=n(30923),N=n(20622),S=n(53885),L=n(96379),D=n(94747);let _=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),n=(0,S.e)(N.uT.changeBase);return t[0]!==n?(e={mutationFn:e=>{let{newBaseBranch:t}=e,i=btoa(t);return(0,L.Sr)(n,{method:"PATCH",body:{new_base_binary:i}})},onSuccess:I},t[0]=n,t[1]=e):e=t[1],(0,D.n)(e)}:function(){let e=(0,S.e)(N.uT.changeBase);return(0,D.n)({mutationFn:({newBaseBranch:t})=>{let n=btoa(t);return(0,L.Sr)(e,{method:"PATCH",body:{new_base_binary:n}})},onSuccess:async e=>{let t=await e.json();if(t.error)throw Error(t.error);let n=await (await (0,w.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(n.orchestration.error_message)throw Error(n.orchestration.error_message)}})};async function I(e){let t=await e.json();if(t.error)throw Error(t.error);let n=await (await (0,w.Ee)(t.orchestration.url,{headers:{accept:"application/json"}})).json();if(n.orchestration.error_message)throw Error(n.orchestration.error_message)}let R="PullRequestHeaderSummary-module__truncateBranch--bdsQu";var k=n(34261),A=n(95807),E=n(99223),T=n(69599),O=n(37212);function P({author:e,baseBranch:t,baseRepositoryDefaultBranch:n="",baseRepositoryName:a="",baseRepositoryOwnerLogin:r="",canChangeBase:p=!1,commitsCount:y,headBranch:w,headRepositoryOwnerLogin:N="",headRepositoryName:S="",isInAdvisoryRepo:L,isEditing:D=!1,mergedBy:I,mergedByName:R,mergedTime:P,pullRequestId:$,pullRequestNumber:M,repositoryId:B,setIsEditing:V,state:U}){var G,H,q;let z,K=(0,j.jE)(),{refListCacheKey:W}=(0,b.X)(),[Z,Q]=(0,s.useState)(!1),[X,J]=(0,s.useState)(!1),[Y,ee]=(0,s.useState)(""),[et,en]=(0,s.useState)(""),ei=(0,T.G7)("render_user_display_name"),ea=(0,k.f)(),er=(0,O.NP)(),{mutate:es}=_(),el=e=>{J(!1),ee(e)},eo=X?()=>(0,i.jsx)(c.A,{size:"small"}):null,ed=N&&N!==r?`${r}:${t}`:t,ec=function(e,t,n,i,a){if(!t)return"unknown repository";let r=!!t&&t!==e,s=a&&!!n;switch(!0){case r&&s:return`${t}/${n}:${i}`;case r:return`${t}:${i}`;case s:return`${n}:${i}`;default:return i}}(r,N,S,w,L),eu=U===C.Q.Merged?I?{login:I,displayName:R}:null:e,em=(G=U,H=y,q=eu?.login,z=`${H} ${H>1?"commits":"commit"}`,G!==C.Q.Merged?`wants to merge ${z} into`:q?`merged ${z} into`:`${z} merged into`);return(0,i.jsxs)("span",{className:"fgColor-muted d-flex flex-items-center overflow-hidden PullRequestHeaderSummary-module__summaryContainer--iNR1T",children:[eu?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.A,{inline:!0,className:"fgColor-muted text-bold","data-hovercard-url":(0,o.dCN)({owner:eu.login}),href:`/${eu.login}`,children:ei?(0,i.jsx)(d.v,{login:eu.login,profileName:eu.displayName,isAgent:!1}):eu.login})," "]}):null,em,p&&D?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.PI,{cacheKey:W,canCreate:!1,closeOnSelect:!0,currentCommitish:t,defaultBranch:n,hideShowAll:!0,owner:r,repo:a,types:["branch"],onSelectItem:e=>{Q(!0),en(e)}}),(0,i.jsx)(m.ZL,{children:(0,i.jsxs)(g.A,{"aria-labelledby":"confirm-change-base-branch",isOpen:Z,onDismiss:()=>{Q(!1),en(""),ee("")},children:[(0,i.jsx)(g.A.Header,{id:"confirm-change-base-branch",children:"Are you sure you want to change the base?"}),(0,i.jsxs)("div",{className:"p-3",children:[(0,i.jsx)("span",{children:"Some commits from the old base branch may be removed from the timeline, and old review comments may become outdated."}),Y&&(0,i.jsx)(v.v,{className:"mt-2",variant:"critical",children:Y}),(0,i.jsx)("span",{className:"sr-only","aria-live":"polite",children:X?"Base branch update in progress.":""}),(0,i.jsx)(f.Q,{alignContent:"center","aria-disabled":X?"true":void 0,block:!0,className:"mt-3",disabled:X,leadingVisual:eo,onClick:()=>{J(!0),es({newBaseBranch:et},{onError:e=>el(e.message),onSuccess:async()=>{try{await Promise.all([K.refetchQueries({queryKey:ea},{throwOnError:!0}),K.refetchQueries({queryKey:er},{throwOnError:!0})]),J(!1),V?.(!1),Q(!1)}catch{el("Unable to refetch commits. Please refresh the page.")}}})},variant:"primary",children:X?null:"Change base"})]})]})})]}):(0,i.jsx)(F,{branch:t,branchText:ed,repositoryName:a,repositoryOwner:r}),(0,i.jsx)("span",{children:"from "}),(0,i.jsxs)("div",{className:"d-flex flex-items-center overflow-hidden",children:[(0,i.jsx)(F,{branch:w,branchText:ec,repositoryName:S,repositoryOwner:N}),(0,i.jsx)(l.T,{ariaLabel:"Copy head branch name to clipboard",size:"small",textToCopy:N?ec:w})]}),U===C.Q.Merged&&(0,i.jsx)(h.A,{datetime:P}),U===C.Q.Open&&!(0,E.k)()&&(0,i.jsx)(A.i,{processingIndicatorUrl:(0,o.CZ9)({owner:r,repo:a,number:M}),repositoryId:B,pullRequestId:$})]})}let F=(0,a.Z6)()?function(e){let t=(0,r.c)(12),{branchText:n,repositoryOwner:a,repositoryName:s,branch:l}=e;if(s&&a){let e,r,d;t[0]!==l||t[1]!==s||t[2]!==a?(e=(0,o.WJ9)({owner:a,repo:s,branch:l}),t[0]=l,t[1]=s,t[2]=a,t[3]=e):e=t[3];let c=e,u=`${a}/${s}:${l}`;return t[4]!==n||t[5]!==c?(r=(0,i.jsx)(p.A,{href:c,className:R,children:n}),t[4]=n,t[5]=c,t[6]=r):r=t[6],t[7]!==u||t[8]!==r?(d=(0,i.jsx)(y.m,{text:u,children:r}),t[7]=u,t[8]=r,t[9]=d):d=t[9],d}{let e;return t[10]!==n?(e=(0,i.jsx)(p.A,{as:"span",className:R,title:"This repository has been deleted",children:n}),t[10]=n,t[11]=e):e=t[11],e}}:function({branchText:e,repositoryOwner:t,repositoryName:n,branch:a}){if(!n||!t)return(0,i.jsx)(p.A,{as:"span",className:R,title:"This repository has been deleted",children:e});{let r=(0,o.WJ9)({owner:t,repo:n,branch:a});return(0,i.jsx)(y.m,{text:`${t}/${n}:${a}`,children:(0,i.jsx)(p.A,{href:r,className:R,children:e})})}};try{P.displayName||(P.displayName="PullRequestHeaderSummary")}catch{}try{F.displayName||(F.displayName="PullRequestBranchName")}catch{}},24798:(e,t,n)=>{n.d(t,{o:()=>s});var i=n(68273),a=n(21728),r=n(76648);let s=(0,i.Z6)()?function(){let e,t=(0,a.c)(7),n=(0,r.B)()??{};if(n&&"header"in n)return n.header;let{aliveChannel:i,pullRequest:s,bannersData:l,repository:o,urls:d,user:c}=n;return t[0]!==i||t[1]!==l||t[2]!==s||t[3]!==o||t[4]!==d||t[5]!==c?(e={aliveChannel:i,pullRequest:s,bannersData:l,repository:o,urls:d,user:c},t[0]=i,t[1]=l,t[2]=s,t[3]=o,t[4]=d,t[5]=c,t[6]=e):e=t[6],e}:function(){let e=(0,r.B)()??{};if(e&&"header"in e)return e.header;let{aliveChannel:t,pullRequest:n,bannersData:i,repository:a,urls:s,user:l}=e;return{aliveChannel:t,pullRequest:n,bannersData:i,repository:a,urls:s,user:l}}},25556:(e,t,n)=>{n.d(t,{m:()=>p});var i=n(74848),a=n(69676),r=n(96540),s=n(56149),l=n(12683),o=n(34164);let d=n(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-da442a75-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,l.yB)("fonts.normal"),(0,l.yB)("colors.fg.onEmphasis"),(0,l.yB)("colors.neutral.emphasisPlus"),(0,l.yB)("radii.2"),(0,l.yB)("space.3"),(0,l.yB)("space.3"),(0,l.yB)("space.3"),(0,l.yB)("space.3"),l.sx),c=()=>()=>void 0,u=()=>!1,m=()=>!0,f=(0,r.forwardRef)(function({direction:e="n",className:t,text:n,noDelay:a,align:l,wrap:f,open:h=!1,portalProps:p={},...g},x){let b=(0,r.useSyncExternalStore)(c,m,u),v=(0,o.$)(t,`tooltipped-${e}`,l&&`tooltipped-align-${l}-2`,a&&"tooltipped-no-delay",f&&"tooltipped-multiline",h&&"tooltipped-open");return b?(0,i.jsx)(s.ZL,{...p,children:(0,i.jsx)(d,{ref:x,role:"tooltip","aria-label":n,"data-visible-text":n||g["aria-label"],...g,sx:{position:"fixed",zIndex:1,...g.sx},className:v})}):null});try{f.displayName||(f.displayName="ControlledTooltip")}catch{}var h=n(65787);let p=(0,r.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:n,anchorSide:s,anchorOffset:l,alignmentOffset:o,allowOutOfBounds:d,...c},u){let m=(0,r.useRef)(null);(0,r.useImperativeHandle)(u,()=>m.current);let p=(0,r.useRef)({left:0,top:0}),g=(0,r.useSyncExternalStore)((0,r.useCallback)(n=>{if(!m.current||!e.current||!t)return()=>void 0;let i=(0,h.U)(e.current);return i?.addEventListener("scroll",n),()=>{i?.removeEventListener("scroll",n)}},[e,t]),(0,r.useCallback)(()=>{if(!m.current||!e.current)return p.current;let t=(0,a.uG)(m.current,e.current,{align:n??"center",side:s??"outside-top",alignmentOffset:o??0,anchorOffset:l??0,allowOutOfBounds:d});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,o,l,n,s,d]),(0,r.useCallback)(()=>p.current,[]));return(0,i.jsx)(f,{...c,ref:m,open:t,style:{position:"absolute",...g,...c.style}})});try{p.displayName||(p.displayName="PortalTooltip")}catch{}},26410:(e,t,n)=>{n.d(t,{J:()=>v,F:()=>x});var i=n(74848),a=n(96540),r=n(39111),s=n(96459),l=n(96379),o=n(84268),d=n(19579),c=n(72511),u=n(5524),m=n(81960),f=n(11196),h=n(98755),p=n(38621),g=n(34164);function x(e){let{httpAvailable:t,sshAvailable:n,httpUrl:m,showCloneWarning:h,sshUrl:g,sshCertificatesRequired:x,sshCertificatesAvailable:y,ghCliUrl:j,newSshKeyUrl:C,setProtocolPath:w}=e.protocolInfo,{defaultProtocol:N}=e.protocolInfo,[S,L]=(0,a.useState)(N),[D,_]=(0,a.useState)(""),{cloneUrl:I,visualStudioCloneUrl:R,showVisualStudioCloneButton:k,showXcodeCloneButton:A,xcodeCloneUrl:E,zipballUrl:T}=e.platformInfo,O=(0,r.X)(["windows","mac"]),P=(0,r.X)(["mac"]),F=(0,s.Z)(),$="mt-2 fgColor-muted text-normal",M=(0,a.useCallback)(e=>{if(S!==e){L(e);let t=new FormData;t.set("protocol_selector",e),(0,l.DI)(w,{method:"post",body:t})}},[S,L,w]),B=(0,a.useMemo)(()=>{let e=[];return t&&e.push({protocol:"http",displayName:"HTTPS",ariaLabel:"Clone with HTTPS",handler:()=>M("http")}),n&&e.push({protocol:"ssh",displayName:"SSH",ariaLabel:"Clone with SSH",handler:()=>M("ssh")}),e.push({protocol:"gh_cli",displayName:"GitHub CLI",ariaLabel:"Clone with GitHub CLI",handler:()=>M("gh_cli")}),e},[t,M,n]),V=(0,a.useMemo)(()=>{let e=[];return O&&e.push({name:"githubDesktop",text:"Open with GitHub Desktop",url:I,icon:p.DesktopDownloadIcon}),O&&k&&e.push({name:"visualStudio",text:"Open with Visual Studio",url:R}),P&&A&&e.push({name:"xcode",text:"Open with Xcode",url:E}),e.push({name:"zip",text:"Download ZIP",url:T,icon:p.FileZipIcon}),e},[I,P,O,k,A,R,E,T]);return(0,i.jsx)("div",{children:"githubDesktop"===D?(0,i.jsx)(b,{platform:"GitHub Desktop",href:"https://desktop.github.com/"}):"visualStudio"===D?(0,i.jsx)(b,{platform:"Visual Studio"}):"xcode"===D?(0,i.jsx)(b,{platform:"Xcode",href:"https://developer.apple.com/xcode/"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"m-3",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)(p.TerminalIcon,{className:"mr-2"}),(0,i.jsx)("p",{className:"flex-1 text-bold mb-0",children:"Clone"}),(0,i.jsx)(f.m,{text:"Which remote URL should I use?",type:"label",direction:"w",children:(0,i.jsx)(o.A,{muted:!0,href:`${e.helpUrl}/articles/which-remote-url-should-i-use`,children:(0,i.jsx)(p.QuestionIcon,{className:"mr-1"})})})]}),(0,i.jsx)(d.O,{"aria-label":"Remote URL selector",className:"LocalTab-module__UnderlineNav--epbgw",children:B.map(e=>(0,i.jsx)(d.O.Item,{"aria-current":S===e.protocol?"page":void 0,"aria-label":e.ariaLabel,onClick:e.handler,children:e.displayName},e.protocol))}),"http"===S?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{inputId:"clone-with-https",inputLabel:"Clone with HTTPS url",url:m}),(0,i.jsx)("p",{className:$,children:"Clone using the web URL."})]}):"ssh"===S?(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsxs)(c.A,{className:"mb-2",variant:"warning",children:["You don't have any public SSH keys in your GitHub account. ","You can"," ",(0,i.jsx)(o.A,{inline:!0,href:C,children:"add a new public key"}),", or try cloning this repository via HTTPS."]}),(0,i.jsx)(v,{inputId:"clone-with-ssh",inputLabel:"Clone with SSH url",url:g}),(0,i.jsx)("p",{className:$,children:x?"Use a password-protected SSH certificate.":y?"Use a password-protected SSH key or certificate.":"Use a password-protected SSH key."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{buttonAriaLabel:"Copy command to clipboard",inputId:"clone-with-gh-cli",inputLabel:"Clone with GitHub CLI command",url:j}),(0,i.jsxs)("p",{className:$,children:["Work fast with our official CLI."," ",(0,i.jsx)(o.A,{inline:!0,href:"https://cli.github.com",target:"_blank","aria-label":"Learn more about the GitHub CLI",children:"Learn more"})]})]})]}),(0,i.jsx)(u.l,{variant:"inset",className:"border-top",children:V.map(e=>"zip"===e.name?(0,i.jsxs)(u.l.LinkItem,{"data-turbo":"false",href:e.url,rel:"nofollow",children:[e.icon&&(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(e.icon,{})}),e.text]},e.name):(0,i.jsxs)(u.l.Item,{onSelect:t=>{_(e.name),t.preventDefault(),F(e.url)},children:[e.icon&&(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(e.icon,{})}),e.text]},e.name))})]})})}function b({platform:e,href:t}){return(0,i.jsxs)("div",{className:(0,g.$)("p-3","LocalTab-module__PlatformContents--rz1GK"),children:[(0,i.jsx)(m.A,{as:"h4",variant:"small",className:"mb-3 text-center",children:`Launching ${e}`}),t&&(0,i.jsxs)("p",{className:"mb-3",children:["If nothing happens, ",(0,i.jsx)(o.A,{inline:!0,href:t,children:`download ${e}`})," and try again."]})]})}function v({buttonAriaLabel:e="Copy URL to clipboard",inputId:t,inputLabel:n,url:a}){return(0,i.jsxs)("div",{className:(0,g.$)("d-flex mb-2","LocalTab-module__CloneContainer--fne3C"),children:[(0,i.jsx)("label",{htmlFor:t,className:"sr-only",children:n}),(0,i.jsx)("input",{id:t,type:"text",className:"form-control input-monospace input-sm color-bg-subtle","data-autoselect":!0,value:a,readOnly:!0,style:{flexGrow:1}}),(0,i.jsx)(h.T,{className:(0,g.$)("ml-1 mr-0","LocalTab-module__CopyToClipboardButton--G8eJx"),textToCopy:a,ariaLabel:e,tooltipProps:{direction:"nw"}})]})}try{x.displayName||(x.displayName="LocalTab")}catch{}try{b.displayName||(b.displayName="LaunchingPlatformContents")}catch{}try{v.displayName||(v.displayName="CloneUrl")}catch{}},27011:(e,t,n)=>{n.d(t,{JA:()=>q,YL:()=>z,qL:()=>eo,wI:()=>H,gt:()=>Y,xW:()=>W,wL:()=>X,a_:()=>Q,TV:()=>Z,iY:()=>K,wh:()=>em,kN:()=>eh,JR:()=>ef,L3:()=>y,yo:()=>j,HZ:()=>ex,$W:()=>ev,jT:()=>eg,QV:()=>eb,or:()=>eC,I8:()=>ej,l0:()=>I,Ud:()=>k,uh:()=>A,Fm:()=>E,qg:()=>R,mU:()=>T,y:()=>ep,GR:()=>M,SM:()=>ei,ww:()=>w,it:()=>eu,q6:()=>ew,j5:()=>C,RH:()=>eI,Fl:()=>J,Lh:()=>F,ne:()=>et,an:()=>el,rP:()=>er,_N:()=>ed,ys:()=>ec,pV:()=>ey,mY:()=>O,Yp:()=>L,Kp:()=>D,r$:()=>S,GK:()=>_,zK:()=>$,mF:()=>B,m9:()=>P,E4:()=>N,CQ:()=>eN,WA:()=>ee,WK:()=>eD,xJ:()=>e_,Nk:()=>eR,_W:()=>ea,Qb:()=>es,BI:()=>en,Mv:()=>eS,gi:()=>eL});var i=n(68273),a=n(21728),r=n(96540),s=n(70466),l=n(59914),o=n(43645),d=n(82603),c=n(71317),u=n(35311);let m="UNABLE_TO_GENERATE",f="NOT_GENERATED_YET";var h=n(69599),p=n(18799);let g={baseOid:void 0,headOid:void 0},x=[],b=[],v={threads:x,annotations:b,commentsPreference:p.sI.Visible},y=(0,i.Z6)()?()=>(0,o.n)(ek):()=>(0,o.n)(e=>e.comparisonInfo),j=(0,i.Z6)()?()=>(0,o.n)(eA):()=>(0,o.n)(e=>e.comparisonInfoActions),C=(0,i.Z6)()?()=>(0,o.n)(eE):()=>(0,o.n)(e=>e.isSingleFileMode),w=(0,i.Z6)()?()=>(0,o.n)(eT):()=>(0,o.n)(e=>"FULL"!==e.comparisonInfo.comparisonView),N=(0,i.Z6)()?()=>(0,o.n)(eO):()=>(0,o.n)(e=>e.comparisonInfo.selectedRange||g),S=(0,i.Z6)()?()=>(0,o.n)(eP):()=>(0,o.n)(e=>e.pullRequest.id),L=(0,i.Z6)()?()=>(0,o.n)(eF):()=>(0,o.n)(e=>e.pullRequest),D=(0,i.Z6)()?()=>(0,o.n)(e$):()=>(0,o.n)(e=>e.pullRequest.basePath);(0,i.Z6)()||(()=>(0,o.n)(e=>e.pullRequestActions));let _=(0,i.Z6)()?()=>(0,o.n)(eM):()=>(0,o.n)(e=>e.repository),I=(0,i.Z6)()?()=>(0,o.n)(eB):()=>(0,o.n)(e=>e.diffSummaries),R=(0,i.Z6)()?()=>(0,o.n)(eV):()=>(0,o.n)(e=>Object.values(e.diffSummaries).length??0),k=(0,i.Z6)()?()=>(0,o.n)(eU):()=>(0,o.n)(e=>e.diffSummariesActions);(0,i.Z6)()||(()=>(0,o.n)((0,l.k)(e=>Object.values(e.diffSummaries).map(e=>e.path))));let A=(0,i.Z6)()?()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=G([eG],eH,s.x),t[0]=e):e=t[0],(0,o.n)(e)}:()=>(0,o.n)(G([e=>e.diffSummaries],e=>Object.values(e),s.x)),E=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.diffSummaries[e],n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>t.diffSummaries[e]);(0,i.Z6)(),()=>V().hiddenFiles;let T=((0,i.Z6)(),()=>V().filteredDiffSummaries),O=(0,i.Z6)()?()=>(0,o.n)(eq):()=>(0,o.n)(e=>e.entries),P=(0,i.Z6)()?()=>(0,o.n)(ez):()=>(0,o.n)(e=>e.selectedPathDigest);(0,i.Z6)()||(()=>(0,o.n)(e=>e.progressiveDiffsActions.updateSelectedPathDigest));let F=(0,i.Z6)()?()=>(0,o.n)(eK):()=>(0,o.n)(e=>e.markerAndDiffNavigationActions),$=(0,i.Z6)()?()=>(0,o.n)(eW):()=>(0,o.n)(e=>e.markerAndDiffNavigation.commentId);(0,i.Z6)()||(()=>(0,o.n)(e=>e.markerAndDiffNavigation.getCommentId));let M=(0,i.Z6)()?()=>(0,o.n)(eZ):()=>(0,o.n)(e=>e.markerAndDiffNavigation.getMarkerId),B=(0,i.Z6)()?()=>(0,o.n)(eQ):()=>(0,o.n)(e=>e.markerAndDiffNavigation.markerId),V=(0,i.Z6)()?()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=G([eX,eJ,eY,e0,e1],e2,s.x),t[0]=e):e=t[0],(0,o.n)(e)}:()=>(0,o.n)(G([e=>e.diffSummaries,e=>e.codeowners,e=>e.diffFilter.state,e=>e.diffFilter.filtersInteractedWith,e=>e.changeGroupGeneration.changeGroups],(e,t,n,i,a)=>{let r=new Map,s=[],l=a.find(e=>e.id===n.activeChangeGroupId),o=l?.hunkPositions?new Set(Object.keys(l.hunkPositions)):void 0;for(let i of Object.values(e)){let e=(0,d.hG)({diffPath:i.path,codeownersData:t}).isOwnedByViewer;U(i,n,e,o)?(s.push(i),r.set(i.path,!1)):r.set(i.path,!0)}if(i){let e=s.length,t=`${e} file${1===e?"":"s"} remain${1===e?"s":""}`;(0,c.k)(t,150)}return{hiddenFiles:r,filteredDiffSummaries:s}},s.x));function U(e,t,n,i){return(!i||!!i.has(e.path))&&e.path.toLowerCase().includes(t.filterText.toLowerCase())&&!t.unselectedFileExtensions.has((0,u.QC)(e.path))&&(t.showDeletedFiles||"REMOVED"!==e.changeType&&"DELETED"!==e.changeType)&&(!t.showOnlyManifestFiles||!!e.isManifestFile)&&(!t.showOnlyOwnedFiles||n)&&(t.showViewedFiles||!e.markedAsViewed)&&(t.showVendoredFiles||!e.isVendored)}function G(e,t,n){let i,a;return r=>{let s=e.map(e=>e(r));if(i&&n(s,i))return a;let l=t(...s);return i=s,a=l,l}}let H=(0,i.Z6)()?()=>(0,o.n)((0,l.k)(e5)):()=>(0,o.n)((0,l.k)(e=>Object.values(e.markers||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??b)))),q=(0,i.Z6)()?()=>(0,o.n)(e6):()=>(0,o.n)(e=>{let t=e.diffFilter.state.activeChangeGroupId;if(t)return e.changeGroupGeneration.changeGroups.find(e=>e.id===t)}),z=(0,i.Z6)()?()=>(0,o.n)(e7):()=>(0,o.n)(e=>e.diffFilter.state.activeChangeGroupId),K=(0,i.Z6)()?()=>(0,o.n)(e8):()=>(0,o.n)(e=>e.changeGroupGeneration.changeGroups),W=(0,i.Z6)()?()=>(0,o.n)(e9):()=>(0,o.n)(e=>e.changeGroupGeneration),Z=(0,i.Z6)()?()=>(0,o.n)(te):()=>(0,o.n)(e=>e.changeGroupGeneration.unavailableReason?e.changeGroupGeneration.unavailableReason:e.changeGroupGeneration.changeGroups.length<1&&!e.changeGroupGeneration.latestChangeGroupOrchestration?(0,h.G7)("hide_groups_list_for_few_groups")?f:m:null),Q=(0,i.Z6)()?()=>(0,o.n)(tt):()=>(0,o.n)(e=>e.changeGroupGeneration.changeGroupGenerationChannel),X=(0,i.Z6)()?()=>(0,o.n)(tn):()=>(0,o.n)(e=>e.changeGroupGenerationActions),J=(0,i.Z6)()?()=>(0,o.n)(ti):()=>(0,o.n)(e=>e.changeGroupGeneration.latestChangeGroupOrchestration),Y=(0,i.Z6)()?()=>(0,o.n)(ta):()=>(0,o.n)(e=>e.changeGroupGeneration.canAccessChangeGroups),ee=(0,i.Z6)()?()=>(0,o.n)(tr):()=>(0,o.n)(e=>e.showChangeGroupPreference),et=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.markers?.[e],n[0]=e,n[1]=t):t=n[1],(0,o.n)((0,l.k)(t))}:e=>(0,o.n)((0,l.k)(t=>t.markers?.[e])),en=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>{let n=Object.values(t.markers||{}).flatMap(tl),i=[];if(!e)return n;for(let t of e)if(n){for(let e of n)if(Number(e.id)===t){i.push(e);break}}return i},n[0]=e,n[1]=t):t=n[1],(0,o.n)((0,l.k)(t))}:e=>(0,o.n)((0,l.k)(t=>{let n=Object.values(t.markers||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??x)),i=[];if(!e)return n;for(let t of e)if(n){for(let e of n)if(Number(e.id)===t){i.push(e);break}}return i})),ei=(0,i.Z6)()?()=>(0,o.n)(to):()=>(0,o.n)(e=>e.getThread),ea=(0,i.Z6)()?(e,t,n)=>{let i,r=(0,a.c)(4);return r[0]!==t||r[1]!==n||r[2]!==e?(i=i=>i.markers?.[t]?.[n]?.threads.find(t=>t.id===e),r[0]=t,r[1]=n,r[2]=e,r[3]=i):i=r[3],(0,o.n)(i)}:(e,t,n)=>(0,o.n)(i=>i.markers?.[t]?.[n]?.threads.find(t=>t.id===e)),er=(0,i.Z6)()?(e,t)=>{let n,i=(0,a.c)(3);return i[0]!==e||i[1]!==t?(n=G([n=>n.markers?.[e]?.[t],td],tc,s.x),i[0]=e,i[1]=t,i[2]=n):n=i[2],(0,o.n)(n)}:(e,t)=>(0,o.n)(G([n=>n.markers?.[e]?.[t],e=>e.commentsPreference],(e,t)=>{let n=e?.threads??x,i=e?.annotations??b;return n.length||i.length?{threads:n,annotations:i,commentsPreference:t}:v},s.x)),es=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>{let n=Object.values(t.markers||{}).flatMap(tm).filter(t=>t&&(!e||e.includes(parseInt(t.id))));return n?n.filter(tf).reduce(th,0):0},n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>{let n=Object.values(t.markers||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??x)).filter(t=>t&&(!e||e.includes(parseInt(t.id))));return n?n.filter(e=>!e.isResolved&&!e.positioning?.isOutdated).reduce((e,t)=>e+(t.commentsData?.comments?.length??0),0):0}),el=(0,i.Z6)()?()=>(0,o.n)(tp):()=>(0,o.n)(e=>e.markersActions),eo=(0,i.Z6)()?()=>(0,o.n)(tg):()=>(0,o.n)(e=>e.markers),ed=(0,i.Z6)()?()=>(0,o.n)(tx):()=>(0,o.n)(e=>e.pendingReviewActions),ec=(0,i.Z6)()?()=>(0,o.n)(tb):()=>(0,o.n)(e=>e.pendingReview),eu=(0,i.Z6)()?()=>(0,o.n)(tv):()=>(0,o.n)(e=>(e.pendingReview?.pendingReviewIDs?.length??0)>0),em=(0,i.Z6)()?()=>(0,o.n)(ty):()=>(0,o.n)(e=>e.codeownersActions),ef=(0,i.Z6)()?()=>(0,o.n)(tj):()=>(0,o.n)(e=>e.filesCollapsedStatusActions),eh=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.collapsedFilesMap?.[e]??!1,n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>t.collapsedFilesMap?.[e]??!1),ep=(0,i.Z6)()?()=>(0,o.n)(tC):()=>(0,o.n)(e=>e.getCollapsedDiffStatus),eg=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.diffEntries?.[e]??null,n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>t.diffEntries?.[e]??null),ex=(0,i.Z6)()?()=>(0,o.n)(tw):()=>(0,o.n)(e=>e.diffEntries);(0,i.Z6)()||(()=>(0,o.n)(e=>Object.keys(e.diffEntries).length));let eb=(0,i.Z6)()?()=>(0,o.n)(tN):()=>(0,o.n)(e=>e.diffEntriesActions),ev=(0,i.Z6)()?e=>{let t,n,i=(0,a.c)(4);i[0]!==e?(t=new Set(e.map(tS)),i[0]=e,i[1]=t):t=i[1];let r=t;return i[2]!==r?(n=e=>e.entries.filter(e=>r.has(e.path)),i[2]=r,i[3]=n):n=i[3],(0,o.n)((0,l.k)(n))}:e=>{let t=(0,r.useMemo)(()=>new Set(e.map(e=>e.path)),[e]);return(0,o.n)((0,l.k)(e=>e.entries.filter(e=>t.has(e.path))))},ey=(0,i.Z6)()?()=>(0,o.n)(tL):()=>(0,o.n)(e=>e.progressiveDiffsActions),ej=(0,i.Z6)()?()=>(0,o.n)(tD):()=>(0,o.n)(e=>e.diffFilter.state),eC=(0,i.Z6)()?()=>(0,o.n)(t_):()=>(0,o.n)(e=>e.diffFilterActions),ew=(0,i.Z6)()?()=>(0,o.n)(tI):()=>(0,o.n)(e=>{let t=e.diffFilter.state;return t.filterText.length>0||t.unselectedFileExtensions.size>0||!0===t.showOnlyOwnedFiles||!1===t.showDeletedFiles||!0===t.showOnlyManifestFiles||!1===t.showVendoredFiles||!1===t.showViewedFiles}),eN=(0,i.Z6)()?()=>(0,o.n)(tR):()=>(0,o.n)(e=>e.settingsActions),eS=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.summariesViewedStatus?.[e]??!1,n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>t.summariesViewedStatus?.[e]??!1),eL=(0,i.Z6)()?()=>(0,o.n)(tk):()=>(0,o.n)(e=>e.summariesViewedCount),eD=(0,i.Z6)()?()=>(0,o.n)(tA):()=>(0,o.n)(e=>e.suggestionBatch),e_=(0,i.Z6)()?()=>(0,o.n)(tE):()=>(0,o.n)(e=>e.suggestionBatchActions),eI=(0,i.Z6)()?()=>(0,o.n)(tT):()=>(0,o.n)(e=>e.suggestionBatch.isSuggestionBatchPending),eR=(0,i.Z6)()?e=>{let t,n=(0,a.c)(2);return n[0]!==e?(t=t=>t.suggestionBatch.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex),n[0]=e,n[1]=t):t=n[1],(0,o.n)(t)}:e=>(0,o.n)(t=>t.suggestionBatch.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex));function ek(e){return e.comparisonInfo}function eA(e){return e.comparisonInfoActions}function eE(e){return e.isSingleFileMode}function eT(e){return"FULL"!==e.comparisonInfo.comparisonView}function eO(e){return e.comparisonInfo.selectedRange||g}function eP(e){return e.pullRequest.id}function eF(e){return e.pullRequest}function e$(e){return e.pullRequest.basePath}function eM(e){return e.repository}function eB(e){return e.diffSummaries}function eV(e){return Object.values(e.diffSummaries).length??0}function eU(e){return e.diffSummariesActions}function eG(e){return e.diffSummaries}function eH(e){return Object.values(e)}function eq(e){return e.entries}function ez(e){return e.selectedPathDigest}function eK(e){return e.markerAndDiffNavigationActions}function eW(e){return e.markerAndDiffNavigation.commentId}function eZ(e){return e.markerAndDiffNavigation.getMarkerId}function eQ(e){return e.markerAndDiffNavigation.markerId}function eX(e){return e.diffSummaries}function eJ(e){return e.codeowners}function eY(e){return e.diffFilter.state}function e0(e){return e.diffFilter.filtersInteractedWith}function e1(e){return e.changeGroupGeneration.changeGroups}function e2(e,t,n,i,a){let r=new Map,s=[],l=a.find(e=>e.id===n.activeChangeGroupId),o=l?.hunkPositions?new Set(Object.keys(l.hunkPositions)):void 0;for(let i of Object.values(e)){let e=(0,d.hG)({diffPath:i.path,codeownersData:t}).isOwnedByViewer;U(i,n,e,o)?(s.push(i),r.set(i.path,!1)):r.set(i.path,!0)}if(i){let e=s.length,t=`${e} file${1===e?"":"s"} remain${1===e?"s":""}`;(0,c.k)(t,150)}return{hiddenFiles:r,filteredDiffSummaries:s}}function e3(e){return e?.annotations??b}function e4(e){return Object.values(e).flatMap(e3)}function e5(e){return Object.values(e.markers||{}).flatMap(e4)}function e6(e){let t=e.diffFilter.state.activeChangeGroupId;if(t)return e.changeGroupGeneration.changeGroups.find(e=>e.id===t)}function e7(e){return e.diffFilter.state.activeChangeGroupId}function e8(e){return e.changeGroupGeneration.changeGroups}function e9(e){return e.changeGroupGeneration}function te(e){return e.changeGroupGeneration.unavailableReason?e.changeGroupGeneration.unavailableReason:e.changeGroupGeneration.changeGroups.length<1&&!e.changeGroupGeneration.latestChangeGroupOrchestration?(0,h.G7)("hide_groups_list_for_few_groups")?f:m:null}function tt(e){return e.changeGroupGeneration.changeGroupGenerationChannel}function tn(e){return e.changeGroupGenerationActions}function ti(e){return e.changeGroupGeneration.latestChangeGroupOrchestration}function ta(e){return e.changeGroupGeneration.canAccessChangeGroups}function tr(e){return e.showChangeGroupPreference}function ts(e){return e?.threads??x}function tl(e){return Object.values(e).flatMap(ts)}function to(e){return e.getThread}function td(e){return e.commentsPreference}function tc(e,t){let n=e?.threads??x,i=e?.annotations??b;return n.length||i.length?{threads:n,annotations:i,commentsPreference:t}:v}function tu(e){return e?.threads??x}function tm(e){return Object.values(e).flatMap(tu)}function tf(e){return!e.isResolved&&!e.positioning?.isOutdated}function th(e,t){return e+(t.commentsData?.comments?.length??0)}function tp(e){return e.markersActions}function tg(e){return e.markers}function tx(e){return e.pendingReviewActions}function tb(e){return e.pendingReview}function tv(e){return(e.pendingReview?.pendingReviewIDs?.length??0)>0}function ty(e){return e.codeownersActions}function tj(e){return e.filesCollapsedStatusActions}function tC(e){return e.getCollapsedDiffStatus}function tw(e){return e.diffEntries}function tN(e){return e.diffEntriesActions}function tS(e){return e.path}function tL(e){return e.progressiveDiffsActions}function tD(e){return e.diffFilter.state}function t_(e){return e.diffFilterActions}function tI(e){let t=e.diffFilter.state;return t.filterText.length>0||t.unselectedFileExtensions.size>0||!0===t.showOnlyOwnedFiles||!1===t.showDeletedFiles||!0===t.showOnlyManifestFiles||!1===t.showVendoredFiles||!1===t.showViewedFiles}function tR(e){return e.settingsActions}function tk(e){return e.summariesViewedCount}function tA(e){return e.suggestionBatch}function tE(e){return e.suggestionBatchActions}function tT(e){return e.suggestionBatch.isSuggestionBatchPending}},28193:(e,t,n)=>{n.d(t,{q:()=>e1,C:()=>e3});var i=n(74848),a=n(68273),r=n(21728),s=n(50129),l=n(75202),o=n(10583),d=n(80430),c=n(96540),u=n(21373),m=n(16051),f=n(26607),h=n(84268),p=n(34261),g=n(11680),x=n(72579);let b=(0,a.Z6)()?function(e){let t,n,a=(0,r.c)(4),{pullRequest:s}=e;return a[0]!==s.headBranch?(t=function(e){return e.replace(/[\u007F-\uFFFF]/g,v)}(s.headBranch),a[0]=s.headBranch,a[1]=t):t=a[1],a[2]!==t?(n=(0,i.jsx)(g.l,{"aria-label":"Hidden Characters Warning Banner",className:"d-flex flex-row width-full",variant:"warning",title:"Hidden character warning",hideTitle:!0,children:(0,i.jsxs)(g.l.Description,{children:["The head ref may contain hidden characters:"," ",(0,i.jsxs)(x.A,{as:"span",children:['"',t,'"']})]})}),a[2]=t,a[3]=n):n=a[3],n}:function({pullRequest:e}){return(0,i.jsx)(g.l,{"aria-label":"Hidden Characters Warning Banner",className:"d-flex flex-row width-full",variant:"warning",title:"Hidden character warning",hideTitle:!0,children:(0,i.jsxs)(g.l.Description,{children:["The head ref may contain hidden characters:"," ",(0,i.jsxs)(x.A,{as:"span",children:['"',e.headBranch.replace(/[\u007F-\uFFFF]/g,e=>`\\u${`0000${e.charCodeAt(0).toString(16)}`.substr(-4)}`),'"']})]})})};function v(e){return`\\u${`0000${e.charCodeAt(0).toString(16)}`.substr(-4)}`}try{b.displayName||(b.displayName="PullRequestHiddenCharactersBanner")}catch{}var y=n(73017),j=n(81960),C=n(19415),w=n(97665),N=n(94747),S=n(96379);let L=(0,a.Z6)()?function(){let e,t=(0,r.c)(3),n=(0,p.f)(),i=(0,w.jE)();return t[0]!==n||t[1]!==i?(e={networkMode:"always",mutationFn:_,onSuccess:()=>{i.setQueryData(n,D)}},t[0]=n,t[1]=i,t[2]=e):e=t[2],(0,N.n)(e)}:function(){let e=(0,p.f)(),t=(0,w.jE)();return(0,N.n)({networkMode:"always",mutationFn:({dismissPath:e})=>(0,S.Sr)(e,{method:"POST"}),onSuccess:()=>{t.setQueryData(e,e=>{let t={...e};return t.bannersData.banners.dependabotAutomatedSecurityUpdates.showOnboardingPopover=!1,t})}})};function D(e){let t={...e};return t.bannersData.banners.dependabotAutomatedSecurityUpdates.showOnboardingPopover=!1,t}function _(e){let{dismissPath:t}=e;return(0,S.Sr)(t,{method:"POST"})}let I=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,m,f,p=(0,r.c)(21),{onBoardingProps:g}=e,[x,b]=(0,c.useState)(!0),{mutate:v}=L();p[0]!==v||p[1]!==g.dismissNoticePath?(t=()=>{v({dismissPath:g.dismissNoticePath}),b(!1)},p[0]=v,p[1]=g.dismissNoticePath,p[2]=t):t=p[2];let y=t;return p[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(j.A,{as:"h3",variant:"small",children:"Your first automated security update"}),a=(0,i.jsx)("p",{className:"mt-2 f5",children:"Dependabot security updates keep your projects secure and up-to-date."}),p[3]=n,p[4]=a):(n=p[3],a=p[4]),p[5]!==g.repoSettingsPath||p[6]!==g.showOptOut?(s=g.showOptOut&&(0,i.jsxs)("p",{children:["You can opt out at any time in"," ",(0,i.jsx)(h.A,{inline:!0,href:g.repoSettingsPath,children:"this repository\u2019s settings"})]}),p[5]=g.repoSettingsPath,p[6]=g.showOptOut,p[7]=s):s=p[7],p[8]!==y?(l=(0,i.jsx)(u.Q,{block:!1,onClick:y,children:"Got it!"}),p[8]=y,p[9]=l):l=p[9],p[10]!==g.helpURL?(o=(0,i.jsx)(h.A,{className:"ml-3",href:g.helpURL,"aria-label":"Learn more about Dependabot security updates",children:"Learn more"}),p[10]=g.helpURL,p[11]=o):o=p[11],p[12]!==l||p[13]!==o?(d=(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[l,o]}),p[12]=l,p[13]=o,p[14]=d):d=p[14],p[15]!==s||p[16]!==d?(m=(0,i.jsxs)(C.A.Content,{className:"Popover-message Popover-message--large",children:[n,a,s,d]}),p[15]=s,p[16]=d,p[17]=m):m=p[17],p[18]!==x||p[19]!==m?(f=(0,i.jsx)(C.A,{className:"mt-2",open:x,children:m}),p[18]=x,p[19]=m,p[20]=f):f=p[20],f}:function({onBoardingProps:e}){let[t,n]=(0,c.useState)(!0),{mutate:a}=L();return(0,i.jsx)(C.A,{className:"mt-2",open:t,children:(0,i.jsxs)(C.A.Content,{className:"Popover-message Popover-message--large",children:[(0,i.jsx)(j.A,{as:"h3",variant:"small",children:"Your first automated security update"}),(0,i.jsx)("p",{className:"mt-2 f5",children:"Dependabot security updates keep your projects secure and up-to-date."}),e.showOptOut&&(0,i.jsxs)("p",{children:["You can opt out at any time in"," ",(0,i.jsx)(h.A,{inline:!0,href:e.repoSettingsPath,children:"this repository\u2019s settings"})]}),(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)(u.Q,{block:!1,onClick:()=>{a({dismissPath:e.dismissNoticePath}),n(!1)},children:"Got it!"}),(0,i.jsx)(h.A,{className:"ml-3",href:e.helpURL,"aria-label":"Learn more about Dependabot security updates",children:"Learn more"})]})]})})};try{I.displayName||(I.displayName="PullRequestAutomatedSecurityOnboarding")}catch{}var R=n(33578);let k=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,c,u,m=(0,r.c)(28),{dependabotUpdates:f,pullRequest:h}=e;m[0]!==f.securityAlertPath?(t=e=>`<a class="Link Link--underline" href=${f.securityAlertPath}>${e}</a>`,m[0]=f.securityAlertPath,m[1]=t):t=m[1];let p=t,x=A;m[2]!==f.alertPresent||m[3]!==f.packageName||m[4]!==f.severity||m[5]!==f.singleAlert||m[6]!==p?(n=()=>{if(!f.alertPresent)return"Merging this pull request will resolve a Dependabot alert";if(f.singleAlert){let e=`Merging this pull request will resolve a ${x(f.severity)} severity ${p("Dependabot Alert")} on ${f.packageName}`;return(0,i.jsx)(y.JR,{as:"span",html:e})}{let e=`Merging this pull request will resolve ${p("Dependabot Alerts")} on ${f.packageName} including a ${x(f.severity)} severity alert`;return(0,i.jsx)(y.JR,{as:"span",html:e})}},m[2]=f.alertPresent,m[3]=f.packageName,m[4]=f.severity,m[5]=f.singleAlert,m[6]=p,m[7]=n):n=m[7];let b=n;m[8]!==h.state?(a=()=>h.state===R.Q.Merged?"resolved":"would resolve",m[8]=h.state,m[9]=a):a=m[9];let v=a;m[10]!==f.alertPresent||m[11]!==f.packageName?(s=()=>f.alertPresent?`a Dependabot alert on ${f.packageName}.`:"a Dependabot alert",m[10]=f.alertPresent,m[11]=f.packageName,m[12]=s):s=m[12];let j=s;m[13]!==j||m[14]!==b||m[15]!==v||m[16]!==h.state?(l=()=>h.state===R.Q.Open?b():`This pull request ${v()} ${j()}`,m[13]=j,m[14]=b,m[15]=v,m[16]=h.state,m[17]=l):l=m[17];let C=l;return m[18]!==C?(o=C(),m[18]=C,m[19]=o):o=m[19],m[20]!==o?(d=(0,i.jsx)(g.l,{"aria-label":"Automated Security Update Banner",variant:"info",title:"Automated security update",hideTitle:!0,children:(0,i.jsx)(g.l.Description,{children:o})}),m[20]=o,m[21]=d):d=m[21],m[22]!==f.onboardingBannerProps||m[23]!==f.showOnboardingPopover?(c=f.showOnboardingPopover&&(0,i.jsx)(I,{onBoardingProps:f.onboardingBannerProps}),m[22]=f.onboardingBannerProps,m[23]=f.showOnboardingPopover,m[24]=c):c=m[24],m[25]!==d||m[26]!==c?(u=(0,i.jsxs)("div",{className:"width-full",children:[d,c]}),m[25]=d,m[26]=c,m[27]=u):u=m[27],u}:function({dependabotUpdates:e,pullRequest:t}){let n="Merging this pull request will resolve",a="a Dependabot alert",r=t=>`<a class="Link Link--underline" href=${e.securityAlertPath}>${t}</a>`,s=e=>`<strong>${e}</strong>`;return(0,i.jsxs)("div",{className:"width-full",children:[(0,i.jsx)(g.l,{"aria-label":"Automated Security Update Banner",variant:"info",title:"Automated security update",hideTitle:!0,children:(0,i.jsx)(g.l.Description,{children:(()=>{if(t.state!==R.Q.Open)return`This pull request ${t.state===R.Q.Merged?"resolved":"would resolve"} ${e.alertPresent?`a Dependabot alert on ${e.packageName}.`:a}`;if(!e.alertPresent)return`${n} ${a}`;if(e.singleAlert){let t=`${n} a ${s(e.severity)} severity ${r("Dependabot Alert")} on ${e.packageName}`;return(0,i.jsx)(y.JR,{as:"span",html:t})}{let t=`${n} ${r("Dependabot Alerts")} on ${e.packageName} including a ${s(e.severity)} severity alert`;return(0,i.jsx)(y.JR,{as:"span",html:t})}})()})}),e.showOnboardingPopover&&(0,i.jsx)(I,{onBoardingProps:e.onboardingBannerProps})]})};function A(e){return`<strong>${e}</strong>`}try{k.displayName||(k.displayName="PullRequestAutomatedSecurityUpdateBanner")}catch{}var E=n(79634),T=n(25407);let O=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d=(0,r.c)(12),{repository:c}=e,u=`${(0,E.X)().helpUrl}/code-security/dependabot/dependabot-security-updates/about-dependabot-security-updates#about-automatic-deactivation-of-dependabot-updates`;d[0]!==c.name||d[1]!==c.ownerLogin?(t=(0,T.SHX)({owner:c.ownerLogin,repo:c.name,action:"pulls"}),d[0]=c.name,d[1]=c.ownerLogin,d[2]=t):t=d[2];let m=`${t}/app%2Fdependabot`;return d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("br",{}),d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)("b",{children:"@dependabot rebase."}),d[4]=a):a=d[4],d[5]!==m?(s=(0,i.jsx)(h.A,{inline:!0,href:m,children:"See open Dependabot pull requests"}),d[5]=m,d[6]=s):s=d[6],d[7]!==u?(l=(0,i.jsx)(h.A,{inline:!0,href:u,children:"learn more about pausing of activity."}),d[7]=u,d[8]=l):l=d[8],d[9]!==s||d[10]!==l?(o=(0,i.jsx)(g.l,{className:"d-flex flex-row width-full",variant:"warning",title:"Dependabot updates are paused",children:(0,i.jsx)(g.l.Description,{children:(0,i.jsxs)("p",{children:[`We noticed you haven't used Dependabot in a while, so we've paused automated Dependabot
  updates for this repository.`,n,"To resume updates, merge a Dependabot pull request or use "," ",a,".","\xa0",s," ","or","\xa0",l]})})}),d[9]=s,d[10]=l,d[11]=o):o=d[11],o}:function({repository:e}){let t=`We noticed you haven't used Dependabot in a while, so we've paused automated Dependabot
  updates for this repository.`,n=`${(0,E.X)().helpUrl}/code-security/dependabot/dependabot-security-updates/about-dependabot-security-updates#about-automatic-deactivation-of-dependabot-updates`,a=`${(0,T.SHX)({owner:e.ownerLogin,repo:e.name,action:"pulls"})}/app%2Fdependabot`;return(0,i.jsx)(g.l,{className:"d-flex flex-row width-full",variant:"warning",title:"Dependabot updates are paused",children:(0,i.jsx)(g.l.Description,{children:(0,i.jsxs)("p",{children:[t,(0,i.jsx)("br",{}),"To resume updates, merge a Dependabot pull request or use "," ",(0,i.jsx)("b",{children:"@dependabot rebase."}),".","\xa0",(0,i.jsx)(h.A,{inline:!0,href:a,children:"See open Dependabot pull requests"})," ","or","\xa0",(0,i.jsx)(h.A,{inline:!0,href:n,children:"learn more about pausing of activity."})]})})})};try{O.displayName||(O.displayName="PullRequestPausedDependabotBanner")}catch{}let P=(0,a.Z6)()?function(e){let t,n,a,s,l=(0,r.c)(13),{bannersData:o,pullRequest:d,repository:c}=e;return l[0]!==o.banners.hiddenCharacterWarning.render||l[1]!==d?(t=o.banners.hiddenCharacterWarning.render&&(0,i.jsx)(b,{pullRequest:d}),l[0]=o.banners.hiddenCharacterWarning.render,l[1]=d,l[2]=t):t=l[2],l[3]!==o.banners.pausedDependabotUpdate.render||l[4]!==c?(n=o.banners.pausedDependabotUpdate.render&&(0,i.jsx)(O,{repository:c}),l[3]=o.banners.pausedDependabotUpdate.render,l[4]=c,l[5]=n):n=l[5],l[6]!==o.banners.dependabotAutomatedSecurityUpdates||l[7]!==d?(a=o.banners.dependabotAutomatedSecurityUpdates.render&&d.state===R.Q.Open&&(0,i.jsx)(k,{dependabotUpdates:o.banners.dependabotAutomatedSecurityUpdates,pullRequest:d}),l[6]=o.banners.dependabotAutomatedSecurityUpdates,l[7]=d,l[8]=a):a=l[8],l[9]!==t||l[10]!==n||l[11]!==a?(s=(0,i.jsxs)(i.Fragment,{children:[t,n,a]}),l[9]=t,l[10]=n,l[11]=a,l[12]=s):s=l[12],s}:function({bannersData:e,pullRequest:t,repository:n}){return(0,i.jsxs)(i.Fragment,{children:[e.banners.hiddenCharacterWarning.render&&(0,i.jsx)(b,{pullRequest:t}),e.banners.pausedDependabotUpdate.render&&(0,i.jsx)(O,{repository:n}),e.banners.dependabotAutomatedSecurityUpdates.render&&t.state===R.Q.Open&&(0,i.jsx)(k,{dependabotUpdates:e.banners.dependabotAutomatedSecurityUpdates,pullRequest:t})]})};try{P.displayName||(P.displayName="PullRequestBanners")}catch{}var F=n(21968),$=n(86877),M=n(99511),B=n(46251);function V(e){let[t,n]=(0,c.useState)(e),i=(0,c.useRef)(t);return i.current=t,[t,(0,c.useCallback)(e=>{e!==i.current&&n(e)},[])]}var U=n(20622),G=n(53885);let H=(0,a.Z6)()?function(){let e,t,n,i=(0,r.c)(8),a=(0,w.jE)(),s=(0,G.e)(U.uT.updateTitle),l=(0,p.f)();return i[0]!==s?(e=e=>{let{id:t,title:n}=e;return(0,S.Sr)(s,{method:"PATCH",body:{id:t,title:n}})},i[0]=s,i[1]=e):e=i[1],i[2]!==l||i[3]!==a?(t=async e=>{let t=await e.json();if(!e.ok)throw Error(t.errors);a.setQueryData(l,e=>({...e,pullRequest:{...e.pullRequest,title:t.pullRequest.title,titleHtml:t.pullRequest.titleHtml}}))},i[2]=l,i[3]=a,i[4]=t):t=i[4],i[5]!==e||i[6]!==t?(n={networkMode:"always",mutationFn:e,onSuccess:t},i[5]=e,i[6]=t,i[7]=n):n=i[7],(0,N.n)(n)}:function(){let e=(0,w.jE)(),t=(0,G.e)(U.uT.updateTitle),n=(0,p.f)();return(0,N.n)({networkMode:"always",mutationFn:({id:e,title:n})=>(0,S.Sr)(t,{method:"PATCH",body:{id:e,title:n}}),onSuccess:async t=>{let i=await t.json();if(!t.ok)throw Error(i.errors);e.setQueryData(n,e=>({...e,pullRequest:{...e.pullRequest,title:i.pullRequest.title,titleHtml:i.pullRequest.titleHtml}}))}})};function q(e,t){for(let n in e)if(e[n]!==t[n])return!1;return!0}let z=(0,a.Z6)()?function(e,t){let n,i,a,s,l=(0,r.c)(11),o=void 0===t?q:t,[d,u]=(0,c.useState)(!1),m=(0,c.useRef)(e),f=(0,c.useRef)(e);l[0]!==o||l[1]!==d?(n=()=>{let e=!o(m.current,f.current);e!==d&&u(e)},l[0]=o,l[1]=d,l[2]=n):n=l[2];let h=n;l[3]!==h?(i=e=>{f.current={...f.current,...e},h()},l[3]=h,l[4]=i):i=l[4];let p=i;l[5]!==h?(a=e=>{m.current={...m.current,...e},h()},l[5]=h,l[6]=a):a=l[6];let g=a;return l[7]!==p||l[8]!==d||l[9]!==g?(s=[d,p,g],l[7]=p,l[8]=d,l[9]=g,l[10]=s):s=l[10],s}:function(e,t=q){let[n,i]=(0,c.useState)(!1),a=(0,c.useRef)(e),r=(0,c.useRef)(e),s=(0,c.useCallback)(()=>{let e=!t(a.current,r.current);e!==n&&i(e)},[t,n]);return[n,(0,c.useCallback)(e=>{r.current={...r.current,...e},s()},[s]),(0,c.useCallback)(e=>{a.current={...a.current,...e},s()},[s])]},K="Title can't be blank",W="Edit Pull Request Title";function Z(e){return`Title can't be longer than 256 characters (currently ${e.length} characters)`}function Q(e){return e.trim().length>0&&e.length<=256}let X=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,m,f,h,p,g,x,b=(0,r.c)(38),{initialTitle:v,pullRequestNumber:y,onCloseForm:j}=e,[C,w]=(0,c.useState)(v),[N,S]=V(!0),[L,D]=(0,c.useState)(null);b[0]!==v?(t={title:v},b[0]=v,b[1]=t):t=b[1];let[_,I]=z(t),R=(0,c.useRef)(null),{mutate:k,isPending:A}=H();b[2]!==I||b[3]!==S?(n=e=>{w(e.target.value),I({title:e.target.value}),S(Q(e.target.value))},b[2]=I,b[3]=S,b[4]=n):n=b[4];let E=n;b[5]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{D(e),R.current?.focus()},b[5]=a):a=b[5];let T=a;b[6]!==_||b[7]!==N||b[8]!==k||b[9]!==j||b[10]!==y||b[11]!==C?(s=e=>{(e.preventDefault(),D(null),N)?N&&!_?j():k({id:y,title:C},{onError:e=>T(e.message),onSuccess:()=>j()}):R.current?.focus()},b[6]=_,b[7]=N,b[8]=k,b[9]=j,b[10]=y,b[11]=C,b[12]=s):s=b[12];let O=s,P=!N||A;b[13]===Symbol.for("react.memo_cache_sentinel")?(l={narrow:"vertical",regular:"horizontal"},b[13]=l):l=b[13],b[14]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)($.A.Label,{visuallyHidden:!0,children:W}),b[14]=o):o=b[14];let F=N?void 0:"error";return b[15]!==E||b[16]!==F||b[17]!==C?(d=(0,i.jsx)(M.A,{autoFocus:!0,block:!0,className:"f4",contrast:!0,onChange:E,ref:R,validationStatus:F,value:C}),b[15]=E,b[16]=F,b[17]=C,b[18]=d):d=b[18],b[19]!==N||b[20]!==L||b[21]!==C?(m=(0,i.jsx)(J,{isValid:N,saveErrorMessage:L,title:C}),b[19]=N,b[20]=L,b[21]=C,b[22]=m):m=b[22],b[23]!==d||b[24]!==m?(f=(0,i.jsx)(B.B.Item,{grow:!0,children:(0,i.jsxs)($.A,{children:[o,d,m]})}),b[23]=d,b[24]=m,b[25]=f):f=b[25],b[26]!==P?(h=(0,i.jsx)(B.B.Item,{children:(0,i.jsx)(u.Q,{name:"Save",type:"submit",disabled:P,children:"Save"})}),b[26]=P,b[27]=h):h=b[27],b[28]!==A||b[29]!==j?(p=(0,i.jsx)(B.B.Item,{children:(0,i.jsx)(u.Q,{variant:"invisible",onClick:j,disabled:A,children:"Cancel"})}),b[28]=A,b[29]=j,b[30]=p):p=b[30],b[31]!==h||b[32]!==p?(g=(0,i.jsx)(B.B.Item,{children:(0,i.jsxs)(B.B,{direction:"horizontal",gap:"condensed",children:[h,p]})}),b[31]=h,b[32]=p,b[33]=g):g=b[33],b[34]!==O||b[35]!==f||b[36]!==g?(x=(0,i.jsxs)(B.B,{direction:l,gap:"condensed",as:"form",onSubmit:O,children:[f,g]}),b[34]=O,b[35]=f,b[36]=g,b[37]=x):x=b[37],x}:function({initialTitle:e,pullRequestNumber:t,onCloseForm:n}){let[a,r]=(0,c.useState)(e),[s,l]=V(!0),[o,d]=(0,c.useState)(null),[m,f]=z({title:e}),h=(0,c.useRef)(null),{mutate:p,isPending:g}=H(),x=!s||g;return(0,i.jsxs)(B.B,{direction:{narrow:"vertical",regular:"horizontal"},gap:"condensed",as:"form",onSubmit:e=>{(e.preventDefault(),d(null),s)?s&&!m?n():p({id:t,title:a},{onError:e=>{d(e.message),h.current?.focus()},onSuccess:()=>n()}):h.current?.focus()},children:[(0,i.jsx)(B.B.Item,{grow:!0,children:(0,i.jsxs)($.A,{children:[(0,i.jsx)($.A.Label,{visuallyHidden:!0,children:W}),(0,i.jsx)(M.A,{autoFocus:!0,block:!0,className:"f4",contrast:!0,onChange:e=>{r(e.target.value),f({title:e.target.value}),l(Q(e.target.value))},ref:h,validationStatus:s?void 0:"error",value:a}),(0,i.jsx)(J,{isValid:s,saveErrorMessage:o,title:a})]})}),(0,i.jsx)(B.B.Item,{children:(0,i.jsxs)(B.B,{direction:"horizontal",gap:"condensed",children:[(0,i.jsx)(B.B.Item,{children:(0,i.jsx)(u.Q,{name:"Save",type:"submit",disabled:x,children:"Save"})}),(0,i.jsx)(B.B.Item,{children:(0,i.jsx)(u.Q,{variant:"invisible",onClick:n,disabled:g,children:"Cancel"})})]})})]})},J=(0,a.Z6)()?function(e){let t,n=(0,r.c)(8),{isValid:a,saveErrorMessage:s,title:l}=e;n[0]!==l?(t=function(){return 0===l.trim().length?K:l.length>256?Z(l):void 0},n[0]=l,n[1]=t):t=n[1];let o=t;if(a)if(!s)return null;else{let e;return n[6]!==s?(e=(0,i.jsx)($.A.Validation,{variant:"error",children:s}),n[6]=s,n[7]=e):e=n[7],e}{let e,t;return n[2]!==o?(e=o(),n[2]=o,n[3]=e):e=n[3],n[4]!==e?(t=(0,i.jsx)($.A.Validation,{variant:"error",children:e}),n[4]=e,n[5]=t):t=n[5],t}}:function({isValid:e,saveErrorMessage:t,title:n}){return e?t?(0,i.jsx)($.A.Validation,{variant:"error",children:t}):null:(0,i.jsx)($.A.Validation,{variant:"error",children:0===n.trim().length?K:n.length>256?Z(n):void 0})};try{X.displayName||(X.displayName="PullRequestEditTitleForm")}catch{}try{J.displayName||(J.displayName="DisplayError")}catch{}var Y=n(33195),ee=n(38621),et=n(57478),en=n(1481),ei=n(66108),ea=n(61526),er=n(69599),es=n(43073),el=n(13360),eo=n(34164),ed=n(97286);let ec=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),{basePageDataUrl:n}=(0,s.Yu)(),i=`basePageDataURL:${n}`;return t[0]!==i?(e=[U.uT.tabCounts,i],t[0]=i,t[1]=e):e=t[1],e}:function(){let{basePageDataUrl:e}=(0,s.Yu)();return[U.uT.tabCounts,`basePageDataURL:${e}`]},eu=(0,a.Z6)()?function(e){let t,n,i=(0,r.c)(6),a=(0,G.e)(U.uT.tabCounts),s=ec();return i[0]!==a?(t=async()=>{let e=await (0,S.QJ)(a);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},i[0]=a,i[1]=t):t=i[1],i[2]!==e||i[3]!==s||i[4]!==t?(n={queryKey:s,queryFn:t,initialData:e,staleTime:1/0},i[2]=e,i[3]=s,i[4]=t,i[5]=n):n=i[5],(0,ed.I)(n)}:function(e){let t=(0,G.e)(U.uT.tabCounts),n=ec();return(0,ed.I)({queryKey:n,queryFn:async()=>{let e=await (0,S.QJ)(t);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},initialData:e,staleTime:1/0})};var em=n(66446);let ef="PullRequestHeaderNavigation-module__overrideLineHeight--AJ90h",eh="PullRequestHeaderNavigation-module__muteWhenUnselected--F0UGO",ep="PullRequestHeaderNavigation-module__counterLoading--K6XhJ";var eg=n(91747),ex=n(37212),eb=n(72501),ev=n(66559),ey=n(73870);let ej=(0,a.Z6)()?function(e){let t,n=(0,r.c)(8),{pullRequest:a,repository:s,urls:l}=e;if((0,es.E)()){let e;return n[0]!==a||n[1]!==s||n[2]!==l?(e=(0,i.jsx)(ew,{pullRequest:a,repository:s,urls:l}),n[0]=a,n[1]=s,n[2]=l,n[3]=e):e=n[3],e}return n[4]!==a||n[5]!==s||n[6]!==l?(t=(0,i.jsx)(eC,{pullRequest:a,repository:s,urls:l}),n[4]=a,n[5]=s,n[6]=l,n[7]=t):t=n[7],t}:function({pullRequest:e,repository:t,urls:n}){return(0,es.E)()?(0,i.jsx)(ew,{pullRequest:e,repository:t,urls:n}):(0,i.jsx)(eC,{pullRequest:e,repository:t,urls:n})},eC=(0,a.Z6)()?function(e){let t,n=(0,r.c)(5),{pullRequest:a,repository:s,urls:l}=e,{data:o}=eu();return n[0]!==o||n[1]!==a||n[2]!==s||n[3]!==l?(t=(0,i.jsx)(eN,{labelCounts:o,pullRequest:a,repository:s,urls:l}),n[0]=o,n[1]=a,n[2]=s,n[3]=l,n[4]=t):t=n[4],t}:function({pullRequest:e,repository:t,urls:n}){let{data:a}=eu();return(0,i.jsx)(eN,{labelCounts:a,pullRequest:e,repository:t,urls:n})},ew=(0,a.Z6)()?function(e){let t,n=(0,r.c)(6),{pullRequest:a,repository:s,urls:l}=e,{data:o}=(0,el.xX)(em.j,"tabCounts"),d=(0,eg.u)("combined_pr_changes_route");return n[0]!==d||n[1]!==o||n[2]!==a||n[3]!==s||n[4]!==l?(t=(0,i.jsx)(eN,{labelCounts:o,pullRequest:a,repository:s,urls:l,combinedPrChangesRoute:d}),n[0]=d,n[1]=o,n[2]=a,n[3]=s,n[4]=l,n[5]=t):t=n[5],t}:function({pullRequest:e,repository:t,urls:n}){let{data:a}=(0,el.xX)(em.j,"tabCounts"),r=(0,eg.u)("combined_pr_changes_route");return(0,i.jsx)(eN,{labelCounts:a,pullRequest:e,repository:t,urls:n,combinedPrChangesRoute:r})},eN=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,c,u,m,f,h,p,g,x,b,v,y,j,C,w=(0,r.c)(64),{pullRequest:N,repository:S,urls:L,labelCounts:D,combinedPrChangesRoute:_}=e,I=void 0!==_&&_,R=(0,ea.zy)();w[0]!==R.pathname?(t=e=>R.pathname===e,w[0]=R.pathname,w[1]=t):t=w[1];let k=t;w[2]!==R.pathname?(n=e=>R.pathname===e||R.pathname.startsWith(`${e}/`),w[2]=R.pathname,w[3]=n):n=w[3];let A=n,E=`position-relative px-3 flex-shrink-0 text-normal ${eh} ${ef}`,{commitsCount:T}=N,O=D?"":ep;w[4]!==O?(a=(0,eo.$)("ml-2",O),w[4]=O,w[5]=a):a=w[5];let P=a;w[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,er.G7)("hypersight"),w[6]=s):s=w[6];let F=s,$=D?.filesChangedCount??0;w[7]!==P||w[8]!==k||w[9]!==D||w[10]!==N.number||w[11]!==S.name||w[12]!==S.ownerLogin||w[13]!==L.conversation?(l=(0,er.G7)("prs_conversations_react")?(0,i.jsxs)(en.A.Link,{as:ei.N,to:ey.$.generatePath({owner:S.ownerLogin,repo:S.name,pr_number:N.number.toString()}),selected:k(L.conversation),className:E,children:[(0,i.jsx)(ee.CommentDiscussionIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),"Conversation","number"==typeof D?.conversationCount&&(0,i.jsx)(et.A,{className:P,children:D.conversationCount})]}):(0,i.jsxs)(en.A.Link,{href:L.conversation,selected:k(L.conversation),className:E,"data-prefetch":"eager",children:[(0,i.jsx)(ee.CommentDiscussionIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),"Conversation","number"==typeof D?.conversationCount&&(0,i.jsx)(et.A,{className:P,children:D.conversationCount})]}),w[7]=P,w[8]=k,w[9]=D,w[10]=N.number,w[11]=S.name,w[12]=S.ownerLogin,w[13]=L.conversation,w[14]=l):l=w[14],w[15]!==N.number||w[16]!==S.name||w[17]!==S.ownerLogin?(o=ex.Bz.generatePath({owner:S.ownerLogin,repo:S.name,pr_number:N.number.toString()}),w[15]=N.number,w[16]=S.name,w[17]=S.ownerLogin,w[18]=o):o=w[18],w[19]!==A||w[20]!==L.commits?(d=A(L.commits),w[19]=A,w[20]=L.commits,w[21]=d):d=w[21],w[22]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(ee.GitCommitIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),w[22]=c):c=w[22],w[23]!==T?(u="number"==typeof T&&(0,i.jsx)(et.A,{className:"ml-2",children:T}),w[23]=T,w[24]=u):u=w[24],w[25]!==u||w[26]!==o||w[27]!==d?(m=(0,i.jsxs)(en.A.Link,{as:ei.N,to:o,selected:d,className:E,id:"prs-commits-anchor-tab",children:[c,"Commits",u]}),w[25]=u,w[26]=o,w[27]=d,w[28]=m):m=w[28];let M=L.checks,B=k(L.checks);return w[29]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(ee.ChecklistIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),w[29]=f):f=w[29],w[30]!==P||w[31]!==D?(h="number"==typeof D?.checksCount&&(0,i.jsx)(et.A,{className:P,children:D.checksCount}),w[30]=P,w[31]=D,w[32]=h):h=w[32],w[33]!==B||w[34]!==h||w[35]!==L.checks?(p=(0,i.jsxs)(en.A.Link,{href:M,selected:B,className:E,"data-prefetch":"moderate",children:[f,"Checks",h]}),w[33]=B,w[34]=h,w[35]=L.checks,w[36]=p):p=w[36],w[37]!==I||w[38]!==N.number||w[39]!==S.name||w[40]!==S.ownerLogin?(g=I?ev.g.generatePath({owner:S.ownerLogin,repo:S.name,pr_number:N.number.toString()}):eb.c.generatePath({owner:S.ownerLogin,repo:S.name,pr_number:N.number.toString()}),w[37]=I,w[38]=N.number,w[39]=S.name,w[40]=S.ownerLogin,w[41]=g):g=w[41],w[42]!==A||w[43]!==L.changes||w[44]!==L.files?(x=A(L.files)||A(L.changes),w[42]=A,w[43]=L.changes,w[44]=L.files,w[45]=x):x=w[45],w[46]===Symbol.for("react.memo_cache_sentinel")?(b=(0,i.jsx)(ee.FileDiffIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),w[46]=b):b=w[46],w[47]!==P||w[48]!==$||w[49]!==D?(v=D&&D.filesChangedCount?(0,i.jsx)(et.A,{className:P,children:`${$}${D?.filesChangedCountLimitExceeded?"+":""}`}):null,w[47]=P,w[48]=$,w[49]=D,w[50]=v):v=w[50],w[51]!==g||w[52]!==x||w[53]!==v?(y=(0,i.jsxs)(en.A.Link,{as:ei.N,id:"prs-files-anchor-tab",to:g,selected:x,className:E,children:[b,"Files changed",v]}),w[51]=g,w[52]=x,w[53]=v,w[54]=y):y=w[54],w[55]!==k||w[56]!==L.walkthrough?(j=F&&(0,i.jsxs)(en.A.Link,{href:L.walkthrough,selected:k(L.walkthrough),className:E,"data-prefetch":"moderate",children:[(0,i.jsx)(ee.CopilotIcon,{className:"fg-muted mr-2 d-none d-sm-inline-block"}),"Walkthrough"]}),w[55]=k,w[56]=L.walkthrough,w[57]=j):j=w[57],w[58]!==m||w[59]!==p||w[60]!==y||w[61]!==j||w[62]!==l?(C=(0,i.jsxs)(en.A,{"aria-label":"Pull request navigation tabs","data-turbo":"false",children:[l,m,p,y,j]}),w[58]=m,w[59]=p,w[60]=y,w[61]=j,w[62]=l,w[63]=C):C=w[63],C}:function({pullRequest:e,repository:t,urls:n,labelCounts:a,combinedPrChangesRoute:r=!1}){let s=(0,ea.zy)(),l=(0,c.useCallback)(e=>s.pathname===e,[s]),o=(0,c.useCallback)(e=>s.pathname===e||s.pathname.startsWith(`${e}/`),[s]),d=`position-relative px-3 flex-shrink-0 text-normal ${eh} ${ef}`,{commitsCount:u}=e,m="fg-muted mr-2 d-none d-sm-inline-block",f=(0,eo.$)("ml-2",a?"":ep),h=(0,er.G7)("hypersight"),p=a?.filesChangedCount??0;return(0,i.jsxs)(en.A,{"aria-label":"Pull request navigation tabs","data-turbo":"false",children:[(0,er.G7)("prs_conversations_react")?(0,i.jsxs)(en.A.Link,{as:ei.N,to:ey.$.generatePath({owner:t.ownerLogin,repo:t.name,pr_number:e.number.toString()}),selected:l(n.conversation),className:d,children:[(0,i.jsx)(ee.CommentDiscussionIcon,{className:m}),"Conversation","number"==typeof a?.conversationCount&&(0,i.jsx)(et.A,{className:f,children:a.conversationCount})]}):(0,i.jsxs)(en.A.Link,{href:n.conversation,selected:l(n.conversation),className:d,"data-prefetch":"eager",children:[(0,i.jsx)(ee.CommentDiscussionIcon,{className:m}),"Conversation","number"==typeof a?.conversationCount&&(0,i.jsx)(et.A,{className:f,children:a.conversationCount})]}),(0,i.jsxs)(en.A.Link,{as:ei.N,to:ex.Bz.generatePath({owner:t.ownerLogin,repo:t.name,pr_number:e.number.toString()}),selected:o(n.commits),className:d,id:"prs-commits-anchor-tab",children:[(0,i.jsx)(ee.GitCommitIcon,{className:m}),"Commits","number"==typeof u&&(0,i.jsx)(et.A,{className:"ml-2",children:u})]}),(0,i.jsxs)(en.A.Link,{href:n.checks,selected:l(n.checks),className:d,"data-prefetch":"moderate",children:[(0,i.jsx)(ee.ChecklistIcon,{className:m}),"Checks","number"==typeof a?.checksCount&&(0,i.jsx)(et.A,{className:f,children:a.checksCount})]}),(0,i.jsxs)(en.A.Link,{as:ei.N,id:"prs-files-anchor-tab",to:r?ev.g.generatePath({owner:t.ownerLogin,repo:t.name,pr_number:e.number.toString()}):eb.c.generatePath({owner:t.ownerLogin,repo:t.name,pr_number:e.number.toString()}),selected:o(n.files)||o(n.changes),className:d,children:[(0,i.jsx)(ee.FileDiffIcon,{className:m}),"Files changed",a&&a.filesChangedCount?(0,i.jsx)(et.A,{className:f,children:`${p}${a?.filesChangedCountLimitExceeded?"+":""}`}):null]}),h&&(0,i.jsxs)(en.A.Link,{href:n.walkthrough,selected:l(n.walkthrough),className:d,"data-prefetch":"moderate",children:[(0,i.jsx)(ee.CopilotIcon,{className:m}),"Walkthrough"]})]})};try{ej.displayName||(ej.displayName="PullRequestHeaderNavigation")}catch{}try{eC.displayName||(eC.displayName="PullRequestHeaderNavigationNavigator")}catch{}try{ew.displayName||(ew.displayName="PullRequestHeaderNavigationData")}catch{}try{eN.displayName||(eN.displayName="PullRequestHeaderNavigationShared")}catch{}var eS=n(89155),eL=n(5524),eD=n(10095),e_=n(49086),eI=n(26410),eR=n(96459),ek=n(13107);let eA="PullRequestCodeButton-module__ActionList_Divider--RyrUL",eE=(0,a.Z6)()?function(e){let t,n,a,s=(0,r.c)(10),{codespacesEnabled:l,headBranch:o,isEnterprise:d,pullRequestNumber:c,repository:u}=e;s[0]!==o||s[1]!==u.id?(t=(0,ek.QS)(u.id,o),s[0]=o,s[1]=u.id,s[2]=t):t=s[2];let m=t;return s[3]!==c?(n=(0,i.jsx)(eT,{pullNumber:c}),s[3]=c,s[4]=n):n=s[4],s[5]!==l||s[6]!==m||s[7]!==d||s[8]!==n?(a=(0,i.jsx)(e_.n,{primary:!1,size:"small",isEnterprise:d,showCodespacesTab:l,codespacesPath:m,localTab:n}),s[5]=l,s[6]=m,s[7]=d,s[8]=n,s[9]=a):a=s[9],a}:function({codespacesEnabled:e,headBranch:t,isEnterprise:n,pullRequestNumber:a,repository:r}){let s=(0,ek.QS)(r.id,t);return(0,i.jsx)(e_.n,{primary:!1,size:"small",isEnterprise:n,showCodespacesTab:e,codespacesPath:s,localTab:(0,i.jsx)(eT,{pullNumber:a})})},eT=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,c,u,m=(0,r.c)(15),{pullNumber:f}=e,p=`gh pr checkout ${f}`,g=(0,eR.Z)();return m[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("div",{className:"d-flex flex-items-center mb-2",children:[(0,i.jsx)(eD.A,{className:"mr-2",icon:ee.TerminalIcon}),(0,i.jsx)("p",{className:"text-bold mb-0",children:"Checkout with GitHub CLI"})]}),m[0]=t):t=m[0],m[1]!==p?(n=(0,i.jsx)(eI.J,{buttonAriaLabel:"Copy command to clipboard",inputId:"checkout-with-gh-cli",inputLabel:"Checkout with GitHub CLI command",url:p}),m[1]=p,m[2]=n):n=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("p",{className:"text-normal color-fg-muted",children:["Work fast with our official CLI."," ",(0,i.jsx)(h.A,{inline:!0,href:"https://cli.github.com",target:"_blank","aria-label":"Learn more about the GitHub CLI",children:"Learn more"})]}),m[3]=a):a=m[3],m[4]!==n?(s=(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{className:"mt-2 px-3 py-2",children:[t,n,a]})}),m[4]=n,m[5]=s):s=m[5],m[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsx)(eL.l.Divider,{className:eA}),m[6]=l):l=m[6],m[7]!==g?(o=()=>g("https://desktop.github.com"),m[7]=g,m[8]=o):o=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)(eD.A,{className:"mr-2",icon:ee.DesktopDownloadIcon}),(0,i.jsx)("p",{className:"text-bold mb-0",children:"Checkout with GitHub Desktop"})]}),m[9]=d):d=m[9],m[10]!==o?(c=(0,i.jsx)(eL.l.Item,{className:"mx-0 py-3 px-3 width-full rounded-0",onSelect:o,children:d}),m[10]=o,m[11]=c):c=m[11],m[12]!==s||m[13]!==c?(u=(0,i.jsxs)(eL.l,{className:"py-0",children:[s,l,c]}),m[12]=s,m[13]=c,m[14]=u):u=m[14],u}:function(e){let{pullNumber:t}=e,n="Checkout with GitHub CLI",a=`gh pr checkout ${t}`,r=(0,eR.Z)();return(0,i.jsxs)(eL.l,{className:"py-0",children:[(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{className:"mt-2 px-3 py-2",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center mb-2",children:[(0,i.jsx)(eD.A,{className:"mr-2",icon:ee.TerminalIcon}),(0,i.jsx)("p",{className:"text-bold mb-0",children:n})]}),(0,i.jsx)(eI.J,{buttonAriaLabel:"Copy command to clipboard",inputId:"checkout-with-gh-cli",inputLabel:`${n} command`,url:a}),(0,i.jsxs)("p",{className:"text-normal color-fg-muted",children:["Work fast with our official CLI."," ",(0,i.jsx)(h.A,{inline:!0,href:"https://cli.github.com",target:"_blank","aria-label":"Learn more about the GitHub CLI",children:"Learn more"})]})]})}),(0,i.jsx)(eL.l.Divider,{className:eA}),(0,i.jsx)(eL.l.Item,{className:"mx-0 py-3 px-3 width-full rounded-0",onSelect:()=>r("https://desktop.github.com"),children:(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)(eD.A,{className:"mr-2",icon:ee.DesktopDownloadIcon}),(0,i.jsx)("p",{className:"text-bold mb-0",children:"Checkout with GitHub Desktop"})]})})]})};try{eE.displayName||(eE.displayName="PullRequestCodeButton")}catch{}try{eT.displayName||(eT.displayName="LocalTab")}catch{}var eO=n(91618),eP=n(65510);let eF=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),n=(0,G.e)(U.uT.diffstat);return t[0]!==n?(e={queryKey:[U.uT.diffstat,n],queryFn:async()=>{let e=await (0,S.QJ)(n);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},staleTime:1/0},t[0]=n,t[1]=e):e=t[1],(0,eP.U)(e)}:function(){let e=(0,G.e)(U.uT.diffstat);return(0,eP.U)({queryKey:[U.uT.diffstat,e],queryFn:async()=>{let t=await (0,S.QJ)(e);if(!t.ok)throw Error(`HTTP ${t.status}`);return await t.json()},staleTime:1/0})},e$=(0,a.Z6)()?function(){let e,t=(0,r.c)(2);if((0,es.E)()){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(eB,{}),t[0]=e):e=t[0],e}return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(eM,{}),t[1]=e):e=t[1],e}:function(){return(0,es.E)()?(0,i.jsx)(eB,{}):(0,i.jsx)(eM,{})},eM=(0,a.Z6)()?function(){let e,t=(0,r.c)(4),{data:n}=eF(),{diffstat:a}=n;return t[0]!==a.linesAdded||t[1]!==a.linesChanged||t[2]!==a.linesDeleted?(e=(0,i.jsx)(eO.z,{linesAdded:a.linesAdded,linesDeleted:a.linesDeleted,linesChanged:a.linesChanged}),t[0]=a.linesAdded,t[1]=a.linesChanged,t[2]=a.linesDeleted,t[3]=e):e=t[3],e}:function(){let{data:{diffstat:e}}=eF();return(0,i.jsx)(eO.z,{linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,linesChanged:e.linesChanged})},eB=(0,a.Z6)()?function(){let e,t=(0,r.c)(4),{data:n}=(0,el.xX)(em.j,"diffstat");if(!n||!n.diffstat)return null;let{diffstat:a}=n;return t[0]!==a.linesAdded||t[1]!==a.linesChanged||t[2]!==a.linesDeleted?(e=(0,i.jsx)(eO.z,{linesAdded:a.linesAdded,linesDeleted:a.linesDeleted,linesChanged:a.linesChanged}),t[0]=a.linesAdded,t[1]=a.linesChanged,t[2]=a.linesDeleted,t[3]=e):e=t[3],e}:function(){let{data:e}=(0,el.xX)(em.j,"diffstat");if(!e||!e.diffstat)return null;let{diffstat:t}=e;return(0,i.jsx)(eO.z,{linesAdded:t.linesAdded,linesDeleted:t.linesDeleted,linesChanged:t.linesChanged})};try{e$.displayName||(e$.displayName="DiffStat")}catch{}try{eM.displayName||(eM.displayName="NavigatorDiffStat")}catch{}try{eB.displayName||(eB.displayName="DataRouterDiffStat")}catch{}let eV="PullRequestHeader-module__diffStatesWrapper--fPApA",eU="PullRequestHeader-module__PreviewLabel--kauC0";var eG=n(31675),eH=n(81945),eq=n(21067),ez=n(71315);let eK=(0,a.Z6)()?function(e){let t,n,a=(0,r.c)(10),{aliveChannel:s,bannersData:l,isFilesRoute:o,pullRequest:d,repository:c,urls:u,user:m}=e;a[0]!==s||a[1]!==l||a[2]!==d||a[3]!==c||a[4]!==u||a[5]!==m?(t={aliveChannel:s,repository:c,pullRequest:d,bannersData:l,urls:u,user:m},a[0]=s,a[1]=l,a[2]=d,a[3]=c,a[4]=u,a[5]=m,a[6]=t):t=a[6];let{data:f}=(0,p.W)(t);return(0,eS.F)(s),a[7]!==f||a[8]!==o?(n=(0,i.jsx)(eW,{...f,isFilesRoute:o}),a[7]=f,a[8]=o,a[9]=n):n=a[9],n}:function({aliveChannel:e,bannersData:t,isFilesRoute:n,pullRequest:a,repository:r,urls:s,user:l}){let{data:o}=(0,p.W)({aliveChannel:e,repository:r,pullRequest:a,bannersData:t,urls:s,user:l});return(0,eS.F)(e),(0,i.jsx)(eW,{...o,isFilesRoute:n})},eW=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,f,h,p,g,x,b,v,j,C,w,N,S=(0,r.c)(76),{bannersData:L,isFilesRoute:D,pullRequest:_,repository:I,urls:R,user:k}=e,[A,E]=(0,c.useState)(!1);S[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eq.M3)(),S[0]=t):t=S[0];let T=t;S[1]!==D||S[2]!==I||S[3]!==R?(n=D&&(0,i.jsx)(eZ,{repository:I,urls:R}),S[1]=D,S[2]=I,S[3]=R,S[4]=n):n=S[4],S[5]!==_.headBranch||S[6]!==_.number||S[7]!==I||S[8]!==k.canEditTitle?(a=T&&(0,i.jsxs)(i.Fragment,{children:[k.canEditTitle&&(0,i.jsx)(u.Q,{onClick:()=>E(!0),size:"small",children:"Edit"}),(0,i.jsx)(eE,{codespacesEnabled:I.codespacesEnabled,headBranch:_.headBranch,isEnterprise:I.isEnterprise,pullRequestNumber:_.number,repository:I})]}),S[5]=_.headBranch,S[6]=_.number,S[7]=I,S[8]=k.canEditTitle,S[9]=a):a=S[9],S[10]!==n||S[11]!==a?(s=(0,i.jsxs)(i.Fragment,{children:[n,a]}),S[10]=n,S[11]=a,S[12]=s):s=S[12];let O=s;return S[13]!==A||S[14]!==_.number||S[15]!==_.title?(l=A&&(0,i.jsx)(X,{initialTitle:_.title,pullRequestNumber:_.number,onCloseForm:()=>E(!1)}),S[13]=A,S[14]=_.number,S[15]=_.title,S[16]=l):l=S[16],S[17]!==A||S[18]!==O?(o=!A&&(0,i.jsx)("div",{className:(0,eo.$)(eG.A["hide-on-desktop"],"pb-2 mb-3 flex-md-order-1 flex-shrink-0 d-flex flex-items-center gap-1"),children:O}),S[17]=A,S[18]=O,S[19]=o):o=S[19],S[20]!==A||S[21]!==_.number||S[22]!==_.title?(d=A&&(0,i.jsx)("h1",{className:"sr-only",children:`${_.title} - #${_.number}`}),S[20]=A,S[21]=_.number,S[22]=_.title,S[23]=d):d=S[23],S[24]!==A||S[25]!==_.number||S[26]!==_.titleHtml||S[27]!==O?(f=!A&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.z.TitleArea,{children:(0,i.jsxs)(m.z.Title,{as:"h1",className:"lh-condensed",children:[(0,i.jsx)(y.JR,{className:"f1 text-normal markdown-title",html:_.titleHtml}),(0,i.jsxs)("span",{className:"pl-2 fgColor-muted f1-light d-inline",children:["#",_.number]})]})}),(0,i.jsx)(m.z.Actions,{className:(0,eo.$)(eG.A["hide-on-mobile"],"flex-items-center gap-1"),children:O})]}),S[24]=A,S[25]=_.number,S[26]=_.titleHtml,S[27]=O,S[28]=f):f=S[28],S[29]!==_.state?(h=(0,i.jsx)(Y.u,{state:_.state}),S[29]=_.state,S[30]=h):h=S[30],S[31]!==A||S[32]!==_.author||S[33]!==_.baseBranch||S[34]!==_.commitsCount||S[35]!==_.headBranch||S[36]!==_.headRepositoryName||S[37]!==_.headRepositoryOwnerLogin||S[38]!==_.id||S[39]!==_.isInAdvisoryRepo||S[40]!==_.mergedBy||S[41]!==_.mergedByName||S[42]!==_.mergedTime||S[43]!==_.number||S[44]!==_.state||S[45]!==I.defaultBranch||S[46]!==I.id||S[47]!==I.name||S[48]!==I.ownerLogin||S[49]!==k.canChangeBase?(p=(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(F.O,{author:_.author,mergedTime:_.mergedTime,baseBranch:_.baseBranch,baseRepositoryDefaultBranch:I.defaultBranch,baseRepositoryName:I.name,baseRepositoryOwnerLogin:I.ownerLogin,canChangeBase:k.canChangeBase,commitsCount:_.commitsCount,headBranch:_.headBranch,headRepositoryOwnerLogin:_.headRepositoryOwnerLogin,headRepositoryName:_.headRepositoryName,isInAdvisoryRepo:_.isInAdvisoryRepo,isEditing:A,mergedBy:_.mergedBy,mergedByName:_.mergedByName,repositoryId:I.id,pullRequestId:_.id,pullRequestNumber:_.number,setIsEditing:E,state:_.state})}),S[31]=A,S[32]=_.author,S[33]=_.baseBranch,S[34]=_.commitsCount,S[35]=_.headBranch,S[36]=_.headRepositoryName,S[37]=_.headRepositoryOwnerLogin,S[38]=_.id,S[39]=_.isInAdvisoryRepo,S[40]=_.mergedBy,S[41]=_.mergedByName,S[42]=_.mergedTime,S[43]=_.number,S[44]=_.state,S[45]=I.defaultBranch,S[46]=I.id,S[47]=I.name,S[48]=I.ownerLogin,S[49]=k.canChangeBase,S[50]=p):p=S[50],S[51]!==p||S[52]!==h?(g=(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2 width-full flex-items-start flex-justify-between",children:[h,p]}),S[51]=p,S[52]=h,S[53]=g):g=S[53],S[54]!==L||S[55]!==_||S[56]!==I?(x=(0,i.jsx)(P,{bannersData:L,pullRequest:_,repository:I}),S[54]=L,S[55]=_,S[56]=I,S[57]=x):x=S[57],S[58]!==g||S[59]!==x?(b=(0,i.jsxs)(m.z.Description,{className:"d-flex flex-column flex-items-start",children:[g,x]}),S[58]=g,S[59]=x,S[60]=b):b=S[60],S[61]===Symbol.for("react.memo_cache_sentinel")?(v=(0,eo.$)(eV,"float-right d-none d-md-block"),S[61]=v):v=S[61],S[62]===Symbol.for("react.memo_cache_sentinel")?(j=(0,i.jsx)("div",{className:v,children:(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)(eH.O,{width:"80px"}),children:(0,i.jsx)(e$,{})})}),S[62]=j):j=S[62],S[63]!==_||S[64]!==I||S[65]!==R?(C=(0,i.jsxs)(m.z.Navigation,{className:"pt-3 px-3 ml-n3 mr-n3",children:[j,(0,i.jsx)("div",{className:"flex-auto",children:(0,i.jsx)(ej,{pullRequest:_,repository:I,urls:R})})]}),S[63]=_,S[64]=I,S[65]=R,S[66]=C):C=S[66],S[67]!==b||S[68]!==C||S[69]!==d||S[70]!==f?(w=(0,i.jsxs)(m.z,{className:"flex-items-center",children:[d,f,b,C]}),S[67]=b,S[68]=C,S[69]=d,S[70]=f,S[71]=w):w=S[71],S[72]!==w||S[73]!==l||S[74]!==o?(N=(0,i.jsxs)(i.Fragment,{children:[l,o,w]}),S[72]=w,S[73]=l,S[74]=o,S[75]=N):N=S[75],N}:function({bannersData:e,isFilesRoute:t,pullRequest:n,repository:a,urls:r,user:s}){let[l,o]=(0,c.useState)(!1),d=(0,eq.M3)(),f=(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(eZ,{repository:a,urls:r}),d&&(0,i.jsxs)(i.Fragment,{children:[s.canEditTitle&&(0,i.jsx)(u.Q,{onClick:()=>o(!0),size:"small",children:"Edit"}),(0,i.jsx)(eE,{codespacesEnabled:a.codespacesEnabled,headBranch:n.headBranch,isEnterprise:a.isEnterprise,pullRequestNumber:n.number,repository:a})]})]});return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(X,{initialTitle:n.title,pullRequestNumber:n.number,onCloseForm:()=>o(!1)}),!l&&(0,i.jsx)("div",{className:(0,eo.$)(eG.A["hide-on-desktop"],"pb-2 mb-3 flex-md-order-1 flex-shrink-0 d-flex flex-items-center gap-1"),children:f}),(0,i.jsxs)(m.z,{className:"flex-items-center",children:[l&&(0,i.jsx)("h1",{className:"sr-only",children:`${n.title} - #${n.number}`}),!l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.z.TitleArea,{children:(0,i.jsxs)(m.z.Title,{as:"h1",className:"lh-condensed",children:[(0,i.jsx)(y.JR,{className:"f1 text-normal markdown-title",html:n.titleHtml}),(0,i.jsxs)("span",{className:"pl-2 fgColor-muted f1-light d-inline",children:["#",n.number]})]})}),(0,i.jsx)(m.z.Actions,{className:(0,eo.$)(eG.A["hide-on-mobile"],"flex-items-center gap-1"),children:f})]}),(0,i.jsxs)(m.z.Description,{className:"d-flex flex-column flex-items-start",children:[(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2 width-full flex-items-start flex-justify-between",children:[(0,i.jsx)(Y.u,{state:n.state}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(F.O,{author:n.author,mergedTime:n.mergedTime,baseBranch:n.baseBranch,baseRepositoryDefaultBranch:a.defaultBranch,baseRepositoryName:a.name,baseRepositoryOwnerLogin:a.ownerLogin,canChangeBase:s.canChangeBase,commitsCount:n.commitsCount,headBranch:n.headBranch,headRepositoryOwnerLogin:n.headRepositoryOwnerLogin,headRepositoryName:n.headRepositoryName,isInAdvisoryRepo:n.isInAdvisoryRepo,isEditing:l,mergedBy:n.mergedBy,mergedByName:n.mergedByName,repositoryId:a.id,pullRequestId:n.id,pullRequestNumber:n.number,setIsEditing:o,state:n.state})})]}),(0,i.jsx)(P,{bannersData:e,pullRequest:n,repository:a})]}),(0,i.jsxs)(m.z.Navigation,{className:"pt-3 px-3 ml-n3 mr-n3",children:[(0,i.jsx)("div",{className:(0,eo.$)(eV,"float-right d-none d-md-block"),children:(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)(eH.O,{width:"80px"}),children:(0,i.jsx)(e$,{})})}),(0,i.jsx)("div",{className:"flex-auto",children:(0,i.jsx)(ej,{pullRequest:n,repository:a,urls:r})})]})]})]})},eZ=(0,a.Z6)()?function(e){let t,n,a,s,l,o,d,c,u=(0,r.c)(11),{repository:m,urls:p}=e;u[0]!==m?(t=async()=>{let e=new FormData;e.append("feature_name","prx_files"),await (0,S.DI)((0,T.ZD8)({repo:m}),{body:e,method:"POST"})},u[0]=m,u[1]=t):t=u[1];let g=t;u[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,eq.M3)(),u[2]=n):n=u[2];let x=n,b=ez.fV.pathname??"",v=ez.fV.search??"";return a=b?`${b}${v?`${v}&`:"?"}new_files_changed=false`:`${p.files}?new_files_changed=false`,u[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)(f.A,{variant:"success",className:eU,children:"Preview"}),u[3]=s):s=u[3],u[4]!==g||u[5]!==a?(l=x&&(0,i.jsx)(h.A,{href:a,onClick:g,className:"no-wrap f6 text-normal",children:"Switch back"}),u[4]=g,u[5]=a,u[6]=l):l=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)("span",{className:"f5",children:"\xb7"}),d=(0,i.jsx)(h.A,{href:"https://gh.io/new-files-changed-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f6 text-normal",children:"Feedback"}),u[7]=o,u[8]=d):(o=u[7],d=u[8]),u[9]!==l?(c=(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-1 flex-order-2 flex-md-order-none pl-2 pl-md-0 pr-2",children:[s,l,o,d]}),u[9]=l,u[10]=c):c=u[10],c}:function({repository:e,urls:t}){let n,a=async()=>{let t=new FormData;t.append("feature_name","prx_files"),await (0,S.DI)((0,T.ZD8)({repo:e}),{body:t,method:"POST"})},r=(0,eq.M3)(),s=ez.fV.pathname??"",l=ez.fV.search??"";return n=s?`${s}${l?`${l}&`:"?"}new_files_changed=false`:`${t.files}?new_files_changed=false`,(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-1 flex-order-2 flex-md-order-none pl-2 pl-md-0 pr-2",children:[(0,i.jsx)(f.A,{variant:"success",className:eU,children:"Preview"}),r&&(0,i.jsx)(h.A,{href:n,onClick:a,className:"no-wrap f6 text-normal",children:"Switch back"}),(0,i.jsx)("span",{className:"f5",children:"\xb7"}),(0,i.jsx)(h.A,{href:"https://gh.io/new-files-changed-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f6 text-normal",children:"Feedback"})]})};try{eK.displayName||(eK.displayName="LivePullRequestHeader")}catch{}try{eW.displayName||(eW.displayName="PullRequestHeader")}catch{}try{eZ.displayName||(eZ.displayName="FilesChangedFeedback")}catch{}let eQ="/:owner/:repo/pull/:pr_number/files",eX="/:owner/:repo/pull/:pr_number/changes";var eJ=n(24798),eY=n(67718),e0=n(68245);let e1=(0,a.Z6)()?function(e){let t,n,a=(0,r.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(o.M,{}),a[0]=t):t=a[0],a[1]!==e.children?(n=(0,i.jsx)(l.t,{critical:!0,fallback:t,children:(0,i.jsx)(e2,{children:e.children})}),a[1]=e.children,a[2]=n):n=a[2],n}:function(e){return(0,i.jsx)(l.t,{critical:!0,fallback:(0,i.jsx)(o.M,{}),children:(0,i.jsx)(e2,{children:e.children})})},e2=(0,a.Z6)()?function(e){let t,n=(0,r.c)(8),{aliveChannel:a,pullRequest:s,bannersData:l,repository:o,urls:d,user:c}=(0,eJ.o)();return n[0]!==a||n[1]!==l||n[2]!==e.children||n[3]!==s||n[4]!==o||n[5]!==d||n[6]!==c?(t=(0,i.jsx)(e3,{aliveChannel:a,pullRequest:s,bannersData:l,repository:o,urls:d,user:c,children:e.children}),n[0]=a,n[1]=l,n[2]=e.children,n[3]=s,n[4]=o,n[5]=d,n[6]=c,n[7]=t):t=n[7],t}:function(e){let{aliveChannel:t,pullRequest:n,bannersData:a,repository:r,urls:s,user:l}=(0,eJ.o)();return(0,i.jsx)(e3,{aliveChannel:t,pullRequest:n,bannersData:a,repository:r,urls:s,user:l,children:e.children})},e3=(0,a.Z6)()?function(e){let t,n,a,l,o=(0,r.c)(18),{aliveChannel:c,pullRequest:u,bannersData:m,repository:f,urls:h,user:p,children:g}=e,x=null!==(0,ea.RQ)(`${eQ}/*`),b=null!==(0,ea.RQ)(`${eX}/*`),v=x||b,y=v?d.L2:d.vT,j=f.userNameDisplayConfiguration||void 0,C=`mt-4 ${y}`;return o[0]!==c||o[1]!==m||o[2]!==v||o[3]!==u||o[4]!==f||o[5]!==h||o[6]!==p?(t=(0,i.jsx)(eY.b.Header,{divider:"none",padding:"none",children:(0,i.jsx)(eK,{aliveChannel:c,bannersData:m,isFilesRoute:v,repository:f,pullRequest:u,urls:h,user:p})}),o[0]=c,o[1]=m,o[2]=v,o[3]=u,o[4]=f,o[5]=h,o[6]=p,o[7]=t):t=o[7],o[8]!==g||o[9]!==C||o[10]!==t?(n=(0,i.jsxs)(eY.b.Container,{className:C,children:[t,g]}),o[8]=g,o[9]=C,o[10]=t,o[11]=n):n=o[11],o[12]!==j||o[13]!==n?(a=(0,i.jsx)(e0.z,{value:j,children:n}),o[12]=j,o[13]=n,o[14]=a):a=o[14],o[15]!==a||o[16]!==h.conversation?(l=(0,i.jsx)(s.Kg,{basePageDataUrl:h.conversation,children:a}),o[15]=a,o[16]=h.conversation,o[17]=l):l=o[17],l}:function({aliveChannel:e,pullRequest:t,bannersData:n,repository:a,urls:r,user:l,children:o}){let c=null!==(0,ea.RQ)(`${eQ}/*`),u=null!==(0,ea.RQ)(`${eX}/*`),m=c||u,f=m?d.L2:d.vT;return(0,i.jsx)(s.Kg,{basePageDataUrl:r.conversation,children:(0,i.jsx)(e0.z,{value:a.userNameDisplayConfiguration||void 0,children:(0,i.jsxs)(eY.b.Container,{className:`mt-4 ${f}`,children:[(0,i.jsx)(eY.b.Header,{divider:"none",padding:"none",children:(0,i.jsx)(eK,{aliveChannel:e,bannersData:n,isFilesRoute:m,repository:a,pullRequest:t,urls:r,user:l})}),o]})})})};try{e1.displayName||(e1.displayName="App")}catch{}try{e2.displayName||(e2.displayName="Layout")}catch{}try{e3.displayName||(e3.displayName="LayoutComponent")}catch{}},28199:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(96540),a=n(2694);function r(e){let[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),l={root:null,rootMargin:"0px",threshold:[0,1],...e},o=(0,i.useCallback)(e=>{let[t]=e;s(1>(t?.intersectionRatio||0)),n((t?.rootBounds?.height??0)>0)},[s]),[d,c]=(0,a.B)(o,l);return{isSticky:r,hasRoots:t,observe:d,unobserve:c}}},30923:(e,t,n)=>{n.d(t,{Ee:()=>o,b4:()=>d,Ts:()=>l});var i=n(50467);let a=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),(0,i._)(this,"response",void 0),this.response=t,this.name="ResponseError"}};var r=n(69759),s=n(51987);async function l(e,t,n){let i=new Request(t,n);(0,s.tV)(i.headers);let l=await self.fetch(i);if(l.status<200||l.status>=300)throw Error(`HTTP ${l.status}${l.statusText||""}`);return!function(e,t,n=!1){let i=t.headers.get("content-type")||"";if(!n&&!i.startsWith("text/html"))throw new a(`expected response with text/html, but was ${i}`,t);if(n&&!(i.startsWith("text/html")||i.startsWith("application/json")))throw new a(`expected response with text/html or application/json, but was ${i}`,t);let r=t.headers.get("x-html-safe");if(r){if(!e.includes(r))throw new a("response X-HTML-Safe nonce did not match",t)}else throw new a("missing X-HTML-Safe nonce",t)}(function(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}(e),l),(0,r.B)(e,await l.text())}function o(e,t,n=1e3,i=[200],a=[202]){return async function n(r){let l=new Request(e,t);(0,s.tV)(l.headers);let o=await self.fetch(l);if(a.includes(o.status))return await new Promise(e=>setTimeout(e,r)),n(1.5*r);if(i.includes(o.status))return o;if(o.status<200||o.status>=300)throw Error(`HTTP ${o.status}${o.statusText||""}`);throw Error(`Unexpected ${o.status} response status from poll endpoint`)}(n)}async function d(e,t,n){let{wait:i=500,acceptedStatusCodes:a=[200],max:r=3,attempt:l=0}=n||{},o=async()=>new Promise((n,o)=>{setTimeout(async()=>{try{let i=new Request(e,t);(0,s.tV)(i.headers);let o=await self.fetch(i);if(a.includes(o.status)||l+1===r)return n(o);n("retry")}catch(e){o(e)}},i*l)}),c=await o();return"retry"!==c?c:d(e,t,{wait:i,acceptedStatusCodes:a,max:r,attempt:l+1})}},31675:(e,t,n)=>{n.d(t,{A:()=>i});let i={"hide-on-mobile":"responsive-module__hide-on-mobile--lWlU1","hide-on-desktop":"responsive-module__hide-on-desktop--op38F","hide-on-small":"responsive-module__hide-on-small--oDr47","hide-on-medium-up":"responsive-module__hide-on-medium-up--imsgz"}},33195:(e,t,n)=>{n.d(t,{u:()=>u});var i=n(74848),a=n(68273),r=n(21728),s=n(46589),l=n(96540),o=n(34164);let d="PullRequestStateLabel-module__unlisted--pcrfP";var c=n(33578);let u=(0,a.Z6)()?function(e){let t,n,a=(0,r.c)(7),{className:l,state:u}=e,f=c.a[u];if(u===c.Q.Unlisted){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)("span",{className:d,children:[(0,i.jsx)(m,{})," Unlisted"]}),a[0]=e):e=a[0],e}a[1]!==l?(t=(0,o.$)("flex-self-start",l),a[1]=l,a[2]=t):t=a[2];let h=f.status;return a[3]!==f.description||a[4]!==t||a[5]!==h?(n=(0,i.jsx)(s.A,{className:t,status:h,children:f.description}),a[3]=f.description,a[4]=t,a[5]=h,a[6]=n):n=a[6],n}:function({className:e,state:t}){let n=(0,l.useMemo)(()=>c.a[t],[t]);return t===c.Q.Unlisted?(0,i.jsxs)("span",{className:d,children:[(0,i.jsx)(m,{})," Unlisted"]}):(0,i.jsx)(s.A,{className:(0,o.$)("flex-self-start",e),status:n.status,children:n.description})},m=(0,a.Z6)()?function(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 3.25C2.5 2.83579 2.83579 2.5 3.25 2.5C3.66421 2.5 4 2.83579 4 3.25C4 3.66421 3.66421 4 3.25 4C2.83579 4 2.5 3.66421 2.5 3.25ZM3.25 1C2.00736 1 1 2.00736 1 3.25C1 4.22966 1.62611 5.06309 2.5 5.37197V10.628C1.62611 10.9369 1 11.7703 1 12.75C1 13.9926 2.00736 15 3.25 15C4.49264 15 5.5 13.9926 5.5 12.75C5.5 11.7703 4.87389 10.9369 4 10.628V5.37197C4.87389 5.06309 5.5 4.22966 5.5 3.25C5.5 2.00736 4.49264 1 3.25 1ZM3.25 12C2.83579 12 2.5 12.3358 2.5 12.75C2.5 13.1642 2.83579 13.5 3.25 13.5C3.66421 13.5 4 13.1642 4 12.75C4 12.3358 3.66421 12 3.25 12Z"}),(0,i.jsx)("path",{d:"M14 7.5C14 8.19036 13.3844 8.75 12.625 8.75C11.8656 8.75 11.25 8.19036 11.25 7.5C11.25 6.80964 11.8656 6.25 12.625 6.25C13.3844 6.25 14 6.80964 14 7.5Z"}),(0,i.jsx)("path",{d:"M14 2.75C14 3.44036 13.3844 4 12.625 4C11.8656 4 11.25 3.44036 11.25 2.75C11.25 2.05964 11.8656 1.5 12.625 1.5C13.3844 1.5 14 2.05964 14 2.75Z"}),(0,i.jsx)("path",{d:"M10.2197 10.7197C10.5126 10.4268 10.9874 10.4268 11.2803 10.7197L14.2803 13.7197C14.5732 14.0126 14.5732 14.4874 14.2803 14.7803C13.9874 15.0732 13.5126 15.0732 13.2197 14.7803L10.2197 11.7803C9.92683 11.4874 9.92683 11.0126 10.2197 10.7197Z"})]}),t[0]=e):e=t[0],e}:function(){return(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 3.25C2.5 2.83579 2.83579 2.5 3.25 2.5C3.66421 2.5 4 2.83579 4 3.25C4 3.66421 3.66421 4 3.25 4C2.83579 4 2.5 3.66421 2.5 3.25ZM3.25 1C2.00736 1 1 2.00736 1 3.25C1 4.22966 1.62611 5.06309 2.5 5.37197V10.628C1.62611 10.9369 1 11.7703 1 12.75C1 13.9926 2.00736 15 3.25 15C4.49264 15 5.5 13.9926 5.5 12.75C5.5 11.7703 4.87389 10.9369 4 10.628V5.37197C4.87389 5.06309 5.5 4.22966 5.5 3.25C5.5 2.00736 4.49264 1 3.25 1ZM3.25 12C2.83579 12 2.5 12.3358 2.5 12.75C2.5 13.1642 2.83579 13.5 3.25 13.5C3.66421 13.5 4 13.1642 4 12.75C4 12.3358 3.66421 12 3.25 12Z"}),(0,i.jsx)("path",{d:"M14 7.5C14 8.19036 13.3844 8.75 12.625 8.75C11.8656 8.75 11.25 8.19036 11.25 7.5C11.25 6.80964 11.8656 6.25 12.625 6.25C13.3844 6.25 14 6.80964 14 7.5Z"}),(0,i.jsx)("path",{d:"M14 2.75C14 3.44036 13.3844 4 12.625 4C11.8656 4 11.25 3.44036 11.25 2.75C11.25 2.05964 11.8656 1.5 12.625 1.5C13.3844 1.5 14 2.05964 14 2.75Z"}),(0,i.jsx)("path",{d:"M10.2197 10.7197C10.5126 10.4268 10.9874 10.4268 11.2803 10.7197L14.2803 13.7197C14.5732 14.0126 14.5732 14.4874 14.2803 14.7803C13.9874 15.0732 13.5126 15.0732 13.2197 14.7803L10.2197 11.7803C9.92683 11.4874 9.92683 11.0126 10.2197 10.7197Z"})]})};try{u.displayName||(u.displayName="PullRequestStateLabel")}catch{}try{m.displayName||(m.displayName="GitPullRequestUnlistedSvg")}catch{}},33578:(e,t,n)=>{n.d(t,{Q:()=>i,a:()=>a});let i={Open:"OPEN",Closed:"CLOSED",Merged:"MERGED",Queued:"QUEUED",Draft:"DRAFT",Unlisted:"UNLISTED"},a={[i.Open]:{description:"Open",status:"pullOpened"},[i.Closed]:{description:"Closed",status:"pullClosed"},[i.Queued]:{description:"Queued",status:"pullQueued"},[i.Merged]:{description:"Merged",status:"pullMerged"},[i.Draft]:{description:"Draft",status:"draft"},[i.Unlisted]:{description:"Unlisted",status:"unlisted"}}},33644:(e,t,n)=>{n.d(t,{A:()=>i});let i={stickyHeader:"use-sticky-header-module__stickyHeader--UQFpz"}},34261:(e,t,n)=>{n.d(t,{W:()=>u,f:()=>c});var i=n(68273),a=n(21728),r=n(65510),s=n(20622),l=n(53885),o=n(96379),d=n(50129);let c=(0,i.Z6)()?function(){let e,t=(0,a.c)(2),{basePageDataUrl:n}=(0,d.Yu)(),i=`basePageDataURL:${n}`;return t[0]!==i?(e=[s.uT.header,i],t[0]=i,t[1]=e):e=t[1],e}:function(){let{basePageDataUrl:e}=(0,d.Yu)();return[s.uT.header,`basePageDataURL:${e}`]},u=(0,i.Z6)()?function(e){let t,n,i=(0,a.c)(6),d=(0,l.e)(s.uT.header),u=c();return i[0]!==d?(t=async()=>{let e=await (0,o.QJ)(d);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},i[0]=d,i[1]=t):t=i[1],i[2]!==e||i[3]!==u||i[4]!==t?(n={queryKey:u,queryFn:t,initialData:e,staleTime:1/0},i[2]=e,i[3]=u,i[4]=t,i[5]=n):n=i[5],(0,r.U)(n)}:function(e){let t=(0,l.e)(s.uT.header),n=c();return(0,r.U)({queryKey:n,queryFn:async()=>{let e=await (0,o.QJ)(t);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},initialData:e,staleTime:1/0})}},34535:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(68273),a=n(21728),r=n(96540);let s=(0,i.xS)()?function(e){let t,n,i=(0,a.c)(4),{focusRowRef:s,mouseRowRef:l}=e,[o,d]=(0,r.useState)(!1);return i[0]!==s||i[1]!==l?(t=()=>{let e=s.current,t=l.current;if(!e||!t)return;let n=()=>{let t=e.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&d(!0)},i=()=>n(),a=()=>d(!1),r=()=>n(),o=()=>d(!1);return e.addEventListener("focus",i),e.addEventListener("blur",a),t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",o),()=>{e.removeEventListener("focus",i),e.removeEventListener("blur",a),t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",o)}},n=[s,l],i[0]=s,i[1]=l,i[2]=t,i[3]=n):(t=i[2],n=i[3]),(0,r.useEffect)(t,n),o}:function({focusRowRef:e,mouseRowRef:t}){let[n,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let n=e.current,a=t.current;if(!n||!a)return;let r=()=>{let e=n.querySelector(".PRIVATE_TreeView-item-content-text");e?.scrollWidth!==e?.offsetWidth&&i(!0)},s=()=>r(),l=()=>i(!1),o=()=>r(),d=()=>i(!1);return n.addEventListener("focus",s),n.addEventListener("blur",l),a.addEventListener("mouseenter",o),a.addEventListener("mouseleave",d),()=>{n.removeEventListener("focus",s),n.removeEventListener("blur",l),a.removeEventListener("mouseenter",o),a.removeEventListener("mouseleave",d)}},[e,t]),n}},36472:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(13083),a=n(3038);function r({selectedLineRange:e,leftLines:t,rightLines:n}){let r=!!n,{startOrientation:s,endOrientation:l}=e,o=m(s).findIndex(t=>(0,a.a2)(t,e.startLineNumber,e.startOrientation)),d=m(l).findIndex(t=>(0,a.a2)(t,e.endLineNumber,e.endOrientation)),c=o>=0&&d>=0;function u(e){if(!c||(0,a.Po)(e))return!1;let t=m((0,i.XU)(e.type)).indexOf(e);return t>=o&&t<=d}function m(e){var a;return r&&"left"!==("string"==typeof(a=e)?a:(0,i.XU)(a.type))?n:t}let f=m("left").filter(e=>u(e));return{selectedRightLines:m("right").filter(e=>u(e)),selectedLeftLines:f}}},36729:(e,t,n)=>{n.d(t,{Vv:()=>a,Wr:()=>r,zW:()=>i});let i="FILE",a="empty-diff-line",r={Line:"line",Multiline:"multiline",File:"file"}},37212:(e,t,n)=>{n.d(t,{Bz:()=>s,NP:()=>l});var i=n(68273),a=n(99279),r=n(86320);n(13360);let s=a.G.createQueryRouteConfig("pullRequestsCommitsRoute",{path:"/:owner/:repo/pull/:pr_number/commits",queries:[(0,r.Y)()]});function l(){return s.queries.mainQuery.makeQueryKey()}(0,i.Z6)()},37351:(e,t,n)=>{n.d(t,{_:()=>i});function i(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}},39029:(e,t,n)=>{n.d(t,{G:()=>c,og:()=>d});var i=n(68273),a=n(21728),r=n(40235),s=n(70170),l=n(70263),o=n(96540);let d=(0,i.Z6)()?function(e,t,n,i){c(e,t,n,i)}:function(e,t,n,i){c(e,t,n,i)},c=(0,i.Z6)()?function(e,t,n,i){let o,d,c,u=(0,a.c)(9),m=(0,l.A)();u[0]!==t||u[1]!==m?(o=()=>{m()&&t()},u[0]=t,u[1]=m,u[2]=o):o=u[2];let f=i??2e3;u[3]!==o||u[4]!==f?(d=(0,s.n)(o,f),u[3]=o,u[4]=f,u[5]=d):d=u[5];let h=d;u[6]!==h||u[7]!==n?(c=e=>{if(n&&e.event_updates)for(let[t,i]of Object.entries(n))!!e.event_updates[t]==!!i&&window.setTimeout(h,e.wait||0);else window.setTimeout(h,e.wait||0)},u[6]=h,u[7]=n,u[8]=c):c=u[8];let p=c;(0,r.x)(e,p)}:function(e,t,n,i){let a=(0,l.A)(),d=(0,o.useMemo)(()=>(0,s.n)(()=>{a()&&t()},i??2e3),[a,t,i]),c=(0,o.useCallback)(e=>{if(n&&e.event_updates)for(let[t,i]of Object.entries(n))!!e.event_updates[t]==!!i&&window.setTimeout(d,e.wait||0);else window.setTimeout(d,e.wait||0)},[d,n]);(0,r.x)(e,c)}},39111:(e,t,n)=>{n.d(t,{X:()=>a});var i=n(54571);function a(e){let t=e.join(","),[n]=(0,i.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return n}},39595:(e,t,n)=>{let i;n.d(t,{CF:()=>p,p_:()=>R,FB:()=>u,Se:()=>N,aC:()=>_,zV:()=>I});let a=new WeakSet,r=new WeakMap;function s(e=document){if(r.has(e))return r.get(e);let t=!1,n=new MutationObserver(e=>{for(let t of e)if("attributes"===t.type&&t.target instanceof Element)c(t.target);else if("childList"===t.type&&t.addedNodes.length)for(let e of t.addedNodes)e instanceof Element&&l(e)});n.observe(e,{childList:!0,subtree:!0,attributeFilter:["data-action"]});let i={get closed(){return t},unsubscribe(){t=!0,r.delete(e),n.disconnect()}};return r.set(e,i),i}function l(e){for(let t of e.querySelectorAll("[data-action]"))c(t);e instanceof Element&&e.hasAttribute("data-action")&&c(e)}function o(e){let t=e.currentTarget;for(let n of d(t))if(e.type===n.type){let i=t.closest(n.tag);a.has(i)&&"function"==typeof i[n.method]&&i[n.method](e);let r=t.getRootNode();if(r instanceof ShadowRoot&&a.has(r.host)&&r.host.matches(n.tag)){let t=r.host;"function"==typeof t[n.method]&&t[n.method](e)}}}function*d(e){for(let t of(e.getAttribute("data-action")||"").trim().split(/\s+/)){let e=t.lastIndexOf(":"),n=Math.max(0,t.lastIndexOf("#"))||t.length;yield{type:t.slice(0,e),tag:t.slice(e+1,n),method:t.slice(n+1)||"handleEvent"}}}function c(e){for(let t of d(e))e.addEventListener(t.type,o)}function u(e,t){let n=e.tagName.toLowerCase();if(e.shadowRoot){for(let i of e.shadowRoot.querySelectorAll(`[data-target~="${n}.${t}"]`))if(!i.closest(n))return i}for(let i of e.querySelectorAll(`[data-target~="${n}.${t}"]`))if(i.closest(n)===e)return i}let m=e=>String("symbol"==typeof e?e.description:e).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),f=(e,t="property")=>{let n=m(e);if(!n.includes("-"))throw new DOMException(`${t}: ${String(e)} is not a valid ${t} name`,"SyntaxError");return n},h="attr";function p(e,t){D(e,h).add(t)}let g=new WeakSet;function x(e,t){if(g.has(e))return;g.add(e);let n=Object.getPrototypeOf(e),i=n?.constructor?.attrPrefix??"data-";for(let a of(t||(t=D(n,h)),t)){let t=e[a],n=f(`${i}${a}`),r={configurable:!0,get(){return this.getAttribute(n)||""},set(e){this.setAttribute(n,e||"")}};"number"==typeof t?r={configurable:!0,get(){return Number(this.getAttribute(n)||0)},set(e){this.setAttribute(n,e)}}:"boolean"==typeof t&&(r={configurable:!0,get(){return this.hasAttribute(n)},set(e){this.toggleAttribute(n,e)}}),Object.defineProperty(e,a,r),a in e&&!e.hasAttribute(n)&&r.set.call(e,t)}}let b=new Map,v=new Promise(e=>{"loading"!==document.readyState?e():document.addEventListener("readystatechange",()=>e(),{once:!0})}),y=new Promise(e=>{let t=new AbortController;t.signal.addEventListener("abort",()=>e());let n={once:!0,passive:!0,signal:t.signal},i=()=>t.abort();document.addEventListener("mousedown",i,n),document.addEventListener("touchstart",i,n),document.addEventListener("keydown",i,n),document.addEventListener("pointerdown",i,n)}),j={ready:()=>v,firstInteraction:()=>y,visible:e=>new Promise(t=>{let n=new IntersectionObserver(e=>{for(let i of e)if(i.isIntersecting){t(),n.disconnect();return}},{rootMargin:"0px 0px 256px 0px",threshold:.01});for(let t of document.querySelectorAll(e))n.observe(t)})},C=new WeakMap;function w(e){cancelAnimationFrame(C.get(e)||0),C.set(e,requestAnimationFrame(()=>{for(let t of b.keys()){let n=e instanceof Element&&e.matches(t)?e:e.querySelector(t);if(customElements.get(t)||n){let i=n?.getAttribute("data-load-on")||"ready",a=i in j?j[i]:j.ready;for(let e of b.get(t)||[])a(t).then(e);b.delete(t),C.delete(e)}}}))}function N(e,t){for(let[n,i]of("string"==typeof e&&t&&(e={[e]:t}),Object.entries(e)))b.has(n)||b.set(n,new Set),b.get(n).add(i);S(document)}function S(e){i||(i=new MutationObserver(e=>{if(b.size)for(let t of e)for(let e of t.addedNodes)e instanceof Element&&w(e)})),w(e),i.observe(e,{subtree:!0,childList:!0})}let L=Symbol.for("catalyst");let CatalystDelegate=class CatalystDelegate{constructor(e){const t=this,n=e.prototype.connectedCallback;e.prototype.connectedCallback=function(){t.connectedCallback(this,n)};const i=e.prototype.disconnectedCallback;e.prototype.disconnectedCallback=function(){t.disconnectedCallback(this,i)};const a=e.prototype.attributeChangedCallback;e.prototype.attributeChangedCallback=function(e,n,i){t.attributeChangedCallback(this,e,n,i,a)};let r=e.observedAttributes||[];Object.defineProperty(e,"observedAttributes",{configurable:!0,get(){return t.observedAttributes(this,r)},set(e){r=e}}),function(e){let t=e.observedAttributes||[],n=e.attrPrefix??"data-",i=e=>f(`${n}${e}`);Object.defineProperty(e,"observedAttributes",{configurable:!0,get:()=>[...D(e.prototype,h)].map(i).concat(t),set(e){t=e}})}(e),function(e){let t=m(e.name).replace(/-element$/,"");try{window.customElements.define(t,e),window[e.name]=customElements.get(t)}catch(e){if(!(e instanceof DOMException&&"NotSupportedError"===e.name))throw e}}(e)}observedAttributes(e,t){return t}connectedCallback(e,t){var n,i;for(let t of(e.toggleAttribute("data-catalyst",!0),customElements.upgrade(e),e.querySelectorAll("template[data-shadowroot]")))t.parentElement===e&&e.attachShadow({mode:"closed"===t.getAttribute("data-shadowroot")?"closed":"open"}).append(t.content.cloneNode(!0));(x(e),a.add(e),e.shadowRoot&&(l(i=e.shadowRoot),s(i)),l(e),s(e.ownerDocument),t?.call(e),e.shadowRoot)&&(l(n=e.shadowRoot),s(n),S(e.shadowRoot))}disconnectedCallback(e,t){t?.call(e)}attributeChangedCallback(e,t,n,i,a){x(e),"data-catalyst"!==t&&a&&a.call(e,t,n,i)}};function D(e,t){if(!Object.prototype.hasOwnProperty.call(e,L)){let t=e[L],n=e[L]=new Map;if(t)for(let[e,i]of t)n.set(e,new Set(i))}let n=e[L];return n.has(t)||n.set(t,new Set),n.get(t)}function _(e,t){D(e,"target").add(t),Object.defineProperty(e,t,{configurable:!0,get(){return u(this,t)}})}function I(e,t){D(e,"targets").add(t),Object.defineProperty(e,t,{configurable:!0,get(){let e=this.tagName.toLowerCase(),n=[];if(this.shadowRoot)for(let i of this.shadowRoot.querySelectorAll(`[data-targets~="${e}.${t}"]`))i.closest(e)||n.push(i);for(let i of this.querySelectorAll(`[data-targets~="${e}.${t}"]`))i.closest(e)===this&&n.push(i);return n}})}function R(e){new CatalystDelegate(e)}},39619:(e,t,n)=>{n.d(t,{HS:()=>s,Oc:()=>r,Tv:()=>d,Xr:()=>SymbolChangedEvent,f7:()=>l,fD:()=>o,qR:()=>a});var i=n(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,i._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,i._)(this,"reference",void 0),(0,i._)(this,"openPanel",void 0),(0,i._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,i._)(this,"context",void 0),this.context=e}};function a(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function r(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function s(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function l(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function o(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function d(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},39698:(e,t,n)=>{n.d(t,{i:()=>u});var i=n(68273),a=n(21728),r=n(48845),s=n(20622),l=n(97665),o=n(94747),d=n(69510),c=n(27011);let u=(0,i.Z6)()?function(e,t){let n,i,u,f=(0,a.c)(11),h=(0,c.Kp)(),p=`${h}/page_data/${s.uT.unresolveThread}`,g=(0,l.jE)(),{updateThread:x}=(0,c.an)();return f[0]!==p?(n=async e=>{let{threadId:t}=e,n=await (0,r.q$)(p,{method:"POST",body:{threadId:t}});(0,r.R)(n)},f[0]=p,f[1]=n):n=f[1],f[2]!==h||f[3]!==e||f[4]!==t||f[5]!==g||f[6]!==x?(i=(n,i)=>(x(Number(i.threadId),e,t,m),g.invalidateQueries({queryKey:(0,d.XG)(h)})),f[2]=h,f[3]=e,f[4]=t,f[5]=g,f[6]=x,f[7]=i):i=f[7],f[8]!==n||f[9]!==i?(u={mutationFn:n,onSuccess:i},f[8]=n,f[9]=i,f[10]=u):u=f[10],(0,o.n)(u)}:function(e,t){let n=(0,c.Kp)(),i=`${n}/page_data/${s.uT.unresolveThread}`,a=(0,l.jE)(),{updateThread:u}=(0,c.an)();return(0,o.n)({mutationFn:async({threadId:e})=>{let t=await (0,r.q$)(i,{method:"POST",body:{threadId:e}});(0,r.R)(t)},onSuccess:(i,r)=>(u(Number(r.threadId),e,t,e=>{if(e)return{...e,isResolved:!1,resolvedBy:void 0}}),a.invalidateQueries({queryKey:(0,d.XG)(n)}))})};function m(e){if(e)return{...e,isResolved:!1,resolvedBy:void 0}}},40235:(e,t,n)=>{n.d(t,{x:()=>f});var i,a=n(96540),r=n(70263),s=n(11418),l=n(73056),o=n(74848),d=n(10204);let c=(0,a.createContext)(null),u=null;function m(e,t){let n=d.KK.parse(e);if(!n)throw Error(`Invalid channel name. Did you forget to sign it with \`signChannel("${e}")\`?`);return u||(u=new d.m0),u.add({topic:n,subscriber:t}),{unsubscribe:()=>{u?.delete({topic:n,subscriber:t})}}}try{c.displayName||(c.displayName="AliveTestContext")}catch{}try{(i=function({children:e,initialMessages:t}){return(0,a.useEffect)(()=>{let e=[];if(t)for(let[n,i]of t){let t=window.setTimeout(()=>{var e=n,t=i;if(null===u)throw Error('Test helper `dispatchAliveTestMessage` called outside `AliveTestProvider`. Please wrap your component under test in `AliveTestProvider` from "@github-ui/use-alive/test-utils".');for(let n of Array.from(u.subscribers(e)))n(t)},0);e.push(t)}return()=>{for(let t of(u=null,e))window.clearTimeout(t)}}),(0,o.jsx)(c.Provider,{value:m,children:e})}).displayName||(i.displayName="AliveTestProvider")}catch{}function f(e,t){let n=(0,r.A)(),i=(0,a.useContext)(c);(0,a.useEffect)(()=>{let a=()=>{},r=!1;return async function(){if(e){if("function"==typeof i){let n=await i(e,t);n&&(a=n.unsubscribe);return}try{let i=await (0,s.H)();if(r)return;let o=(0,l.$)(i,e,t);o?.unsubscribe&&(n()?a=o.unsubscribe:o.unsubscribe())}catch(e){console.error(e)}}}(),()=>{r=!0,a()}},[e,t,n,i])}},40493:(e,t,n)=>{n.d(t,{A:()=>i});let i={TabNav:"CodeDropdownButton-module__TabNav--zWa9N",NavItem:"CodeDropdownButton-module__NavItem--_hXZP",CodespacesSkeletonWrapper:"CodeDropdownButton-module__CodespacesSkeletonWrapper--KXl0V",SkeletonLoaderWrapper:"CodeDropdownButton-module__SkeletonLoaderWrapper--suXcn"}},43362:(e,t,n)=>{n.d(t,{Be:()=>r,Sl:()=>l,Wp:()=>a,YY:()=>d,jH:()=>o,wm:()=>s});var i=n(36729);function a(e){return e.reduce((e,t)=>(e[t.path]=t,e),{})}function r(e){return e.reduce((e,t)=>(e[t.path]=!!t.markedAsViewed,e),{})}function s(e){let t=e.comments.map(e=>parseInt(e.threadId));return{id:e.id,pendingReviewIDs:t,comments:e.comments}}function l(e){return e.reduce((e,t)=>(e[t.path]=t,e),{})}function o(e,t){if(!e)return;let n={};if(!t)return n;for(let a of t){if(!a.markersMap||0===Object.keys(a.markersMap).length)continue;let t=a.path,r={};for(let t in a.markersMap){let n=a.markersMap[t];if(!n?.threads&&!n?.annotations)continue;let s={threads:[],annotations:[]};if(n.annotations)for(let t of n.annotations){let n=e.annotations[Number(t.id)];n&&s.annotations.push(n)}if(n.threads)for(let i of n.threads){let n=function(e,t){if("FILE"===e)return;let n=e[0];if(!u(n))return;let i=Number(e.slice(1)),a=-1,r="R";if(t.start){a=parseInt(t.start.slice(1));let e=t.start[0];u(e)&&(r=e)}else a=i,r=n;return{endLine:i,endDiffSide:c[n],startLine:a,startDiffSide:c[r],isOutdated:!!t.outdatedReason}}(t,i),a=e.threads[Number(i.id)];a&&n&&(a={...a,positioning:n,subject:n}),a&&s.threads.push(a)}"FILE"===t?r[i.zW]=s:r[t]=s}n[t]=r}return n}function d(e){return{endLine:e.line,endDiffSide:e.side?.toLowerCase()==="right"?"RIGHT":"LEFT",startLine:e.startLine??e.line,startDiffSide:e.startSide?e.startSide?.toLowerCase()==="right"?"RIGHT":"LEFT":e.side?.toLowerCase()==="right"?"RIGHT":"LEFT",isOutdated:!1}}let c={L:"LEFT",R:"RIGHT"};function u(e){return"L"===e||"R"===e}},43645:(e,t,n)=>{n.d(t,{v:()=>P,n:()=>O});var i=n(74848),a=n(68273),r=n(96540),s=n(71323),l=n(97283),o=n(87134),d=n(1932),c=n(21132),u=n(15697);function m({diffSummaries:e,diffSummariesArray:t,loadedPathDigests:n,loadingPathDigests:i,selectedPathDigest:a}){let r=!0,s=t??Object.values(e),l=s.findIndex(e=>e.pathDigest===a);return s.map(({path:e,pathDigest:t},a)=>{let s,o;switch(!0){case n.has(t):s=c.s.Loaded;break;case i.has(t):s=c.s.Loading;break;default:s=c.s.NotLoaded}let d=!1;return s===c.s.Loaded?(o="RENDER",d=!1):(a===l?(o="EAGER_AUTO_LOAD",d=!0):(o=a<l?"LAZY_AUTO_LOAD":a===l+1?"EAGER_AUTO_LOAD":r?"EAGER_AUTO_LOAD":"HIDE",d=!1),r&&"LAZY_AUTO_LOAD"!==o&&(r=!1)),{path:e,pathDigest:t,loadingStatus:s,renderMode:o,loadSolo:d}})}function f({progressiveDiffEntries:e,startingAt:t,preferAnySoloEntry:n}){if(n){let t=e.find(e=>e.loadSolo&&e.loadingStatus===c.s.NotLoaded);if(t)return[t]}let i=t?e.findIndex(e=>e.pathDigest===t.pathDigest):e.findIndex(e=>e.loadingStatus===c.s.NotLoaded);if(-1===i)return[];let a=e[i];if(a&&a.loadSolo&&a.loadingStatus===c.s.NotLoaded)return[a];let r=[];for(let t=i;t<e.length;t++){let n=e[t];if(!n||(n.loadingStatus===c.s.NotLoaded&&r.push(n),r.length>=4))break}return r}var h=n(70170);let p="undefined"!=typeof globalThis&&void 0!==globalThis.window,g="undefined"!=typeof process&&!1,x={timeout:150,useIdleCallback:!0};var b=n(69599),v=n(91747),y=n(61583),j=n(79472),C=n(43362),w=n(48845),N=n(20622),S=n(96379),L=n(16235);function D({basePath:e,effectiveRange:t,hideWhitespace:n}){return[N.uT.diffEntries,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`,`hideWhitespace:${n}`]}async function _(e){let t=(0,L.S)(),n=D(e),i=await R(e);return i&&i.length>0&&t.setQueryData(n,(0,d.jM)(e=>{if(!e)return i;for(let t of i)e.find(e=>e.pathDigest===t.pathDigest)||e.push(t)})),i}async function I(e){let t,n=(0,L.S)(),i=D(e),a=n.getQueryData(i);if(a?.length){let n=new Set(a.map(e=>e.path));if(0===(t=e.paths.filter(e=>!n.has(e))).length)return a}else t=e.paths;let r=await R({...e,paths:t});return r&&r.length>0&&n.setQueryData(i,(0,d.jM)(e=>{if(!e)return r;for(let t of r)e.find(e=>e.pathDigest===t.pathDigest)||e.push(t)})),(n.getQueryData(i)||[]).filter(t=>e.paths.includes(t.path))}async function R({basePath:e,fullDiff:t,effectiveRange:n,paths:i,contextRanges:a,signal:r,hideWhitespace:s,isComparisonOutdated:l}){let o=new URLSearchParams,d=i.map(e=>encodeURIComponent(e));if(o.append("paths",d.join(",")),a){let e=i.map(e=>(a[e]??[]).map(([e,t])=>`${e}-${t}`).join(",")).join(":");o.append("ctx",e)}o.append("w",s?"1":"0"),n.baseOid===t.baseOid?o.append("range",n.headOid):o.append("range",`${n.baseOid}..${n.headOid}`),l&&o.append("outdated","1");let c=`${e}/page_data/${N.uT.diffEntries}?${o.toString()}`;try{let e=await (0,S.Sr)(c,{signal:r});if(r?.aborted)return;let t=await (0,w.hp)(e);return(0,w.R)(e,t),t??void 0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}}function k(e,t,n,i){return[N.uT.diffContextLines,e,t,n,i]}async function A({contextLineRanges:e,basePath:t,path:n,w:i="0",fullDiff:a,effectiveRange:r}){let s=new URLSearchParams;for(let t of(s.append("path",n),e))s.append("context_line_ranges[]",JSON.stringify(t));s.append("w",i),r.baseOid===a.baseOid?s.append("range",r.headOid):s.append("range",`${r.baseOid}..${r.headOid}`);let l=`${t}/page_data/${N.uT.diffContextLines}?${s.toString()}`,o=await (0,S.QJ)(l);if(o.ok)return await o.json()??void 0}var E=n(88008);let T=(0,r.createContext)(null),O=(0,a.Z6)()?function(e){let t=(0,r.useContext)(T);if(!t)throw Error("Missing PullRequestStoreProvider in the tree");return(0,s.P)(t,e)}:function(e){let t=(0,r.useContext)(T);if(!t)throw Error("Missing PullRequestStoreProvider in the tree");return(0,s.P)(t,e)},P=({initData:e,children:t})=>{var n,a,s,l,o,d;let c,u,m=(0,r.useRef)(null),f=(0,v.u)("prx_files_lite_throttle"),h=(0,v.u)("prx_files_medium_throttle"),p=(0,j.Qn)(e.user.viewSettings.hideWhitespace),g=e.user.viewSettings.commentsPreference,x=(0,C.Wp)(e.diffSummaries),b=(0,C.Be)(e.diffSummaries),w=(0,C.wm)(e.viewerPendingReview),N=(0,C.Sl)(e.diffContents),S=(0,C.jH)(e.markers,e.diffSummaries),_=(0,E.Ol)(e.pullRequest.pathName,e.pullRequest.comparison.headOid);return m.current||(n=e.comparison.selectedRange?.baseOid,a=e.comparison.selectedRange?.headOid,s=e.pullRequest.pathName,l=e.diffContents,o=e.pullRequest.comparison,d=p,c=(0,L.S)(),u=D({basePath:s,effectiveRange:{baseOid:n??o.baseOid,headOid:a??o.headOid},hideWhitespace:d}),c.setQueryData(u,l),m.current=F({baseOid:e.pullRequest.comparison.baseOid,headOid:e.pullRequest.comparison.headOid,selectedCommitRange:e.comparison.selectedRange,comparisonView:e.comparison.viewing,changeGroupGeneration:e.changeGroupGeneration,hideWhitespace:p,isSingleFileMode:e.isSingleFileMode,collapsedFilesMap:b,initialSummariesViewedStatus:b,initialSummariesViewedCount:e.user.viewedFilesCount,diffEntries:N,commentsPreference:g,initialDiffSummaries:x,initialLoadedPathDigests:new Set(e.diffContents.map(e=>e.pathDigest)),markers:S,basePath:e.pullRequest.pathName,pendingReview:w,prxFilesLiteThrottle:f,prxFilesMediumThrottle:h,pullRequest:e.pullRequest,baseRepository:e.repository,selectedPathDigest:(0,y.jU)((0,y.o9)()),initialActiveBatch:_.length>0?_:void 0,showChangeGroupPreference:e.user.viewSettings.showChangeGroups})),(0,i.jsx)(T.Provider,{value:m.current,children:t})},F=e=>(0,l.y)()((0,o.lt)((...t)=>({...(({changeGroupGeneration:{canAccessChangeGroups:e,changeGroups:t,changeGroupFeedbackOptions:n,latestChangeGroupOrchestration:i,changeGroupGenerationChannel:a,unavailableReason:r},showChangeGroupPreference:s})=>l=>({changeGroupGeneration:{canAccessChangeGroups:e,changeGroups:t,changeGroupFeedbackOptions:n,latestChangeGroupOrchestration:i,changeGroupGenerationChannel:a,unavailableReason:r},showChangeGroupPreference:s,changeGroupGenerationActions:{updateChangeGroupGeneration:e=>l(t=>({changeGroupGeneration:{...t.changeGroupGeneration,...e},showChangeGroupPreference:t.showChangeGroupPreference}),void 0,"updateChangeGroupGeneration"),updateChangeGroupPreference:e=>l(t=>({changeGroupGeneration:t.changeGroupGeneration,showChangeGroupPreference:e}),void 0,"updateChangeGroupPreference")}}))(e)(...t),...((e,t)=>({codeowners:void 0,codeownersActions:{setCodeowners:t=>{e({codeowners:t},void 0,"updateCodeowners")}}}))(...t),...(({baseOid:e,headOid:t,selectedCommitRange:n,comparisonView:i,hideWhitespace:a})=>r=>({comparisonInfo:{fullDiff:{baseOid:e,headOid:t},selectedRange:n,effectiveRange:n??{baseOid:e,headOid:t},hideWhitespace:a,comparisonView:i},isComparisonOutdated:!1,comparisonInfoActions:{updateWhitespace:e=>r(t=>({comparisonInfo:{...t.comparisonInfo,hideWhitespace:e}}),void 0,"comparisonInfo#updateWhitespace"),markComparisonOutdated:()=>r(()=>({isComparisonOutdated:!0}),void 0,"comparisonInfo#markComparisonOutdated")}}))(e)(...t),...((e,t)=>({diffFilter:{state:{activeChangeGroupId:void 0,filterText:"",fileExtensions:{},unselectedFileExtensions:new Set,showDeletedFiles:!0,showOnlyManifestFiles:!1,showOnlyOwnedFiles:!1,showVendoredFiles:!0,showViewedFiles:!0},filtersInteractedWith:!1},diffFilterActions:{updateDiffFilter:(n,i)=>{e({diffFilter:{...t().diffFilter,state:{...t().diffFilter.state,...n},filtersInteractedWith:t().diffFilter.filtersInteractedWith||!!i}},void 0,"updateFilters")},clearAllFilters:()=>{e({diffFilter:{...t().diffFilter,state:{...t().diffFilter.state,filterText:"",unselectedFileExtensions:new Set,showOnlyOwnedFiles:!1,showDeletedFiles:!0,showOnlyManifestFiles:!1,showVendoredFiles:!0,showViewedFiles:!0},filtersInteractedWith:!0}},void 0,"clearAllFilters")}}}))(...t),...(({initialDiffSummaries:e,initialSummariesViewedStatus:t,initialSummariesViewedCount:n})=>(i,a)=>({diffSummaries:e,summariesViewedCount:n,summariesViewedStatus:t,codeowners:void 0,getPathDigestFromThreadID:e=>{for(let t of Object.values(a().diffSummaries))if(t.markersMap){for(let[n,i]of Object.entries(t.markersMap))if(i.threads.some(t=>Number(t.id)===Number(e)))return t.pathDigest}},getPathDigestFromAnnotationID:e=>{for(let t of Object.values(a().diffSummaries))if(t.markersMap){for(let[n,i]of Object.entries(t.markersMap))if(i.annotations.some(t=>t.id===e))return t.pathDigest}},diffSummariesActions:{setDiffSummaries:e=>{i({diffSummaries:e},void 0,"updateDiffSummaries")},setDiffViewed:(e,t)=>{i(n=>n.diffSummaries?{summariesViewedStatus:(0,d.jM)(n.summariesViewedStatus,n=>{n[e]=t}),summariesViewedCount:n.summariesViewedCount+(t?1:-1),diffSummaries:(0,d.jM)(n.diffSummaries,n=>{n[e]&&(n[e].markedAsViewed=t)})}:n)},onCommentThreadAdded:({path:e,diffLineKey:t,startPosition:n,threadID:a})=>{i((0,d.jM)(i=>{if(!i.diffSummaries)return;let r=i.diffSummaries[e];if(!r)return;let s=r.markersMap??{};s[t]||(s[t]={threads:[],annotations:[]}),s[t].threads.push({id:parseInt(a),start:n}),r.totalCommentsCount=(r.totalCommentsCount||0)+1}),void 0,"commentAddedForDiffSummary")},onCommentThreadDeleted:({path:e,threadID:t})=>{i((0,d.jM)(n=>{if(!n.diffSummaries)return;let i=n.diffSummaries[e];if(i&&i?.totalCommentsCount&&i?.markersMap)for(let[e,n]of Object.entries(i.markersMap))n.threads=n.threads.filter(e=>e.id!==parseInt(t)),0===n.threads.length&&0===n.annotations.length&&delete i.markersMap[e]}),void 0,"commentDeletedForDiffSummary")}}}))(e)(...t),...(({markers:e})=>(t,n)=>({markers:e,getThread:(e,t,i)=>{let a=n().markers;if(a)return a[t]?.[i]?.threads?.find(t=>Number(t.id)===e)},getThreadFromCommentID:e=>{let t=n().markers;if(!t)return;let i=Object.values(t).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??[]));if(i){for(let t of Object.values(i))if(t?.commentsData?.comments.some(t=>t.databaseId===e))return t}},getAnnotationFromID:e=>{let t=n().markers;if(!t)return;let i=Object.values(t).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??[]));if(i){for(let t of Object.values(i))if(t.databaseId===e)return t}},markersActions:{updateThread:(e,i,a,r)=>{let s=n().markers;if(!s)return;let l=r(s[i]?.[a]?.threads?.find(t=>Number(t.id)===e));l&&t({markers:(0,d.jM)(s,t=>{let n=t[i]?.[a]?.threads?.findIndex(t=>Number(t.id)===e);if(void 0===n||-1===n)t[i]||(t[i]={}),t[i][a]||(t[i][a]={threads:[],annotations:[]}),t[i][a].threads.push(l);else if(t[i]&&t[i][a]&&-1!==n){let e=l.positioning??t[i][a].threads[n]?.positioning,r=l.subject??t[i][a].threads[n]?.subject,s={...l,positioning:e,subject:r};t[i][a].threads[n]=s}})},void 0,"updateThread")},updateThreads:e=>{let i=n().markers;i&&t({markers:(0,d.jM)(i,t=>{for(let n of Object.keys(i)){let i=t[n];if(i)for(let t of Object.keys(i)){let n=i[t];if(!n)continue;let a=n.threads;a&&(n.threads=e(a))}}})})},deleteThreadComment:(e,i,a,r)=>{let s="not_found",l=n().markers;return l&&t({markers:(0,d.jM)(l,t=>{let n=t[a]?.[r]?.threads?.find(t=>Number(t.id)===e);if(!n){s="not_found";return}let l=n.commentsData,o=l?.comments.filter(e=>e.id!==i)??[];if(!l||l.comments.length===o.length){s="not_found";return}if(0===o.length){s="thread_deleted";let n=t[a]?.[r]?.threads;if(n){let t=n.findIndex(t=>Number(t.id)===e);-1!==t&&n.splice(t,1)}}else s="comment_deleted",l&&(l.comments=o)})},void 0,"deleteThreadComment"),s},updateThreadComment:({threadID:e,filePath:i,lineMarkersKey:a,match:r,transform:s})=>{let l=n().markers;l&&t({markers:(0,d.jM)(l,t=>{let n,l=t[i]?.[a]?.threads?.find(t=>Number(t.id)===e);if(!l)return;let o=l.commentsData,d=o?.comments.findIndex(r);"number"==typeof d&&-1!==d&&(n=o?.comments[d]);let c=s(n);c&&(-1===d||"number"!=typeof d?o?.comments.push(c):o&&o.comments&&(o.comments[d]=c))})},void 0,"updateThreadComment")}}}))(e)(...t),...(({prxFilesLiteThrottle:e,prxFilesMediumThrottle:t,initialDiffSummaries:n,initialLoadedPathDigests:i,selectedPathDigest:a})=>(s,l)=>{let o,d=(0,b.G7)("pr_react_progressive_queue");return o=t?100:50*!!e,{entries:m({diffSummaries:n,loadedPathDigests:i,loadingPathDigests:new Set,selectedPathDigest:a}),selectedPathDigest:a,progressiveDiffQueue:[],queueRunning:!1,internalProgressiveDiffsActions:{loadSelectedEntries:(0,h.n)(async e=>{if(0===e.length)return;let t=e.map(e=>e.path),n=e.map(e=>e.pathDigest),i=l().entries.filter(e=>e.loadingStatus===c.s.Loaded).map(e=>e.pathDigest),a=l().entries.filter(e=>e.loadingStatus===c.s.Loading).map(e=>e.pathDigest);s(e=>({entries:m({diffSummaries:e.diffSummaries,loadedPathDigests:new Set(i),loadingPathDigests:new Set([...a,...n]),selectedPathDigest:e.selectedPathDigest})}),void 0,"loadSelectedEntries#preFetch");let{loadDiffEntries:r}=l().diffEntriesActions,o=(0,u.i)({paths:new Set(t),diffSummaries:l().diffSummaries}),d=await r({paths:t,contextRanges:o});if(!d||0===d.length){let e=[...l().entries.filter(e=>e.loadingStatus===c.s.Loaded).map(e=>e.pathDigest)],t=l().entries.filter(e=>e.loadingStatus===c.s.Loading).map(e=>e.pathDigest);return s({entries:m({diffSummaries:l().diffSummaries,loadedPathDigests:new Set(e),loadingPathDigests:new Set(t),selectedPathDigest:l().selectedPathDigest})},void 0,"loadSelectedEntries#postFetch#noAPIData")}let f=d.map(e=>e.pathDigest),h=[...l().entries.filter(e=>e.loadingStatus===c.s.Loaded).map(e=>e.pathDigest),...f],p=l().entries.filter(e=>e.loadingStatus===c.s.Loading).filter(e=>!f.includes(e.pathDigest)).map(e=>e.pathDigest);s(e=>({...e,entries:m({diffSummaries:l().diffSummaries,loadedPathDigests:new Set(h),loadingPathDigests:new Set(p),selectedPathDigest:l().selectedPathDigest})}),void 0,"loadSelectedEntries#postFetch")},o),enqueue:e=>{s(t=>({...t,progressiveDiffQueue:[...t.progressiveDiffQueue,e]}),void 0,"enqueue")},processQueue:async()=>{if(!d)return;let e=()=>(function(e,t={}){let{timeout:n,useIdleCallback:i}={...x,...t};if(!p||g)return void e();let a=()=>{"function"==typeof r.startTransition?(0,r.startTransition)(e):e()},s=globalThis;i&&"function"==typeof s.requestIdleCallback?s.requestIdleCallback(a,{timeout:n}):setTimeout(a,0)})(()=>l().internalProgressiveDiffsActions.processQueue(),{timeout:20}),t=l().progressiveDiffQueue;if(0===t.length)return l().entries?.some(e=>e.loadingStatus===c.s.Loading||e.loadingStatus===c.s.NotLoaded)?e():s(e=>({...e,queueRunning:!1}),void 0,"stopQueue");let[n,...i]=t.filter((e,t,n)=>t===n.findIndex(t=>t.startingAt.path===e.startingAt.path));s(e=>({...e,progressiveDiffQueue:i}),void 0,"processQueue#cleanQueue");let a=f({progressiveDiffEntries:l().entries,startingAt:n?.startingAt,preferAnySoloEntry:n?.preferAnySoloEntry});return await l().internalProgressiveDiffsActions.loadSelectedEntries(a),e()}},progressiveDiffsActions:{startQueue:()=>{d&&!l().queueRunning&&(s(e=>({...e,queueRunning:!0}),void 0,"startQueue"),l().internalProgressiveDiffsActions.processQueue())},loadMore:async(e,{preferAnySoloEntry:t}={})=>{if(d&&e)return l().internalProgressiveDiffsActions.enqueue({startingAt:e,preferAnySoloEntry:t});let n=f({progressiveDiffEntries:l().entries,startingAt:e,preferAnySoloEntry:t});return l().internalProgressiveDiffsActions.loadSelectedEntries(n)},updateSelectedPathDigest:e=>{s(t=>({...t,selectedPathDigest:e}));let t=l().entries.find(t=>t.pathDigest===e);if(t)return l().internalProgressiveDiffsActions.loadSelectedEntries([t])}}}})(e)(...t),...(({collapsedFilesMap:e})=>(t,n)=>({collapsedFilesMap:e,getCollapsedDiffStatus:e=>n().collapsedFilesMap?.[e]??!1,filesCollapsedStatusActions:{updateFileCollapsedStatus:(e,i)=>{let a=n().collapsedFilesMap;a&&t({collapsedFilesMap:(0,d.jM)(a,t=>{t[e]=i})},void 0,"updateFileCollapsedStatus")},updateAllFilesCollapsedStatus:e=>{let i=n().collapsedFilesMap;i&&t({collapsedFilesMap:(0,d.jM)(i,t=>{for(let n of Object.keys(t))t[n]=e})},void 0,"updateAllFilesCollapsedStatus")}}}))(e)(...t),...(({pendingReview:e})=>(t,n)=>({pendingReview:e,pendingReviewActions:{addPendingComment:e=>{let i=n().pendingReview;i&&t({pendingReview:(0,d.jM)(i,t=>{t.pendingReviewIDs||(t.pendingReviewIDs=[]),t.pendingReviewIDs.push(e)})},void 0,"addPendingComment")},removePendingComment:e=>{let i=n().pendingReview;i&&t({pendingReview:(0,d.jM)(i,t=>{let n=t.pendingReviewIDs?.filter(t=>t!==e);t.pendingReviewIDs=n})},void 0,"removePendingComment")},clearPendingReview:()=>{let e=n().pendingReview;e&&t({pendingReview:(0,d.jM)(e,e=>{e.id=void 0,e.pendingReviewIDs=[],e.comments=[]})},void 0,"clearPendingReview")}}}))(e)(...t),...(({basePath:e,diffEntries:t,baseOid:n,headOid:i,selectedCommitRange:a})=>(r,s)=>{let l=a??{baseOid:n,headOid:i},o=(0,L.S)();for(let[n,i]of Object.entries(t)){let t=k(e,i.path,l.baseOid,l.headOid);o.setQueryData(t,()=>i.diffLines)}return{diffEntries:t,diffEntriesActions:{updateDiffEntries:t=>{let n=s().diffEntries??{},i={};for(let n of t){let t=k(e,n.path,s().comparisonInfo.effectiveRange.baseOid,s().comparisonInfo.effectiveRange.headOid);o.setQueryData(t,n.diffLines),i[n.path]=n}r({diffEntries:(0,d.jM)(n,e=>{for(let t of Object.keys(i))i[t]&&(e[t]=i[t])})},void 0,"updateDiffEntriesInMap")},loadDiffEntries:async t=>{var n;let i=await (n={basePath:e,...t,...s().comparisonInfo,isComparisonOutdated:s().isComparisonOutdated},(0,b.G7)("pr_sfv_new_diff_fetch")?I(n):_(n));return i&&0!==i.length?(s().diffEntriesActions.updateDiffEntries(i),i):[]},fetchContextLines:async({path:t,contextLineRanges:n,w:i="0"})=>{let a=k(e,t,s().comparisonInfo.effectiveRange.baseOid,s().comparisonInfo.effectiveRange.headOid),l=s().diffEntries[t];l&&await o.fetchQuery({queryKey:a,queryFn:async()=>{let d=await A({contextLineRanges:n,basePath:e,path:t,w:i,...s().comparisonInfo}),c=l.diffLines,u=o.setQueryData(a,e=>c=function(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,i=n.get(t);return i?{...e,position:i.position,displayNoNewLineWarning:i.displayNoNewLineWarning}:{...e,position:null,threadsData:void 0}})}(e??l.diffLines,d?.diffEntryLines??[]));return r(e=>({...e,diffEntries:{...e.diffEntries,[t]:{...l,diffLines:c}}}),void 0,"addContextLinesToDiffEntry"),u}})}}}})(e)(...t),...(({markers:e})=>(t,n)=>{let i,a,r=(0,y.Gl)(),s=(0,y.e3)();if(e){if(r){let t=Object.values(e||{}).flatMap(e=>Object.values(e).flatMap(e=>e?.threads??[]));if(t){let e=Number(r);for(let n of Object.values(t)){let t=n?.commentsData?.comments;if(n&&t)for(let r of t)Number(r.databaseId)===e&&(i=n.id,a=e)}}}else if(s){let t=Object.values(e).flatMap(e=>Object.values(e).flatMap(e=>e?.annotations??[]));if(t){let e=Number(s);for(let n of Object.values(t))Number(n.databaseId)===e&&(i=n.id)}}}return{markerAndDiffNavigation:{markerId:i,commentId:a,getCommentId:()=>n().markerAndDiffNavigation.commentId,getMarkerId:()=>n().markerAndDiffNavigation.markerId},markerAndDiffNavigationActions:{navigateToSelectedComment:e=>{let i=n().getThreadFromCommentID(e);if(i){let a=n().getPathDigestFromThreadID(i.id);n().progressiveDiffsActions.updateSelectedPathDigest(a),t(t=>({markerAndDiffNavigation:{...t.markerAndDiffNavigation,commentId:e,markerId:i?.id}}))}},navigateToSelectedAnnotation:e=>{let i=n().getAnnotationFromID(e);if(i){let a=n().getPathDigestFromAnnotationID(e);n().progressiveDiffsActions.updateSelectedPathDigest(a),t(e=>({markerAndDiffNavigation:{...e.markerAndDiffNavigation,commentId:void 0,markerId:i.id}}))}},handleHashUpdate:()=>{let e=(0,y.Gl)(),t=(0,y.e3)(),i=(0,y.jU)(window.location.hash),a=n(),r=a.markerAndDiffNavigation.commentId,s=a.markerAndDiffNavigation.markerId,l=a.selectedPathDigest;if(e&&e!==r)a.markerAndDiffNavigationActions.navigateToSelectedComment(e);else if(t){let e=a.getAnnotationFromID(t),n=e?.id;n&&n!==s&&a.markerAndDiffNavigationActions.navigateToSelectedAnnotation(t)}else i&&i!==l?a.progressiveDiffsActions.updateSelectedPathDigest(i):e||t||i||!l||a.progressiveDiffsActions.updateSelectedPathDigest(void 0)}}}})(e)(...t),...(({isSingleFileMode:e,commentsPreference:t})=>n=>({isSingleFileMode:e,commentsPreference:t,settingsActions:{updateCommentsPreference:e=>{n(()=>({commentsPreference:e}))}}}))(e)(...t),...(({pullRequest:e})=>(t,n)=>({pullRequest:{state:e.state,basePath:e.pathName,id:e.id,number:e.number},pullRequestActions:{updatePullRequestState:e=>{t({pullRequest:{...n().pullRequest,state:e}},void 0,"pullRequest#updatePullRequestState")}}}))(e)(...t),...(({baseRepository:e})=>()=>({repository:{baseRepository:{id:e.id,ownerLogin:e.ownerLogin,name:e.name}}}))(e)(...t),...(t=>({suggestionBatch:{activeBatch:e.initialActiveBatch??[],isSuggestionBatchPending:(e.initialActiveBatch?.length??0)>0},suggestionBatchActions:{addSuggestionToBatch:e=>t(t=>{if(t.suggestionBatch.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex))return t;let n=[...t.suggestionBatch.activeBatch,e];return{suggestionBatch:{...t.suggestionBatch,activeBatch:n,isSuggestionBatchPending:n.length>0}}}),removeSuggestionFromBatch:e=>t(t=>{let n=t.suggestionBatch.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex);return{suggestionBatch:{...t.suggestionBatch,activeBatch:n,isSuggestionBatchPending:n.length>0}}}),clearSuggestionBatch:()=>t(e=>({suggestionBatch:{...e.suggestionBatch,activeBatch:[],isSuggestionBatchPending:!1}})),loadActiveBatchFromStorage:e=>t(t=>({suggestionBatch:{...t.suggestionBatch,activeBatch:e,isSuggestionBatchPending:e.length>0}}))}}))(...t)}),{name:"pull-request-store"}));try{T.displayName||(T.displayName="PullRequestStoreContext")}catch{}try{P.displayName||(P.displayName="PullRequestStoreProvider")}catch{}},43883:(e,t,n)=>{n.d(t,{Gl:()=>r,TC:()=>d,ai:()=>s,eh:()=>o});var i=n(21067);let a={};function r(e,t){let n=t?.currency??"USD";return(a[n]||(a[n]=new Intl.NumberFormat((0,i.JK)(),{currency:n,style:"currency"}))).format(e)}function s(e,t){return new Intl.NumberFormat((0,i.JK)(),{maximumFractionDigits:t?.precision}).format(e)}let l=["k","m","b"];function o(e,t){let{suffix:n=!0,capping:i=1/0,precision:a=1}=t??{},r="",o=Math.min(i,e);if(n){let e=c(o);r=l[e-1]||"",o/=1e3**e}let d=s(o,{precision:a})+r;return e>i?`${d}+`:d}function d(e){if(e<=1e4)return 1;let t=c(e);return e/1e3**t>=10?0:1}function c(e){let t=Math.floor(Math.log(Math.max(Math.abs(e),1))/Math.log(1e3));return Math.min(l.length,t)}},44953:(e,t,n)=>{n.d(t,{_:()=>i});function i(e,t){if(void 0===e)throw TypeError("attempted to "+t+" private static field before its declaration")}},48845:(e,t,n)=>{n.d(t,{R:()=>r,hp:()=>a,ol:()=>AuthSessionExpiredError,q$:()=>s});var i=n(96379);let FetchRequestError=class FetchRequestError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="FetchRequestError",this.cause=e}};let ServerUnavailableError=class ServerUnavailableError extends Error{constructor(e){super("Unable to perform this operation. Please try again later."),this.name="ServerUnavailableError",this.cause=e}};let JSONParseFetchError=class JSONParseFetchError extends Error{constructor(e){super("Unable to read response from the server. Please try again later."),this.name="JSONParseFetchError",this.cause=e}};let AuthSessionExpiredError=class AuthSessionExpiredError extends Error{constructor(){super("Unable to perform this operation. Please try again later."),this.name="AuthSessionExpiredError"}};async function a(e){try{return await e.json()}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw new JSONParseFetchError(e)}}function r(e,t,n){if(!e.ok){if(e.status>=500)throw new ServerUnavailableError(e.status);if(n)throw n;if(t)throw Error(t?.error||"Unknown error occurred",{cause:e.status});throw Error(`HTTP ${e.status}`)}}async function s(e,t){try{return await (0,i.Sr)(e,t)}catch(e){throw new FetchRequestError(e)}}},49086:(e,t,n)=>{n.d(t,{n:()=>L});var i=n(74848),a=n(82075),r=n(21373),s=n(1481),l=n(96540),o=n(13107),d=n(26410),c=n(68273),u=n(21728),m=n(20622),f=n(53885),h=n(96379),p=n(65510);let g=(0,c.Z6)()?function(e){let t,n,i,a=(0,u.c)(7),r=(0,f.e)(m.uT.codeButton);return a[0]!==r?(t=[m.uT.codeButton,r],n=async()=>{let e=await (0,h.QJ)(r);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},a[0]=r,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==e||a[4]!==t||a[5]!==n?(i={queryKey:t,queryFn:n,initialData:e,staleTime:1/0},a[3]=e,a[4]=t,a[5]=n,a[6]=i):i=a[6],(0,p.U)(i)}:function(e){let t=(0,f.e)(m.uT.codeButton);return(0,p.U)({queryKey:[m.uT.codeButton,t],queryFn:async()=>{let e=await (0,h.QJ)(t);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},initialData:e,staleTime:1/0})};var x=n(91747),b=n(31604),v=n(94236),y=n(38621);let j=({isPrimary:e,children:t,size:n,onOpenChange:a})=>{let s=(0,x.u)("accessible_code_button"),[o,d]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{s&&a&&a(o)},[o,s]),s)?(0,i.jsx)(b.T,{align:"end",focusZoneSettings:{disabled:!0},open:o,onOpen:()=>d(!0),onClose:()=>d(!1),renderAnchor:t=>(0,i.jsx)(r.Q,{...t,variant:e?"primary":void 0,leadingVisual:()=>(0,i.jsx)(y.CodeIcon,{className:"hide-sm"}),trailingVisual:()=>(0,i.jsx)(y.TriangleDownIcon,{}),size:n||"medium",children:"Code"}),children:t}):(0,i.jsxs)(v.W,{children:[(0,i.jsx)(v.W.Button,{variant:e?"primary":void 0,leadingVisual:()=>(0,i.jsx)(y.CodeIcon,{className:"hide-sm"}),size:n||"medium",children:"Code"}),(0,i.jsx)(v.W.Overlay,{width:"auto",align:"end",children:t})]})};try{j.displayName||(j.displayName="CodeMenuButton")}catch{}var C=n(40493);let w=(0,a.A)("localStorage"),N="local",S="cloud";function L(e){var t,n;let{primary:a,size:c,showCodespacesTab:u,isEnterprise:m,localTab:f,codespacesTab:h,localTabProps:p,codespacesPath:g}=e,x="code-button-default-tab",[b,v]=(0,l.useState)(N),y=(0,l.useCallback)(e=>{v(S),w.setItem(x,S),e?.preventDefault()},[]),L=(0,l.useCallback)(e=>{v(N),w.setItem(x,N),e?.preventDefault()},[]);(0,l.useEffect)(()=>{w.getItem(x)===S&&u&&y()},[]);let _=!m&&u;return(0,i.jsxs)(j,{size:c,isPrimary:a,children:[_&&(0,i.jsxs)(s.A,{className:C.A.TabNav,children:[(0,i.jsx)(s.A.Link,{as:r.Q,selected:b===N,onClick:L,className:C.A.NavItem,children:"Local"}),!m&&u&&(0,i.jsx)(s.A.Link,{as:r.Q,selected:b===S,onClick:y,className:C.A.NavItem,children:"Codespaces"})]}),(0,i.jsxs)("div",{className:"react-overview-code-button-action-list py-0",children:[b===N&&(f||((t=p)?(0,i.jsx)(d.F,{...t}):null)),b===S&&(h||((n=g)?(0,i.jsx)(o.VO,{children:(0,i.jsx)(D,{codespacesPath:n})}):null))]})]})}function D(e){let t=g().data,n=(0,x.u)("copilot_swe_agent_progress_commands"),{repositoryPolicyInfo:a,...r}=t;return n?(0,i.jsx)(o.NF,{codespacesPath:e.codespacesPath,repoPolicyInfo:a,...r}):(0,i.jsx)(o.NF,{codespacesPath:e.codespacesPath,...t})}try{L.displayName||(L.displayName="CodeDropdownButton")}catch{}try{D.displayName||(D.displayName="SuspendedCodespacesTab")}catch{}},50129:(e,t,n)=>{n.d(t,{Kg:()=>l,Yu:()=>o});var i=n(74848),a=n(21728),r=n(96540);let s=(0,r.createContext)(null);function l(e){let t,n,r=(0,a.c)(5),{children:l,basePageDataUrl:o}=e;r[0]!==o?(t={basePageDataUrl:o},r[0]=o,r[1]=t):t=r[1];let d=t;return r[2]!==l||r[3]!==d?(n=(0,i.jsx)(s.Provider,{value:d,children:l}),r[2]=l,r[3]=d,r[4]=n):n=r[4],n}function o(){let e=(0,r.useContext)(s);if(!e)throw Error("usePageDataContext must be used within a PageDataContextProvider");return e}try{s.displayName||(s.displayName="PageDataContext")}catch{}try{l.displayName||(l.displayName="PageDataContextProvider")}catch{}},50625:(e,t,n)=>{n.d(t,{L:()=>m});var i=n(68273),a=n(21728),r=n(82075),s=n(96540);let{getItem:l,removeItem:o,setItem:d}=(0,r.D)("localStorage"),c=(e,t)=>{let{diffSide:n,filePath:i,line:a,subjectId:r}=e;if(t)return`PullRequest:${r}-File:${i}`;if(void 0!==a&&void 0!==n)return`PullRequest:${r}-File:${i}-Line:${a}-DiffSide:${n}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function u(e,t){let n=l(e),i=!!n?.text?.trim();return(0,s.useEffect)(()=>{i&&t?.(n)},[i]),{hasPersistedComment:i,removePersistedCommentFromStorage:()=>{o(e),i=!1,n=null}}}(0,i.GV)();let m=(0,i.GV)()?function(e){let t,n,i,r,s=(0,a.c)(16),{diffSide:l,filePath:o,handlePersistedCommentExists:m,line:f,subjectId:h,threadId:p,fileLevelComment:g}=e;e:{let e;if(p){t=p;break e}s[0]!==l||s[1]!==g||s[2]!==o||s[3]!==f||s[4]!==h||s[5]!==p?(e=p??c({diffSide:l,filePath:o,line:f,subjectId:h},g),s[0]=l,s[1]=g,s[2]=o,s[3]=f,s[4]=h,s[5]=p,s[6]=e):e=s[6],t=e}let x=t,{hasPersistedComment:b,removePersistedCommentFromStorage:v}=u(x,m);s[7]!==x?(n=e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),d(x,t)},s[7]=x,s[8]=n):n=s[8];let y=n;s[9]!==h?(i=e=>{let t={shouldFocus:!0};e.text&&(t={...t,text:e.text}),e.startLine&&(t={...t,startLine:e.startLine,startSide:e.givenLineDiffSide,startLineKey:e.startLineKey,endLineKey:e.endLineKey}),d(c({diffSide:e.givenLineDiffSide,filePath:e.givenFilePath,line:e.givenLine,subjectId:h},e.shouldBeFileLevelComment),t)},s[9]=h,s[10]=i):i=s[10];let j=i;return s[11]!==b||s[12]!==j||s[13]!==y||s[14]!==v?(r={hasPersistedComment:b,persistCommentToStorage:y,persistCommentOnGivenLineToStorage:j,removePersistedCommentFromStorage:v},s[11]=b,s[12]=j,s[13]=y,s[14]=v,s[15]=r):r=s[15],r}:function({diffSide:e,filePath:t,handlePersistedCommentExists:n,line:i,subjectId:a,threadId:r,fileLevelComment:l}){let o=(0,s.useMemo)(()=>r||(r??c({diffSide:e,filePath:t,line:i,subjectId:a},l)),[e,t,i,a,r,l]),{hasPersistedComment:m,removePersistedCommentFromStorage:f}=u(o,n);return{hasPersistedComment:m,persistCommentToStorage:e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),d(o,t)},persistCommentOnGivenLineToStorage:e=>{let t={shouldFocus:!0};e.text&&(t={...t,text:e.text}),e.startLine&&(t={...t,startLine:e.startLine,startSide:e.givenLineDiffSide,startLineKey:e.startLineKey,endLineKey:e.endLineKey}),d(c({diffSide:e.givenLineDiffSide,filePath:e.givenFilePath,line:e.givenLine,subjectId:a},e.shouldBeFileLevelComment),t)},removePersistedCommentFromStorage:f}}},51391:(e,t,n)=>{n.d(t,{Aj:()=>u,EV:()=>d,KV:()=>m,M6:()=>o,bo:()=>l,sB:()=>c});var i=n(36472),a=n(3038),r=n(61583),s=n(71315);function l(e){return`b:${e.blobLineNumber}-l:${e.left}-r:${e.right}`}function o({current:e,currentOrientation:t,previous:n,previousOrientation:i}){return!!n&&("left"===i&&"left"===t&&!!e.left&&!!n.left&&n.left>e.left||"right"===i&&"right"===t&&!!e.right&&!!n.right&&n.right>e.right||"right"===i&&"left"===t&&!!e.right&&!!n.right&&n.right>e.right||"left"===i&&"right"===t&&!!e.left&&!!n.left&&n.left>e.left||!1)}function d({diffAnchor:e,diffLines:t,isSplitView:n,lineRange:r}){let s,o=new Set([]);if(0===t.length)return{selectedLineKeys:o};if(!r)return{selectedLineKeys:new Set([])};let{startLineNumber:d,startOrientation:c,endLineNumber:u,endOrientation:m}=r,f=t;if(n){let e=(0,a.Mk)(t);f=e.leftLines,s=e.rightLines}let h={diffAnchor:e,endLineNumber:u??d,endOrientation:m??c,startLineNumber:d,startOrientation:c},p=(0,i.A)({selectedLineRange:h,leftLines:f,rightLines:s});for(let e=0;e<p.selectedLeftLines.length;e++){let t=p.selectedLeftLines[e];t&&!(0,a.Po)(t)&&o.add(l(t))}for(let e=0;e<p.selectedRightLines.length;e++){let t=p.selectedRightLines[e];t&&!(0,a.Po)(t)&&o.add(l(t))}return{selectedLineKeys:o,startOrientation:c,selectedLineRange:h}}function c(e){let t;for(t of e);return t}function u(e){return e.values().next().value}function m(e){let t=(0,r.EW)(s.fV.hash);if(!t||t[1]!==e)return;let n=t[2]?"L"===t[2]?"left":"right":void 0,i=t[3]?parseInt(t[3]):void 0,a=t[4]?"L"===t[4]?"left":"right":void 0,l=t[5]?parseInt(t[5]):void 0;if(n&&i)return{diffAnchor:e,endOrientation:a??n,endLineNumber:l??i,startOrientation:n,startLineNumber:i}}},52475:(e,t,n)=>{n.d(t,{_S:()=>r,cB:()=>l,cW:()=>s});var i=n(53627),a=n(71315);let r=()=>{let e=(0,i.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},s=e=>{(0,i.C3)({appId:e})},l=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};a.cg?.addEventListener("hashchange",()=>{(0,i.C3)({appId:l()})},!0)},53885:(e,t,n)=>{n.d(t,{e:()=>l});var i=n(68273),a=n(21728),r=n(37285),s=n(50129);let l=(0,i.xS)()?function(e,t){let n,i=(0,a.c)(2),{basePageDataUrl:l}=(0,s.Yu)(),o=`${l}/page_data/${e}`;return t&&(o+=`?${t}`),i[0]!==o?(n=(0,r.RD)(o),i[0]=o,i[1]=n):n=i[1],n}:function(e,t){let{basePageDataUrl:n}=(0,s.Yu)(),i=`${n}/page_data/${e}`;return t&&(i+=`?${t}`),(0,r.RD)(i)}},61219:(e,t,n)=>{n.d(t,{U:()=>ev});var i=n(74848),a=n(68273),r=n(21728),s=n(42118),l=n(26156),o=n(18559),d=n(81156),c=n(63352),u=n(73189),m=n(78809),f=n(73017),h=n(71315),p=n(43258),g=n(38621),x=n(72511),b=n(59394),v=n(34164),y=n(96540),j=n(25407),C=n(94747),w=n(27011),N=n(1932),S=n(96379);let L=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),{updateThreads:n}=(0,w.an)();return t[0]!==n?(e={mutationFn:D,onSuccess:(e,t)=>{n((0,N.jM)(e=>{let n=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===t.userLogin));if(0!==n.length)for(let e of n)e&&(e.viewerCanBlockFromOrg=!1,e.viewerCanUnblockFromOrg=!0,e.isHidden=t.shouldHideComment||e.isHidden,e.minimizedReason=t.hiddenReason||null)}))}},t[0]=n,t[1]=e):e=t[1],(0,C.n)(e)}:function(){let{updateThreads:e}=(0,w.an)();return(0,C.n)({mutationFn:async({duration:e,hiddenReason:t,organizationLogin:n,notifyBlockedUser:i,shouldHideComment:a,userLogin:r})=>{let s=new FormData;s.append("duration",e),s.append("hide_comment",a.toString()),t&&s.append("hidden_reason",t),s.append("login",r),s.append("send_notification",i.toString()),await (0,S.DI)((0,j.ggd)({owner:n}),{method:"POST",body:s,redirect:"manual"})},onSuccess:(t,n)=>{e((0,N.jM)(e=>{let t=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===n.userLogin));if(0!==t.length)for(let e of t)e&&(e.viewerCanBlockFromOrg=!1,e.viewerCanUnblockFromOrg=!0,e.isHidden=n.shouldHideComment||e.isHidden,e.minimizedReason=n.hiddenReason||null)}))}})};async function D(e){let{duration:t,hiddenReason:n,organizationLogin:i,notifyBlockedUser:a,shouldHideComment:r,userLogin:s}=e,l=new FormData;l.append("duration",t),l.append("hide_comment",r.toString()),n&&l.append("hidden_reason",n),l.append("login",s),l.append("send_notification",a.toString()),await (0,S.DI)((0,j.ggd)({owner:i}),{method:"POST",body:l,redirect:"manual"})}var _=n(48845);let I=(0,a.Z6)()?function(e){let t,n,i,a=(0,r.c)(15),{filePath:s,lineMarkersKey:l,onSuccess:o}=e,d=(0,w.Kp)(),{deleteThreadComment:c}=(0,w.an)(),{onCommentThreadDeleted:u}=(0,w.Ud)(),m=(0,w.SM)(),{removePendingComment:f}=(0,w._N)();return a[0]!==d||a[1]!==s||a[2]!==m||a[3]!==l?(t=async e=>{let{commentId:t,threadId:n}=e,i=m(Number(n),s,l)?.commentsData?.comments?.find(e=>e.id===t);if(!i)return;let a=`${d}/page_data/review_comments/${i.databaseId}`,r=await (0,_.q$)(`${a}`,{method:"DELETE"});if(204===r.status||200===r.status)return;let o=await (0,_.hp)(r);(0,_.R)(r,o)},a[0]=d,a[1]=s,a[2]=m,a[3]=l,a[4]=t):t=a[4],a[5]!==c||a[6]!==s||a[7]!==l||a[8]!==u||a[9]!==o||a[10]!==f?(n=(e,t)=>{let{commentId:n,threadId:i}=t,a=c(Number(i),n,s,l);f(Number(i)),"thread_deleted"===a&&("thread_deleted"===a&&u({path:s,threadID:i}),o?.())},a[5]=c,a[6]=s,a[7]=l,a[8]=u,a[9]=o,a[10]=f,a[11]=n):n=a[11],a[12]!==t||a[13]!==n?(i={mutationFn:t,onSuccess:n},a[12]=t,a[13]=n,a[14]=i):i=a[14],(0,C.n)(i)}:function({filePath:e,lineMarkersKey:t,onSuccess:n}){let i=(0,w.Kp)(),{deleteThreadComment:a}=(0,w.an)(),{onCommentThreadDeleted:r}=(0,w.Ud)(),s=(0,w.SM)(),{removePendingComment:l}=(0,w._N)();return(0,C.n)({mutationFn:async({commentId:n,threadId:a})=>{let r=s(Number(a),e,t)?.commentsData?.comments?.find(e=>e.id===n);if(!r)return;let l=`${i}/page_data/review_comments/${r.databaseId}`,o=await (0,_.q$)(`${l}`,{method:"DELETE"});if(204===o.status||200===o.status)return;let d=await (0,_.hp)(o);(0,_.R)(o,d)},onSuccess:(i,{commentId:s,threadId:o})=>{let d=a(Number(o),s,e,t);l(Number(o)),"thread_deleted"===d&&("thread_deleted"===d&&r({path:e,threadID:o}),n?.())}})};var R=n(20622);let k=(0,a.Z6)()?function(e,t){let n,i,a,s=(0,r.c)(9),l=(0,w.Kp)(),o=`${l}/page_data/${R.uT.hideComment}`,{updateThreadComment:d}=(0,w.an)();return s[0]!==o?(n=async e=>{let{commentDatabaseId:t,reason:n}=e,i=await (0,_.q$)(o,{method:"POST",body:{classifier:n,commentId:t}}),a=await (0,_.hp)(i);return(0,_.R)(i,a),a},s[0]=o,s[1]=n):n=s[1],s[2]!==e||s[3]!==t||s[4]!==d?(i=n=>{d({threadID:n.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===n.commentDatabaseId,transform:e=>{if(e)return{...e,isHidden:!0,minimizedReason:n.reason}}})},s[2]=e,s[3]=t,s[4]=d,s[5]=i):i=s[5],s[6]!==n||s[7]!==i?(a={mutationFn:n,onSuccess:i},s[6]=n,s[7]=i,s[8]=a):a=s[8],(0,C.n)(a)}:function(e,t){let n=(0,w.Kp)(),i=`${n}/page_data/${R.uT.hideComment}`,{updateThreadComment:a}=(0,w.an)();return(0,C.n)({mutationFn:async({commentDatabaseId:e,reason:t})=>{let n=await (0,_.q$)(i,{method:"POST",body:{classifier:t,commentId:e}}),a=await (0,_.hp)(n);return(0,_.R)(n,a),a},onSuccess:n=>{a({threadID:n.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===n.commentDatabaseId,transform:e=>{if(e)return{...e,isHidden:!0,minimizedReason:n.reason}}})}})},A=(0,a.Z6)()?function(e,t){let n,i,a,s=(0,r.c)(9),l=(0,w.Kp)(),{updateThreadComment:o}=(0,w.an)();return s[0]!==l?(n=async e=>{let{commentDatabaseId:t,reaction:n,viewerHasReacted:i}=e,a=`${l}/page_data/${i?R.uT.removeCommentReaction:R.uT.addCommentReaction}`,r=await (0,_.q$)(a,{method:"POST",body:{reaction:n,commentId:t}}),s=await (0,_.hp)(r);return(0,_.R)(r,s),s},s[0]=l,s[1]=n):n=s[1],s[2]!==e||s[3]!==t||s[4]!==o?(i=(n,i)=>{o({threadID:parseInt(i.threadId),filePath:e,lineMarkersKey:t,match:e=>e.databaseId===i.commentDatabaseId,transform:e=>{if(e)return{...e,reactionGroups:n.reactionGroups}}})},s[2]=e,s[3]=t,s[4]=o,s[5]=i):i=s[5],s[6]!==n||s[7]!==i?(a={mutationFn:n,onSuccess:i},s[6]=n,s[7]=i,s[8]=a):a=s[8],(0,C.n)(a)}:function(e,t){let n=(0,w.Kp)(),{updateThreadComment:i}=(0,w.an)();return(0,C.n)({mutationFn:async({commentDatabaseId:e,reaction:t,viewerHasReacted:i})=>{let a=`${n}/page_data/${i?R.uT.removeCommentReaction:R.uT.addCommentReaction}`,r=await (0,_.q$)(a,{method:"POST",body:{reaction:t,commentId:e}}),s=await (0,_.hp)(r);return(0,_.R)(r,s),s},onSuccess:(n,a)=>{i({threadID:parseInt(a.threadId),filePath:e,lineMarkersKey:t,match:e=>e.databaseId===a.commentDatabaseId,transform:e=>{if(e)return{...e,reactionGroups:n.reactionGroups}}})}})},E=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),{updateThreads:n}=(0,w.an)();return t[0]!==n?(e={mutationFn:T,onSuccess:(e,t)=>{n((0,N.jM)(e=>{let n=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===t.userLogin));if(0!==n.length)for(let e of n)e&&(e.viewerCanBlockFromOrg=!0,e.viewerCanUnblockFromOrg=!1)}))}},t[0]=n,t[1]=e):e=t[1],(0,C.n)(e)}:function(){let{updateThreads:e}=(0,w.an)();return(0,C.n)({mutationFn:async({organizationLogin:e,userLogin:t})=>{await (0,_.q$)(`${(0,j.ggd)({owner:e})}/${(0,j.QU3)(t)}`,{method:"DELETE",redirect:"manual"})},onSuccess:(t,n)=>{e((0,N.jM)(e=>{let t=e.flatMap(e=>e.commentsData?.comments.filter(e=>e.author?.login===n.userLogin));if(0!==t.length)for(let e of t)e&&(e.viewerCanBlockFromOrg=!0,e.viewerCanUnblockFromOrg=!1)}))}})};async function T(e){let{organizationLogin:t,userLogin:n}=e;await (0,_.q$)(`${(0,j.ggd)({owner:t})}/${(0,j.QU3)(n)}`,{method:"DELETE",redirect:"manual"})}let O=(0,a.Z6)()?function(e,t){let n,i,a,s=(0,r.c)(9),l=(0,w.Kp)(),o=`${l}/page_data/${R.uT.unhideComment}`,{updateThreadComment:d}=(0,w.an)();return s[0]!==o?(n=async e=>{let{commentDatabaseId:t}=e,n=await (0,_.q$)(o,{method:"POST",body:{commentId:t}}),i=await (0,_.hp)(n);return(0,_.R)(n,i),i},s[0]=o,s[1]=n):n=s[1],s[2]!==e||s[3]!==t||s[4]!==d?(i=n=>{d({threadID:n.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===n.commentDatabaseId,transform:P})},s[2]=e,s[3]=t,s[4]=d,s[5]=i):i=s[5],s[6]!==n||s[7]!==i?(a={mutationFn:n,onSuccess:i},s[6]=n,s[7]=i,s[8]=a):a=s[8],(0,C.n)(a)}:function(e,t){let n=(0,w.Kp)(),i=`${n}/page_data/${R.uT.unhideComment}`,{updateThreadComment:a}=(0,w.an)();return(0,C.n)({mutationFn:async({commentDatabaseId:e})=>{let t=await (0,_.q$)(i,{method:"POST",body:{commentId:e}}),n=await (0,_.hp)(t);return(0,_.R)(t,n),n},onSuccess:n=>{a({threadID:n.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===n.commentDatabaseId,transform:e=>{if(e)return{...e,isHidden:!1,minimizedReason:null}}})}})};function P(e){if(e)return{...e,isHidden:!1,minimizedReason:null}}let F=(0,a.Z6)()?function(e){let t,n,i,a=(0,r.c)(10),{filePath:s,lineMarkersKey:l,onSuccess:o}=e,d=(0,w.Kp)(),c=`${d}/page_data/${R.uT.updateReviewComment}`,{updateThreadComment:u}=(0,w.an)();return a[0]!==c?(t=async e=>{let{commentId:t,bodyVersion:n,body:i}=e,a=await (0,_.q$)(`${c}${n?`?body_version=${n}`:""}`,{method:"PUT",body:{body:i,commentId:t}}),r=await (0,_.hp)(a);return(0,_.R)(a,r),r},a[0]=c,a[1]=t):t=a[1],a[2]!==s||a[3]!==l||a[4]!==o||a[5]!==u?(n=e=>{u({threadID:e.threadId,filePath:s,lineMarkersKey:l,match:t=>t.databaseId===e.commentDatabaseId,transform:t=>{if(t)return{...t,body:e.body,bodyHTML:e.bodyHTML,bodyVersion:e.bodyVersion}}}),o?.()},a[2]=s,a[3]=l,a[4]=o,a[5]=u,a[6]=n):n=a[6],a[7]!==t||a[8]!==n?(i={mutationFn:t,onSuccess:n},a[7]=t,a[8]=n,a[9]=i):i=a[9],(0,C.n)(i)}:function({filePath:e,lineMarkersKey:t,onSuccess:n}){let i=(0,w.Kp)(),a=`${i}/page_data/${R.uT.updateReviewComment}`,{updateThreadComment:r}=(0,w.an)();return(0,C.n)({mutationFn:async({commentId:e,bodyVersion:t,body:n})=>{let i=await (0,_.q$)(`${a}${t?`?body_version=${t}`:""}`,{method:"PUT",body:{body:n,commentId:e}}),r=await (0,_.hp)(i);return(0,_.R)(i,r),r},onSuccess:i=>{r({threadID:i.threadId,filePath:e,lineMarkersKey:t,match:e=>e.databaseId===i.commentDatabaseId,transform:e=>{if(e)return{...e,body:i.body,bodyHTML:i.bodyHTML,bodyVersion:i.bodyVersion}}}),n?.()}})};var $=n(34784),M=n(8748),B=n(50625),V=n(93642),U=n(70109);let G="ReviewThreadComment-module__ReviewThreadContainer--mI1dg",H="ReviewThreadComment-module__anchorable--bXoU8",q="ReviewThreadComment-module__ReviewThreadWrapper--zXqpP",z="ReviewThreadComment-module__ReviewThreadBox--Ddyuz",K="ReviewThreadComment-module__ReviewThreadInnerContainer--xw85s",W="ReviewThreadComment-module__ReplyWrapper--yIUaX",Z="ReviewThreadComment-module__SafeHTMLBox--SVSQJ",Q="ReviewThreadComment-module__BodyHTMLContainer--O6lsx";var X=n(88431),J=n(40961),Y=n(80081),ee=n(3252);let et=(0,a.Z6)()?function(){let e,t=(0,r.c)(2),n=(0,w.Kp)(),i=`${n}/page_data/${R.uT.submitSuggestedChanges}`;return t[0]!==i?(e={mutationFn:async e=>{let{changes:t,currentOid:n,message:a}=e,r=await (0,_.q$)(i,{method:"POST",body:{changes:t,currentOid:n,message:a}}),s=await (0,_.hp)(r);return(0,_.R)(r,s),s},onSuccess:en},t[0]=i,t[1]=e):e=t[1],(0,C.n)(e)}:function(){let e=(0,w.Kp)(),t=`${e}/page_data/${R.uT.submitSuggestedChanges}`;return(0,C.n)({mutationFn:async({changes:e,currentOid:n,message:i})=>{let a=await (0,_.q$)(t,{method:"POST",body:{changes:e,currentOid:n,message:i}}),r=await (0,_.hp)(a);return(0,_.R)(a,r),r},onSuccess:()=>{h.cg?.location.reload()}})};function en(){h.cg?.location.reload()}var ei=n(91747),ea=n(2265),er=n(30459),es=n(26607),el=n(21373),eo=n(88008);let ed=(0,a.GV)()?function(e){let t,n,a,s,l,o=(0,r.c)(28),{onOpenDialog:d,suggestedChange:c}=e,{sendAnalyticsEvent:u}=(0,er.s)(),m=(0,y.useRef)(null),f=c.commentDatabaseId||0;o[0]!==c.suggestionIndex||o[1]!==f?(t={commentDatabaseId:f,suggestionIndex:c.suggestionIndex},o[0]=c.suggestionIndex,o[1]=f,o[2]=t):t=o[2];let h=(0,w.Nk)(t),p=(0,w.RH)(),g=(0,ei.u)("batch_suggested_changes"),{addSuggestionToBatch:x,removeSuggestionFromBatch:b}=(0,w.xJ)(),v=(0,w.WK)(),j=(0,w.Kp)(),C=(0,w.L3)();o[3]!==x||o[4]!==C||o[5]!==j||o[6]!==u||o[7]!==c.commentDatabaseId||o[8]!==c.suggestionIndex||o[9]!==v?(n=()=>{if(!c.commentDatabaseId)return;let e={commentDatabaseId:c.commentDatabaseId,suggestionIndex:c.suggestionIndex};x(e),(0,eo.CE)(j,C.fullDiff.headOid,[...v.activeBatch,e]),u("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")},o[3]=x,o[4]=C,o[5]=j,o[6]=u,o[7]=c.commentDatabaseId,o[8]=c.suggestionIndex,o[9]=v,o[10]=n):n=o[10];let N=n;o[11]!==C||o[12]!==j||o[13]!==b||o[14]!==u||o[15]!==c.commentDatabaseId||o[16]!==c.suggestionIndex||o[17]!==v?(a=()=>{if(!c.commentDatabaseId)return;let e={commentDatabaseId:c.commentDatabaseId,suggestionIndex:c.suggestionIndex};b(e),(0,eo.CE)(j,C.fullDiff.headOid,v.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex)),u("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},o[11]=C,o[12]=j,o[13]=b,o[14]=u,o[15]=c.commentDatabaseId,o[16]=c.suggestionIndex,o[17]=v,o[18]=a):a=o[18];let S=a;o[19]!==d?(s=()=>{d(m)},o[19]=d,o[20]=s):s=o[20];let L=s;return o[21]!==g||o[22]!==N||o[23]!==L||o[24]!==S||o[25]!==h||o[26]!==p?(l=(0,i.jsx)("div",{className:"d-flex flex-row flex-items-center",children:g&&h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.A,{variant:"attention",children:"Pending in batch"}),(0,i.jsx)("div",{className:"ml-auto",children:(0,i.jsx)(el.Q,{variant:"danger",onClick:S,children:"Remove from batch"})})]}):(0,i.jsxs)("div",{className:"d-flex gap-2 ml-auto flex-wrap-reverse",children:[!p&&(0,i.jsx)(el.Q,{variant:"default",onClick:L,ref:m,children:"Apply suggestion"}),g&&(0,i.jsx)(el.Q,{variant:"primary",onClick:N,children:"Add suggestion to batch"})]})}),o[21]=g,o[22]=N,o[23]=L,o[24]=S,o[25]=h,o[26]=p,o[27]=l):l=o[27],l}:function({onOpenDialog:e,suggestedChange:t}){let{sendAnalyticsEvent:n}=(0,er.s)(),a=(0,y.useRef)(null),r=(0,w.Nk)({commentDatabaseId:t.commentDatabaseId||0,suggestionIndex:t.suggestionIndex}),s=(0,w.RH)(),l=(0,ei.u)("batch_suggested_changes"),{addSuggestionToBatch:o,removeSuggestionFromBatch:d}=(0,w.xJ)(),c=(0,w.WK)(),u=(0,w.Kp)(),m=(0,w.L3)(),f=(0,y.useCallback)(()=>{if(!t.commentDatabaseId)return;let e={commentDatabaseId:t.commentDatabaseId,suggestionIndex:t.suggestionIndex};o(e),(0,eo.CE)(u,m.fullDiff.headOid,[...c.activeBatch,e]),n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")},[o,t.commentDatabaseId,t.suggestionIndex,c,u,m,n]),h=(0,y.useCallback)(()=>{if(!t.commentDatabaseId)return;let e={commentDatabaseId:t.commentDatabaseId,suggestionIndex:t.suggestionIndex};d(e),(0,eo.CE)(u,m.fullDiff.headOid,c.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex)),n("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},[d,t.commentDatabaseId,t.suggestionIndex,c,u,m,n]),p=(0,y.useCallback)(()=>{e(a)},[e]);return(0,i.jsx)("div",{className:"d-flex flex-row flex-items-center",children:l&&r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.A,{variant:"attention",children:"Pending in batch"}),(0,i.jsx)("div",{className:"ml-auto",children:(0,i.jsx)(el.Q,{variant:"danger",onClick:h,children:"Remove from batch"})})]}):(0,i.jsxs)("div",{className:"d-flex gap-2 ml-auto flex-wrap-reverse",children:[!s&&(0,i.jsx)(el.Q,{variant:"default",onClick:p,ref:a,children:"Apply suggestion"}),l&&(0,i.jsx)(el.Q,{variant:"primary",onClick:f,children:"Add suggestion to batch"})]})})};try{ed.displayName||(ed.displayName="ApplyOrAddToBatch")}catch{}var ec=n(3585);let eu=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(5),{reason:s,className:l}=e,o=void 0===l?"m-2":l;return a[0]!==s?(t=(0,i.jsx)("small",{className:"fgColor-muted",children:s}),a[0]=s,a[1]=t):t=a[1],a[2]!==o||a[3]!==t?(n=(0,i.jsx)("div",{className:o,children:t}),a[2]=o,a[3]=t,a[4]=n):n=a[4],n}:function({reason:e,className:t="m-2"}){return(0,i.jsx)("div",{className:t,children:(0,i.jsx)("small",{className:"fgColor-muted",children:e})})};try{eu.displayName||(eu.displayName="CodeSuggestionUnavailable")}catch{}let em=(0,a.GV)()?function(e){let t,n,a,s,l,o,d,c,u,m,f,h,p=(0,r.c)(38),{suggestedChange:g}=e,{setIsDialogOpen:x}=(0,ea.W)(),[b,v]=(0,y.useState)(!1),j=(0,y.useRef)(void 0),C=(0,ei.u)("batch_suggested_changes"),N=(0,w.WK)();p[0]!==C||p[1]!==g||p[2]!==N?(t=C&&void 0!==g.commentDatabaseId&&null!==g.commentDatabaseId&&N.activeBatch.some(e=>e.commentDatabaseId===g.commentDatabaseId&&e.suggestionIndex===g.suggestionIndex),p[0]=C,p[1]=g,p[2]=N,p[3]=t):t=p[3];let S=t;p[4]!==g?(n=(0,Y.EJ)(g,[]),p[4]=g,p[5]=n):n=p[5];let{isValid:L,reason:D}=n;p[6]!==g?(a=[g],p[6]=g,p[7]=a):a=p[7];let _=a;p[8]!==_?(s=_.map(ef),p[8]=_,p[9]=s):s=p[9];let I=s;p[10]!==x?(l=e=>{v(e),x?.(e)},p[10]=x,p[11]=l):l=p[11];let R=l;p[12]!==R?(o=()=>{if(R(!1),j.current){let e=j.current.current;setTimeout(()=>e?.focus())}},p[12]=R,p[13]=o):o=p[13];let k=o;p[14]!==R?(d=e=>{R(!0),j.current=e},p[14]=R,p[15]=d):d=p[15];let A=d,{mutate:E}=et(),{fullDiff:T}=(0,w.L3)(),{headOid:O}=T;p[16]!==_||p[17]!==k||p[18]!==O||p[19]!==E?(c=(e,t,n)=>{E({changes:_,message:e,currentOid:O},{onSuccess:()=>{k(),n()},onError:e=>{t(e,"submitSuggestedChanges","Failed to submit suggested changes")}})},p[16]=_,p[17]=k,p[18]=O,p[19]=E,p[20]=c):c=p[20];let P=c;return p[21]!==A||p[22]!==g?(u=(0,i.jsx)(ed,{suggestedChange:g,onOpenDialog:A}),p[21]=A,p[22]=g,p[23]=u):u=p[23],p[24]!==S||p[25]!==L||p[26]!==D?(m=!S&&!L&&D&&(0,i.jsx)(eu,{reason:D,className:"m-0"}),p[24]=S,p[25]=L,p[26]=D,p[27]=m):m=p[27],p[28]!==I||p[29]!==_.length||p[30]!==k||p[31]!==P||p[32]!==b?(f=b&&(0,i.jsx)(ec.$,{authorLogins:I,batchSize:_.length,onClose:k,onCommit:P}),p[28]=I,p[29]=_.length,p[30]=k,p[31]=P,p[32]=b,p[33]=f):f=p[33],p[34]!==u||p[35]!==m||p[36]!==f?(h=(0,i.jsxs)("div",{className:"border-top p-2",children:[u,m,f]}),p[34]=u,p[35]=m,p[36]=f,p[37]=h):h=p[37],h}:function({suggestedChange:e}){let{setIsDialogOpen:t}=(0,ea.W)(),[n,a]=(0,y.useState)(!1),r=(0,y.useRef)(void 0),s=(0,ei.u)("batch_suggested_changes"),l=(0,w.WK)(),o=s&&void 0!==e.commentDatabaseId&&null!==e.commentDatabaseId&&l.activeBatch.some(t=>t.commentDatabaseId===e.commentDatabaseId&&t.suggestionIndex===e.suggestionIndex),{isValid:d,reason:c}=(0,Y.EJ)(e,[]),u=(0,y.useMemo)(()=>[e],[e]),m=u.map(e=>e.authorLogin),f=(0,y.useCallback)(e=>{a(e),t?.(e)},[t]),h=(0,y.useCallback)(()=>{if(f(!1),r.current){let e=r.current.current;setTimeout(()=>e?.focus())}},[f]),p=(0,y.useCallback)(e=>{f(!0),r.current=e},[f,r]),{mutate:g}=et(),{fullDiff:{headOid:x}}=(0,w.L3)(),b=(0,y.useCallback)((e,t,n)=>{g({changes:u,message:e,currentOid:x},{onSuccess:()=>{h(),n()},onError:e=>{t(e,"submitSuggestedChanges","Failed to submit suggested changes")}})},[u,h,x,g]);return(0,i.jsxs)("div",{className:"border-top p-2",children:[(0,i.jsx)(ed,{suggestedChange:e,onOpenDialog:p}),!o&&!d&&c&&(0,i.jsx)(eu,{reason:c,className:"m-0"}),n&&(0,i.jsx)(ec.$,{authorLogins:m,batchSize:u.length,onClose:h,onCommit:b})]})};function ef(e){return e.authorLogin}try{em.displayName||(em.displayName="CodeSuggestionActions")}catch{}let eh=(0,a.GV)()?function(e,t,n,i,a){let s,l,o=(0,r.c)(19),[d,c]=(0,y.useState)();o[0]!==a.lineRange||o[1]!==t.author?.login||o[2]!==t.databaseId||o[3]!==t.id||o[4]!==t.subjectType||o[5]!==e||o[6]!==n||o[7]!==i?(s=()=>{if(!e.current||t.subjectType?.toUpperCase()!=="LINE")return;let r=[...e.current.getElementsByClassName("js-apply-changes")];if(r.length>0){let e=[];for(let s=0;s<r.length;s++){let l=r[s];if(!l)continue;let o=l.closest("div.js-suggested-changes-blob");if(!o||!a.lineRange)continue;let d=(0,ee.y)(o);e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,commentDatabaseId:t.databaseId,path:n,ref:l,suggestion:d,lineRange:a.lineRange,threadId:i,suggestionIndex:s})}c(e)}},o[0]=a.lineRange,o[1]=t.author?.login,o[2]=t.databaseId,o[3]=t.id,o[4]=t.subjectType,o[5]=e,o[6]=n,o[7]=i,o[8]=s):s=o[8];let u=t.author?.login;return o[9]!==a.lineRange||o[10]!==t.bodyHTML||o[11]!==t.databaseId||o[12]!==t.id||o[13]!==t.subjectType||o[14]!==e||o[15]!==n||o[16]!==u||o[17]!==i?(l=[a.lineRange,u,t.bodyHTML,t.databaseId,t.id,t.subjectType,e,n,i],o[9]=a.lineRange,o[10]=t.bodyHTML,o[11]=t.databaseId,o[12]=t.id,o[13]=t.subjectType,o[14]=e,o[15]=n,o[16]=u,o[17]=i,o[18]=l):l=o[18],(0,X.N)(s,l),d}:function(e,t,n,i,a){let[r,s]=(0,y.useState)();return(0,X.N)(()=>{if(!e.current||t.subjectType?.toUpperCase()!=="LINE")return;let r=[...e.current.getElementsByClassName("js-apply-changes")];if(r.length>0){let e=[];for(let s=0;s<r.length;s++){let l=r[s];if(!l)continue;let o=l.closest("div.js-suggested-changes-blob");if(!o||!a.lineRange)continue;let d=(0,ee.y)(o);e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,commentDatabaseId:t.databaseId,path:n,ref:l,suggestion:d,lineRange:a.lineRange,threadId:i,suggestionIndex:s})}s(e)}},[a.lineRange,t.author?.login,t.bodyHTML,t.databaseId,t.id,t.subjectType,e,n,i]),r},ep=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(12),{applySuggestedChangesValidationData:s,comment:l,commentBodyRef:o,filePath:d,isOutdated:c,isThreadResolved:u,suggestedChangesConfig:m,databaseId:f,viewerCanApplySuggestion:h}=e,{state:p}=(0,w.Yp)(),g=(0,w.ww)(),x=eh(o,l,d,f,s);return a[0]!==s||a[1]!==l||a[2]!==g||a[3]!==c||a[4]!==u||a[5]!==p||a[6]!==x||a[7]!==m||a[8]!==h?(t=x?.length?x.map(e=>{let{isValid:t,reason:n}=(0,Y.o_)({suggestedChange:e,hasCommitRange:g,isOutdated:c,isPending:"PENDING"===l.state.toUpperCase(),isResolved:u,pullRequestIsClosed:void 0===p||"CLOSED"===p||"MERGED"===p,pullRequestIsInMergeQueue:"QUEUED"===p,userCanApplySuggestion:!!h,applySuggestedChangesValidationData:s,suggestedChangesConfig:m});return!t&&n?(0,J.createPortal)((0,i.jsx)(eu,{reason:n}),e.ref):(0,J.createPortal)((0,i.jsx)(em,{suggestedChange:e}),e.ref)}):null,a[0]=s,a[1]=l,a[2]=g,a[3]=c,a[4]=u,a[5]=p,a[6]=x,a[7]=m,a[8]=h,a[9]=t):t=a[9],a[10]!==t?(n=(0,i.jsx)(i.Fragment,{children:t}),a[10]=t,a[11]=n):n=a[11],n}:function({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:n,filePath:a,isOutdated:r,isThreadResolved:s,suggestedChangesConfig:l,databaseId:o,viewerCanApplySuggestion:d}){let{state:c}=(0,w.Yp)(),u=(0,w.ww)(),m=eh(n,t,a,o,e);return(0,i.jsx)(i.Fragment,{children:m?.length?m.map(n=>{let{isValid:a,reason:o}=(0,Y.o_)({suggestedChange:n,hasCommitRange:u,isOutdated:r,isPending:"PENDING"===t.state.toUpperCase(),isResolved:s,pullRequestIsClosed:void 0===c||"CLOSED"===c||"MERGED"===c,pullRequestIsInMergeQueue:"QUEUED"===c,userCanApplySuggestion:!!d,applySuggestedChangesValidationData:e,suggestedChangesConfig:l});return!a&&o?(0,J.createPortal)((0,i.jsx)(eu,{reason:o}),n.ref):(0,J.createPortal)((0,i.jsx)(em,{suggestedChange:n}),n.ref)}):null})};try{ep.displayName||(ep.displayName="SuggestedChangeView")}catch{}var eg=n(30721),ex=n(83494),eb=n(20459);let ev=(0,a.GV)()?function(e){let t,n,a,j,C,N,S,D,_,R,T,P,X,J,Y,ee,et,en,ei,ea,er,es,el,eo,ed,ec,eu,em,ef,eh,ev,ej,eC,ew,eN,eS,eL,eD,e_,eI,eR,ek,eA,eE,eT=(0,r.c)(176),{isAnchorable:eO,index:eP,isInlineComment:eF,isLastChild:e$,isOutdated:eM,isThreadResolved:eB,lineMarkersKey:eV,anchorPrefix:eU,comment:eG,disableDialogMode:eH,enableDialogMode:eq,filePath:ez,gridCellId:eK,hideActions:eW,isFirstComment:eZ,isInDialogMode:eQ,onDeleteLineComment:eX,onQuoteReply:eJ,threadCommentCount:eY,threadId:e0,threadPositionNumber:e1,suggestedChangesConfig:e2,applySuggestedChangesValidationData:e3,viewerData:e4,ghostUser:e5,originalDiffPathUri:e6,headingLevel:e7}=e,e8=void 0!==eO&&eO,e9=void 0===eP?0:eP,te=void 0!==eZ&&eZ,tt=void 0===eJ?u.l:eJ,tn=void 0===e5?d.t.ghostUser:e5,ti=void 0===e7?"h3":e7,{addToast:ta}=(0,p.Y6)(),[tr,ts]=(0,y.useState)(!1),[tl,to]=(0,y.useState)(eG.isHidden),[td,tc]=(0,y.useState)(!1),[tu,tm]=(0,y.useState)(eG.body),[tf,th]=(0,y.useState)(!1),[tp,tg]=(0,y.useState)(!1),[tx,tb]=(0,y.useState)(""),tv=(0,w.Kp)(),ty="FILE"===eG.subjectType;eT[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{let{text:t}=e;t&&tm(t)},eT[0]=t):t=eT[0],eT[1]!==tv||eT[2]!==eG.id||eT[3]!==ez||eT[4]!==ty?(n={subjectId:tv,filePath:ez,fileLevelComment:ty,threadId:eG.id,handlePersistedCommentExists:t},eT[1]=tv,eT[2]=eG.id,eT[3]=ez,eT[4]=ty,eT[5]=n):n=eT[5];let{persistCommentToStorage:tj,removePersistedCommentFromStorage:tC}=(0,B.L)(n),tw=(0,y.useRef)(null),tN=(0,y.useRef)(null),tS=(0,y.useRef)(null),[tL,tD]=(0,y.useState)("");eT[6]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{tw.current?.focus()},eT[6]=a):a=eT[6];let t_=a;eT[7]!==tr?(j=()=>{if(tr){let e=window.setTimeout(t_);return()=>{window.clearTimeout(e)}}},C=[tr],eT[7]=tr,eT[8]=j,eT[9]=C):(j=eT[8],C=eT[9]),(0,y.useEffect)(j,C),eT[10]!==eX?(N=()=>{tc(!1),tg(!1),eX?.()},eT[10]=eX,eT[11]=N):N=eT[11],eT[12]!==ez||eT[13]!==eV||eT[14]!==N?(S={filePath:ez,lineMarkersKey:eV,onSuccess:N},eT[12]=ez,eT[13]=eV,eT[14]=N,eT[15]=S):S=eT[15];let{mutate:tI}=I(S);eT[16]!==eH?(D=async()=>{eH?.(),tc(!0)},eT[16]=eH,eT[17]=D):D=eT[17];let tR=D;eT[18]!==ta||eT[19]!==eG.id||eT[20]!==tI||eT[21]!==eq||eT[22]!==ez||eT[23]!==eK||eT[24]!==e0?(_=e=>{"confirm"===e?(tg(!0),tI({commentId:eG.id,threadId:e0,filePath:ez},{onError:()=>{tc(!1),ta({type:"error",message:"Failed to delete comment"}),tg(!1)}})):(eK&&eq?.(eK),tc(!1),tg(!1))},eT[18]=ta,eT[19]=eG.id,eT[20]=tI,eT[21]=eq,eT[22]=ez,eT[23]=eK,eT[24]=e0,eT[25]=_):_=eT[25];let tk=_,{mutate:tA}=k(ez,eV);eT[26]!==eG.databaseId||eT[27]!==tA?(R=e=>{if(!eG.databaseId)throw Error("Comment not found");tA({commentDatabaseId:eG.databaseId,reason:e},{onError:()=>{th(!1),tD("Failed to hide comment")},onSuccess:()=>to(!0)})},eT[26]=eG.databaseId,eT[27]=tA,eT[28]=R):R=eT[28];let tE=R,{mutate:tT}=O(ez,eV);eT[29]!==eG.databaseId||eT[30]!==tT?(T=()=>{if(!eG.databaseId)throw Error("Comment not found");tT({commentDatabaseId:eG.databaseId},{onError:()=>{th(!1),tD("Failed to unhide comment")},onSuccess:()=>to(!1)})},eT[29]=eG.databaseId,eT[30]=tT,eT[31]=T):T=eT[31];let tO=T,{mutate:tP}=L();eT[32]!==tP?(P=(e,t,n,i,a,r)=>tP({duration:e,shouldHideComment:t,hiddenReason:n,organizationLogin:i,notifyBlockedUser:a,userLogin:r},{onError:()=>tD("Failed to block user"),onSuccess:()=>{t&&to(!0)}}),eT[32]=tP,eT[33]=P):P=eT[33];let tF=P,{mutate:t$}=E();eT[34]!==t$?(X=(e,t)=>t$({organizationLogin:e,userLogin:t},{onError:()=>tD("Failed to unblock user")}),eT[34]=t$,eT[35]=X):X=eT[35];let tM=X,{mutate:tB}=A(ez,eV);eT[36]!==ta||eT[37]!==eG.databaseId||eT[38]!==tB||eT[39]!==e0?(J=(e,t)=>{if(!eG.databaseId)throw Error("Comment not found");setTimeout(()=>tS.current?.focus(),0),tB({commentDatabaseId:eG.databaseId,threadId:e0,reaction:e,viewerHasReacted:t},{onError:()=>{th(!1),ta({type:"error",message:"Failed to react to comment"})}})},eT[36]=ta,eT[37]=eG.databaseId,eT[38]=tB,eT[39]=e0,eT[40]=J):J=eT[40];let tV=J;eT[41]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{ts(!0)},eT[41]=Y):Y=eT[41];let tU=Y;eT[42]!==eG.body||eT[43]!==tC?(ee=()=>{ts(!1),tC(),tm(eG.body)},eT[42]=eG.body,eT[43]=tC,eT[44]=ee):ee=eT[44];let tG=ee;eT[45]!==tj?(et=e=>{tj({text:e}),tm(e),tb(void 0)},eT[45]=tj,eT[46]=et):et=eT[46];let tH=et;eT[47]!==tC?(en=()=>{ts(!1),th(!1),tC()},eT[47]=tC,eT[48]=en):en=eT[48],eT[49]!==ez||eT[50]!==eV||eT[51]!==en?(ei={filePath:ez,lineMarkersKey:eV,onSuccess:en},eT[49]=ez,eT[50]=eV,eT[51]=en,eT[52]=ei):ei=eT[52];let{mutate:tq}=F(ei);eT[53]!==ta||eT[54]!==tu||eT[55]!==eG.bodyVersion||eT[56]!==eG.databaseId||eT[57]!==e2?.sourceContentFromDiffLines||eT[58]!==tq?(ea=()=>{th(!0);let e=(0,V.u)(tu,e2?.sourceContentFromDiffLines??"");if(!e.isValid){tb(e.errorMessage),th(!1);return}tq({commentId:String(eG.databaseId),body:tu,bodyVersion:eG.bodyVersion},{onError:()=>{th(!1),ta({type:"error",message:"Failed to update comment"})}})},eT[53]=ta,eT[54]=tu,eT[55]=eG.bodyVersion,eT[56]=eG.databaseId,eT[57]=e2?.sourceContentFromDiffLines,eT[58]=tq,eT[59]=ea):ea=eT[59],e2?.sourceContentFromDiffLines;let tz=ea;eT[60]!==eG.databaseId?(er=eG.databaseId?.toString(),eT[60]=eG.databaseId,eT[61]=er):er=eT[61];let tK=er,tW=tK?`${void 0===eU?"r":eU}${tK}`:void 0;eT[62]!==tW?(es=tW&&h.fV?new URL(`${h.fV.pathname}#${tW}`,h.fV.origin).toString():"",eT[62]=tW,eT[63]=es):es=eT[63];let tZ=es,tQ=(0,y.useRef)(null);eT[64]!==tW||eT[65]!==tK||eT[66]!==e8?(el={isAnchorable:e8,commentId:tK,commentAnchor:tW,containerRef:tQ},eT[64]=tW,eT[65]=tK,eT[66]=e8,eT[67]=el):el=eT[67],(0,M.u)(el);let tX=e9>0,tJ=e9>1,tY=tr?"editing":tl?"hidden":"visible";eT[68]!==ti?(eo={as:ti},eT[68]=ti,eT[69]=eo):eo=eT[69];let t0=eo,t1=eG.author?.avatarUrl??tn.avatarUrl,t2=eG.reference.text??`#${eG.reference.number}`;eT[70]!==eG||eT[71]!==tZ||eT[72]!==t2?(ed={...eG,url:tZ,referenceText:t2},eT[70]=eG,eT[71]=tZ,eT[72]=t2,eT[73]=ed):ed=eT[73];let t3=eG.author?.login??tn.login,t4=eG.reference?.author?.login??"";eT[74]===Symbol.for("react.memo_cache_sentinel")?(ec={},eT[74]=ec):ec=eT[74];let t5="copilot"===eG.reviewVariantType?"copilot-pull-request-reviewer":void 0,t6="copilot"===eG.reviewVariantType?l.S.Bot:void 0;eT[75]!==eW||eT[76]!==tl||eT[77]!==eM||eT[78]!==tX||eT[79]!==tF||eT[80]!==tR||eT[81]!==tE||eT[82]!==tt||eT[83]!==tM||eT[84]!==tO||eT[85]!==e6||eT[86]!==t0||eT[87]!==t1||eT[88]!==ed||eT[89]!==t3||eT[90]!==t4||eT[91]!==t5||eT[92]!==t6?(eu={headingProps:t0,avatarUrl:t1,comment:ed,commentRef:tQ,deleteComment:tR,editComment:tU,editHistoryComponent:void 0,hideComment:tE,onBlock:tF,onUnblock:tM,onMinimize:to,onSuccessfulBlock:ey,isMinimized:tl,commentAuthorLogin:t3,navigate:u.l,commentSubjectAuthorLogin:t4,onReplySelect:tt,unhideComment:tO,hideActions:eW,isReply:tX,forceInlineAvatar:!0,containerStyle:ec,originalDiffPathUri:e6,isOutdated:eM,commentAuthorSlug:t5,commentAuthorType:t6},eT[75]=eW,eT[76]=tl,eT[77]=eM,eT[78]=tX,eT[79]=tF,eT[80]=tR,eT[81]=tE,eT[82]=tt,eT[83]=tM,eT[84]=tO,eT[85]=e6,eT[86]=t0,eT[87]=t1,eT[88]=ed,eT[89]=t3,eT[90]=t4,eT[91]=t5,eT[92]=t6,eT[93]=eu):eu=eT[93];let t7=eu;eT[94]!==e9||eT[95]!==tX||eT[96]!==e1?(em=()=>tX?void 0!==e1?`Reply ${e9} to Comment ${e1}`:`Reply ${e9}`:void 0!==e1?`Comment ${e1}`:"Comment",eT[94]=e9,eT[95]=tX,eT[96]=e1,eT[97]=em):em=eT[97];let t8=em;eT[98]!==eG.body||eT[99]!==tr||eT[100]!==tt?(ef=()=>{if(tr)return;let e=h.cg?.getSelection(),t=e?.anchorNode?{anchorNode:e.anchorNode,range:e.getRangeAt(0)}:null;tt((0,eb.E)(tQ?.current,t,eG.body))},eT[98]=eG.body,eT[99]=tr,eT[100]=tt,eT[101]=ef):ef=eT[101];let t9=ef;eT[102]===Symbol.for("react.memo_cache_sentinel")?(eh=(0,eg.E7)(),eT[102]=eh):eh=eT[102];let ne=eh;eT[103]!==t9?(ev={"pull-requests-diff-view:quote-reply":t9},eT[103]=t9,eT[104]=ev):ev=eT[104];let nt=e8?tW:void 0,nn=eF?eQ?0:-1:0,ni=eG.id;eT[105]!==t8||eT[106]!==eQ?(ej=eQ?{role:"document","aria-roledescription":"comment","aria-label":t8()}:{},eT[105]=t8,eT[106]=eQ,eT[107]=ej):ej=eT[107];let na=e8&&H,nr="hidden"===tY&&"pb-2";return eT[108]!==na||eT[109]!==nr?(eC=(0,v.$)(G,na,nr),eT[108]=na,eT[109]=nr,eT[110]=eC):eC=eT[110],eT[111]!==tJ||eT[112]!==tX?(ew=tJ&&(0,i.jsx)("div",{className:q,"data-is-reply":tX,children:(0,i.jsx)("div",{className:z})}),eT[111]=tJ,eT[112]=tX,eT[113]=ew):ew=eT[113],eT[114]!==t7||eT[115]!==eW?(eN=eW?void 0:(0,i.jsx)($.RelayEnvironmentProvider,{environment:ne,children:(0,i.jsx)(o.p,{...t7})}),eT[114]=t7,eT[115]=eW,eT[116]=eN):eN=eT[116],eT[117]!==eG.body||eT[118]!==t7||eT[119]!==eQ||eT[120]!==eM||eT[121]!==eN||eT[122]!==eY?(eS=(0,i.jsx)(l.v,{...t7,commentBody:eG.body,threadCommentCount:eY,isInDialogMode:eQ,actions:eN,isOutdated:eM}),eT[117]=eG.body,eT[118]=t7,eT[119]=eQ,eT[120]=eM,eT[121]=eN,eT[122]=eY,eT[123]=eS):eS=eT[123],eT[124]!==tJ||eT[125]!==eS?(eL=(0,i.jsx)("div",{className:K,"data-is-nested-reply":tJ,children:eS}),eT[124]=tJ,eT[125]=eS,eT[126]=eL):eL=eT[126],eT[127]!==tL?(eD=tL&&(0,i.jsxs)(x.A,{variant:"danger",className:"m-3",children:[(0,i.jsx)(g.StopIcon,{className:"mr-2"}),tL]}),eT[127]=tL,eT[128]=eD):eD=eT[128],eT[129]!==e$||eT[130]!==tX?(e_=tX&&(0,i.jsx)("div",{className:W,"data-is-last-child":e$}),eT[129]=e$,eT[130]=tX,eT[131]=e_):e_=eT[131],eT[132]!==tu||eT[133]!==tY||eT[134]!==tx||eT[135]!==tX||eT[136]!==tf||eT[137]!==tG||eT[138]!==tH||eT[139]!==tz||eT[140]!==e2?(eI="editing"===tY&&(0,i.jsx)("div",{className:(0,v.$)("flex-1 min-width-0 pr-2 pt-1 pb-2",tX?"pl-0":"pl-2"),children:(0,i.jsxs)(U.S,{ref:tw,label:"Update comment",value:tu,onChange:tH,onPrimaryAction:tz,suggestedChangesConfig:e2,markdownErrorMessage:tx,children:[(0,i.jsx)(s.xR,{variant:"default",onClick:tG,children:"Cancel"}),(0,i.jsx)(s.xR,{disabled:tf||!tu.length,loading:tf,variant:"primary",onClick:tz,children:"Update"})]})}),eT[132]=tu,eT[133]=tY,eT[134]=tx,eT[135]=tX,eT[136]=tf,eT[137]=tG,eT[138]=tH,eT[139]=tz,eT[140]=e2,eT[141]=eI):eI=eT[141],eT[142]!==e3||eT[143]!==eG||eT[144]!==tY||eT[145]!==td||eT[146]!==ez||eT[147]!==tk||eT[148]!==tp||eT[149]!==eM||eT[150]!==tX||eT[151]!==eB||eT[152]!==tV||eT[153]!==e2||eT[154]!==e4?.viewerCanApplySuggestion?(eR="visible"===tY&&(0,i.jsxs)("div",{className:Q,"data-is-reply":tX,children:[eG.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.vb,{ref:tN,className:(0,v.$)("markdown-body",Z),"comment-testid":`Comment body html for comment ${eG.id}`,html:eG.bodyHTML}),"copilot"===eG.reviewVariantType&&(0,i.jsxs)("p",{className:"text-small color-fg-muted mt-2 mb-1",children:[(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"Link--inTextBlock",href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-code-review",children:"Copilot"})," ","uses AI. Check for mistakes."]}),(0,i.jsxs)("div",{className:"d-flex flex-direction-column gap-2",children:["copilot"===eG.reviewVariantType&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(c.Z,{commentUrl:eG.url,commentId:eG.databaseId?.toString()??""})}),eG.reactionGroups&&(0,i.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,i.jsx)(m.P,{ref:tS,reactionGroups:eG.reactionGroups,onReact:tV,canReact:eG.viewerCanReact})})]}),e3&&(0,i.jsx)(ep,{comment:eG,commentBodyRef:tN,filePath:ez,isOutdated:eM,isThreadResolved:eB,databaseId:eG.databaseId,suggestedChangesConfig:e2,applySuggestedChangesValidationData:e3,viewerCanApplySuggestion:e4?.viewerCanApplySuggestion})]}),td&&(0,i.jsx)(b.K,{title:"Delete comment?",confirmButtonContent:"Delete",confirmButtonType:"danger",confirmButtonLoading:tp,onClose:tk,children:"Are you sure you want to delete this comment?"})]}),eT[142]=e3,eT[143]=eG,eT[144]=tY,eT[145]=td,eT[146]=ez,eT[147]=tk,eT[148]=tp,eT[149]=eM,eT[150]=tX,eT[151]=eB,eT[152]=tV,eT[153]=e2,eT[154]=e4?.viewerCanApplySuggestion,eT[155]=eR):eR=eT[155],eT[156]!==tX||eT[157]!==e_||eT[158]!==eI||eT[159]!==eR?(ek=(0,i.jsxs)("div",{className:q,"data-is-reply":tX,children:[e_,eI,eR]}),eT[156]=tX,eT[157]=e_,eT[158]=eI,eT[159]=eR,eT[160]=ek):ek=eT[160],eT[161]!==eG.id||eT[162]!==te||eT[163]!==nt||eT[164]!==nn||eT[165]!==ej||eT[166]!==eC||eT[167]!==ew||eT[168]!==eL||eT[169]!==eD||eT[170]!==ek||eT[171]!==e0?(eA=(0,i.jsxs)("div",{ref:tQ,id:nt,tabIndex:nn,"data-first-thread-comment":te,"data-marker-navigation-comment-thread-id":e0,"data-marker-navigation-comment-id":ni,...ej,className:eC,children:[ew,eL,eD,ek]}),eT[161]=eG.id,eT[162]=te,eT[163]=nt,eT[164]=nn,eT[165]=ej,eT[166]=eC,eT[167]=ew,eT[168]=eL,eT[169]=eD,eT[170]=ek,eT[171]=e0,eT[172]=eA):eA=eT[172],eT[173]!==ev||eT[174]!==eA?(eE=(0,i.jsx)(ex.tL,{commands:ev,children:eA}),eT[173]=ev,eT[174]=eA,eT[175]=eE):eE=eT[175],eE}:function({isAnchorable:e=!1,index:t=0,isInlineComment:n,isLastChild:a,isOutdated:r,isThreadResolved:j,lineMarkersKey:C,anchorPrefix:N="r",comment:S,disableDialogMode:D,enableDialogMode:_,filePath:R,gridCellId:T,hideActions:P,isFirstComment:X=!1,isInDialogMode:J,onDeleteLineComment:Y,onQuoteReply:ee=u.l,threadCommentCount:et,threadId:en,threadPositionNumber:ei,suggestedChangesConfig:ea,applySuggestedChangesValidationData:er,viewerData:es,ghostUser:el=d.t.ghostUser,originalDiffPathUri:eo,headingLevel:ed="h3"}){let{addToast:ec}=(0,p.Y6)(),[eu,em]=(0,y.useState)(!1),[ef,eh]=(0,y.useState)(S.isHidden),[ev,ey]=(0,y.useState)(!1),[ej,eC]=(0,y.useState)(S.body),[ew,eN]=(0,y.useState)(!1),[eS,eL]=(0,y.useState)(!1),[eD,e_]=(0,y.useState)(""),eI=(0,w.Kp)(),{persistCommentToStorage:eR,removePersistedCommentFromStorage:ek}=(0,B.L)({subjectId:eI,filePath:R,fileLevelComment:"FILE"===S.subjectType,threadId:S.id,handlePersistedCommentExists:({text:e})=>{e&&eC(e)}}),eA=(0,y.useRef)(null),eE=(0,y.useRef)(null),eT=(0,y.useRef)(null),[eO,eP]=(0,y.useState)(""),eF=()=>{eA.current?.focus()};(0,y.useEffect)(()=>{if(eu){let e=window.setTimeout(eF);return()=>{window.clearTimeout(e)}}},[eu]);let{mutate:e$}=I({filePath:R,lineMarkersKey:C,onSuccess:()=>{ey(!1),eL(!1),Y?.()}}),eM=async()=>{D?.(),ey(!0)},{mutate:eB}=k(R,C),{mutate:eV}=O(R,C),{mutate:eU}=L(),{mutate:eG}=E(),{mutate:eH}=A(R,C),{mutate:eq}=F({filePath:R,lineMarkersKey:C,onSuccess:()=>{em(!1),eN(!1),ek()}}),ez=(0,y.useCallback)(()=>{eN(!0);let e=(0,V.u)(ej,ea?.sourceContentFromDiffLines??"");if(!e.isValid){e_(e.errorMessage),eN(!1);return}eq({commentId:String(S.databaseId),body:ej,bodyVersion:S.bodyVersion},{onError:()=>{eN(!1),ec({type:"error",message:"Failed to update comment"})}})},[ec,ej,S,ea?.sourceContentFromDiffLines,eq]),eK=S.databaseId?.toString(),eW=eK?`${N}${eK}`:void 0,eZ=eW&&h.fV?new URL(`${h.fV.pathname}#${eW}`,h.fV.origin).toString():"",eQ=(0,y.useRef)(null);(0,M.u)({isAnchorable:e,commentId:eK,commentAnchor:eW,containerRef:eQ});let eX=t>0,eJ=t>1,eY=eu?"editing":ef?"hidden":"visible",e0={headingProps:{as:ed},avatarUrl:S.author?.avatarUrl??el.avatarUrl,comment:{...S,url:eZ,referenceText:S.reference.text??`#${S.reference.number}`},commentRef:eQ,deleteComment:eM,editComment:()=>{em(!0)},editHistoryComponent:void 0,hideComment:e=>{if(!S.databaseId)throw Error("Comment not found");eB({commentDatabaseId:S.databaseId,reason:e},{onError:()=>{eN(!1),eP("Failed to hide comment")},onSuccess:()=>eh(!0)})},onBlock:(e,t,n,i,a,r)=>eU({duration:e,shouldHideComment:t,hiddenReason:n,organizationLogin:i,notifyBlockedUser:a,userLogin:r},{onError:()=>eP("Failed to block user"),onSuccess:()=>{t&&eh(!0)}}),onUnblock:(e,t)=>eG({organizationLogin:e,userLogin:t},{onError:()=>eP("Failed to unblock user")}),onMinimize:eh,onSuccessfulBlock:()=>{setTimeout(()=>h.cg?.location.reload(),800)},isMinimized:ef,commentAuthorLogin:S.author?.login??el.login,navigate:u.l,commentSubjectAuthorLogin:S.reference?.author?.login??"",onReplySelect:ee,unhideComment:()=>{if(!S.databaseId)throw Error("Comment not found");eV({commentDatabaseId:S.databaseId},{onError:()=>{eN(!1),eP("Failed to unhide comment")},onSuccess:()=>eh(!1)})},hideActions:P,isReply:eX,forceInlineAvatar:!0,containerStyle:{},originalDiffPathUri:eo,isOutdated:r,commentAuthorSlug:"copilot"===S.reviewVariantType?"copilot-pull-request-reviewer":void 0,commentAuthorType:"copilot"===S.reviewVariantType?l.S.Bot:void 0},e1=(0,y.useMemo)(()=>(0,eg.E7)(),[]);return(0,i.jsx)(ex.tL,{commands:{"pull-requests-diff-view:quote-reply":()=>{if(eu)return;let e=h.cg?.getSelection(),t=e?.anchorNode?{anchorNode:e.anchorNode,range:e.getRangeAt(0)}:null;ee((0,eb.E)(eQ?.current,t,S.body))}},children:(0,i.jsxs)("div",{ref:eQ,id:e?eW:void 0,tabIndex:n?J?0:-1:0,"data-first-thread-comment":X,"data-marker-navigation-comment-thread-id":en,"data-marker-navigation-comment-id":S.id,...J?{role:"document","aria-roledescription":"comment","aria-label":eX?void 0!==ei?`Reply ${t} to Comment ${ei}`:`Reply ${t}`:void 0!==ei?`Comment ${ei}`:"Comment"}:{},className:(0,v.$)(G,e&&H,"hidden"===eY&&"pb-2"),children:[eJ&&(0,i.jsx)("div",{className:q,"data-is-reply":eX,children:(0,i.jsx)("div",{className:z})}),(0,i.jsx)("div",{className:K,"data-is-nested-reply":eJ,children:(0,i.jsx)(l.v,{...e0,commentBody:S.body,threadCommentCount:et,isInDialogMode:J,actions:P?void 0:(0,i.jsx)($.RelayEnvironmentProvider,{environment:e1,children:(0,i.jsx)(o.p,{...e0})}),isOutdated:r})}),eO&&(0,i.jsxs)(x.A,{variant:"danger",className:"m-3",children:[(0,i.jsx)(g.StopIcon,{className:"mr-2"}),eO]}),(0,i.jsxs)("div",{className:q,"data-is-reply":eX,children:[eX&&(0,i.jsx)("div",{className:W,"data-is-last-child":a}),"editing"===eY&&(0,i.jsx)("div",{className:(0,v.$)("flex-1 min-width-0 pr-2 pt-1 pb-2",eX?"pl-0":"pl-2"),children:(0,i.jsxs)(U.S,{ref:eA,label:"Update comment",value:ej,onChange:e=>{eR({text:e}),eC(e),e_(void 0)},onPrimaryAction:ez,suggestedChangesConfig:ea,markdownErrorMessage:eD,children:[(0,i.jsx)(s.xR,{variant:"default",onClick:()=>{em(!1),ek(),eC(S.body)},children:"Cancel"}),(0,i.jsx)(s.xR,{disabled:ew||!ej.length,loading:ew,variant:"primary",onClick:ez,children:"Update"})]})}),"visible"===eY&&(0,i.jsxs)("div",{className:Q,"data-is-reply":eX,children:[S.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.vb,{ref:eE,className:(0,v.$)("markdown-body",Z),"comment-testid":`Comment body html for comment ${S.id}`,html:S.bodyHTML}),"copilot"===S.reviewVariantType&&(0,i.jsxs)("p",{className:"text-small color-fg-muted mt-2 mb-1",children:[(0,i.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"Link--inTextBlock",href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-code-review",children:"Copilot"})," ","uses AI. Check for mistakes."]}),(0,i.jsxs)("div",{className:"d-flex flex-direction-column gap-2",children:["copilot"===S.reviewVariantType&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(c.Z,{commentUrl:S.url,commentId:S.databaseId?.toString()??""})}),S.reactionGroups&&(0,i.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,i.jsx)(m.P,{ref:eT,reactionGroups:S.reactionGroups,onReact:(e,t)=>{if(!S.databaseId)throw Error("Comment not found");setTimeout(()=>eT.current?.focus(),0),eH({commentDatabaseId:S.databaseId,threadId:en,reaction:e,viewerHasReacted:t},{onError:()=>{eN(!1),ec({type:"error",message:"Failed to react to comment"})}})},canReact:S.viewerCanReact})})]}),er&&(0,i.jsx)(ep,{comment:S,commentBodyRef:eE,filePath:R,isOutdated:r,isThreadResolved:j,databaseId:S.databaseId,suggestedChangesConfig:ea,applySuggestedChangesValidationData:er,viewerCanApplySuggestion:es?.viewerCanApplySuggestion})]}),ev&&(0,i.jsx)(b.K,{title:"Delete comment?",confirmButtonContent:"Delete",confirmButtonType:"danger",confirmButtonLoading:eS,onClose:e=>{"confirm"===e?(eL(!0),e$({commentId:S.id,threadId:en,filePath:R},{onError:()=>{ey(!1),ec({type:"error",message:"Failed to delete comment"}),eL(!1)}})):(T&&_?.(T),ey(!1),eL(!1))},children:"Are you sure you want to delete this comment?"})]})]})]})})};function ey(){setTimeout(ej,800)}function ej(){return h.cg?.location.reload()}try{ev.displayName||(ev.displayName="ReviewThreadComment")}catch{}},65787:(e,t,n)=>{n.d(t,{U:()=>r});let i=e=>{let t=getComputedStyle(e,null);return!!t&&"function"==typeof t.getPropertyValue&&["overflow","overflow-y","overflow-x"].some(e=>{let n=t.getPropertyValue(e);return"auto"===n||"scroll"===n})},a=(e,t)=>e&&null!==e.parentNode?a(e.parentNode,t.concat([e])):t;function r(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of a(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&i(t))return t;return document.scrollingElement||document.documentElement}}},66446:(e,t,n)=>{n.d(t,{j:()=>s});var i=n(34418),a=n(99279),r=n(86320);let s=a.G.createQueryRouteConfig("pullRequestsLayoutRoute",{path:"/:owner/:repo/pull/:pr_number",queries:[(0,r.Y)(),{queryName:"tabCounts",queryDeps:({params:e})=>({pathname:`/${e.owner}/${e.repo}/pull/${e.pr_number}/page_data/tab_counts`}),queryFn:async e=>(0,i.X)(e)},{queryName:"diffstat",queryDeps:({params:e})=>({pathname:`/${e.owner}/${e.repo}/pull/${e.pr_number}/page_data/diffstat`}),queryFn:async e=>(0,i.X)(e)}]})},66559:(e,t,n)=>{n.d(t,{g:()=>r,n:()=>s});var i=n(99279),a=n(86320);let r=i.G.createQueryRouteConfig("pullRequestsChangesRoute",{path:"/:owner/:repo/pull/:pr_number/changes",queries:[(0,a.Y)()]}),s=i.G.createQueryRouteConfig("pullRequestsChangesWithRangeRoute",{path:"/:owner/:repo/pull/:pr_number/changes/:range",queries:[(0,a.Y)()]})},67718:(e,t,n)=>{n.d(t,{b:()=>rf});var i,a,r,s,l,o=n(74848),d=n(68273),c=n(21728),u=n(70719),m=n(79472),f=n(18799),h=n(83494),p=n(70843),g=n(15220),x=n(87555),b=n(34164),v=n(96540),y=n(70170),j=n(56051),C=n(5524),w=n(57478),N=n(96459),S=n(53627),L=n(82603),D=n(27011);let _=(0,v.forwardRef)((0,d.Z6)()?function(e,t){let n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,_,R=(0,c.c)(62),{basePath:k,fileFilterMenuOptions:A,fileFilterState:E,filterSize:T,viewerLogin:O,setFileFilterState:P}=e,[F]=(0,N.o)();R[0]!==k?(n={basePath:k},R[0]=k,R[1]=n):n=R[1];let{data:$}=(0,L.dG)(n),M=(0,v.useRef)(null);R[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>({focus:()=>{M.current?.focus()}}),R[2]=i):i=R[2],(0,v.useImperativeHandle)(t,i),R[3]!==E?(a={...E},R[3]=E,R[4]=a):a=R[4];let{filterText:B,fileExtensions:V,unselectedFileExtensions:U,showOnlyOwnedFiles:G,showDeletedFiles:H,showOnlyManifestFiles:q,showVendoredFiles:z,showViewedFiles:K}=a,{canSeeDeletedFilesFilter:W,canSeeOnlyManifestFilesFilter:Z,canSeeVendorFilesFilter:Q}=A,X=(0,D.q6)(),{clearAllFilters:J}=(0,D.or)(),{canSeeCodeownersFilter:Y}=A,ee=0;if($){let e;Y=$.isViewerOneOfMultipleCodeowners,R[5]!==$.ownershipByPath?(e=Object.values($.ownershipByPath).filter(I),R[5]=$.ownershipByPath,R[6]=e):e=R[6],ee=e.length}let et=(0,v.useRef)((0,y.s)(e=>ei({filterText:e}),250)),en=(e,t)=>{let n=U;"selectFileExtension"===e?n=new Set([...U].filter(e=>e!==t.extension)):"unselectFileExtension"===e&&(n=new Set([...U,t.extension]));let i=Object.keys(V).filter(e=>!n.has(e)),a=new URLSearchParams(F);a.delete("file-filters[]"),i.map(e=>{a.append("file-filters[]",e)}),ei({unselectedFileExtensions:n},a)};R[7]!==P?(r=(e,t)=>{t&&(0,S.MM)(t),P({...e})},R[7]=P,R[8]=r):r=R[8];let ei=r;R[9]!==J||R[10]!==F?(s=()=>{let e=new URLSearchParams(F);e.delete("file-filters[]"),e.delete("owned-by[]"),e.delete("show-deleted-files"),e.delete("manifests"),e.delete("show-vendored-files"),e.delete("show-viewed-files"),(0,S.MM)(e),J()},R[9]=J,R[10]=F,R[11]=s):s=R[11];let ea=s;return R[12]!==et?(l=e=>et.current(e),R[12]=et,R[13]=l):l=R[13],R[14]!==Y||R[15]!==ee||R[16]!==ei||R[17]!==F||R[18]!==G||R[19]!==O?(d=Y&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{}),(0,o.jsx)(C.l.Group,{selectionVariant:"single",children:(0,o.jsx)(C.l.Item,{selected:G,onSelect:()=>{if(!O)return;let e=new URLSearchParams(F);G?e.delete("owned-by[]",O):e.set("owned-by[]",O),ei({showOnlyOwnedFiles:!G},e)},children:(0,o.jsxs)(o.Fragment,{children:["Only files owned by you ",(0,o.jsx)(w.A,{children:ee})]})})})]}),R[14]=Y,R[15]=ee,R[16]=ei,R[17]=F,R[18]=G,R[19]=O,R[20]=d):d=R[20],R[21]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)(C.l.Divider,{}),R[21]=u):u=R[21],R[22]!==Z||R[23]!==ei||R[24]!==F||R[25]!==q?(m=Z&&(0,o.jsx)(C.l.Item,{selected:q,onSelect:()=>{let e=new URLSearchParams(F);e.set("manifests",`${!q}`),ei({showOnlyManifestFiles:!q},e)},children:"Only manifest files"}),R[22]=Z,R[23]=ei,R[24]=F,R[25]=q,R[26]=m):m=R[26],R[27]!==W||R[28]!==ei||R[29]!==F||R[30]!==H?(f=W&&(0,o.jsx)(C.l.Item,{selected:H,onSelect:()=>{let e=new URLSearchParams(F);e.set("show-deleted-files",`${!H}`),ei({showDeletedFiles:!H},e)},children:"Deleted files"}),R[27]=W,R[28]=ei,R[29]=F,R[30]=H,R[31]=f):f=R[31],R[32]!==Q||R[33]!==ei||R[34]!==F||R[35]!==z?(h=Q&&(0,o.jsx)(C.l.Item,{selected:z,onSelect:()=>{let e=new URLSearchParams(F);e.set("show-vendored-files",`${!z}`),ei({showVendoredFiles:!z},e)},children:"Vendored files"}),R[32]=Q,R[33]=ei,R[34]=F,R[35]=z,R[36]=h):h=R[36],R[37]!==ei||R[38]!==F||R[39]!==K?(p=()=>{let e=new URLSearchParams(F);e.set("show-viewed-files",`${!K}`),ei({showViewedFiles:!K},e)},R[37]=ei,R[38]=F,R[39]=K,R[40]=p):p=R[40],R[41]!==K||R[42]!==p?(g=(0,o.jsx)(C.l.Item,{selected:K,onSelect:p,children:"Viewed files"}),R[41]=K,R[42]=p,R[43]=g):g=R[43],R[44]!==f||R[45]!==h||R[46]!==g||R[47]!==m?(x=(0,o.jsxs)(C.l.Group,{"aria-label":"More",selectionVariant:"multiple",children:[m,f,h,g]}),R[44]=f,R[45]=h,R[46]=g,R[47]=m,R[48]=x):x=R[48],R[49]!==x||R[50]!==d?(b=(0,o.jsxs)(o.Fragment,{children:[d,u,x]}),R[49]=x,R[50]=d,R[51]=b):b=R[51],R[52]!==V||R[53]!==T||R[54]!==B||R[55]!==X||R[56]!==ea||R[57]!==en||R[58]!==b||R[59]!==l||R[60]!==U?(_=(0,o.jsx)(j.kF,{filterSize:T,filterText:B,fileExtensions:V,unselectedFileExtensions:U,onFilterTextChange:l,onFilterChange:en,onClearAllFilters:ea,isFilteringActive:X,additionalFilterGroups:b,ref:M}),R[52]=V,R[53]=T,R[54]=B,R[55]=X,R[56]=ea,R[57]=en,R[58]=b,R[59]=l,R[60]=U,R[61]=_):_=R[61],_}:function({basePath:e,fileFilterMenuOptions:t,fileFilterState:n,filterSize:i,viewerLogin:a,setFileFilterState:r},s){let[l]=(0,N.o)(),{data:d}=(0,L.dG)({basePath:e}),c=(0,v.useRef)(null);(0,v.useImperativeHandle)(s,()=>({focus:()=>{c.current?.focus()}}));let{filterText:u,fileExtensions:m,unselectedFileExtensions:f,showOnlyOwnedFiles:h,showDeletedFiles:p,showOnlyManifestFiles:g,showVendoredFiles:x,showViewedFiles:b}={...n},{canSeeDeletedFilesFilter:_,canSeeOnlyManifestFilesFilter:I,canSeeVendorFilesFilter:R}=t,k=(0,D.q6)(),{clearAllFilters:A}=(0,D.or)(),{canSeeCodeownersFilter:E}=t,T=0;d&&(E=d.isViewerOneOfMultipleCodeowners,T=Object.values(d.ownershipByPath).filter(e=>e.isOwnedByViewer).length);let O=(0,v.useRef)((0,y.s)(e=>P({filterText:e}),250)),P=(0,v.useCallback)((e,t)=>{t&&(0,S.MM)(t),r({...e})},[r]),F=(0,v.useCallback)(()=>{let e=new URLSearchParams(l);e.delete("file-filters[]"),e.delete("owned-by[]"),e.delete("show-deleted-files"),e.delete("manifests"),e.delete("show-vendored-files"),e.delete("show-viewed-files"),(0,S.MM)(e),A()},[l,A]);return(0,o.jsx)(j.kF,{filterSize:i,filterText:u,fileExtensions:m,unselectedFileExtensions:f,onFilterTextChange:e=>O.current(e),onFilterChange:(e,t)=>{let n=f;"selectFileExtension"===e?n=new Set([...f].filter(e=>e!==t.extension)):"unselectFileExtension"===e&&(n=new Set([...f,t.extension]));let i=Object.keys(m).filter(e=>!n.has(e)),a=new URLSearchParams(l);a.delete("file-filters[]"),i.map(e=>{a.append("file-filters[]",e)}),P({unselectedFileExtensions:n},a)},onClearAllFilters:F,isFilteringActive:k,additionalFilterGroups:(0,o.jsxs)(o.Fragment,{children:[E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{}),(0,o.jsx)(C.l.Group,{selectionVariant:"single",children:(0,o.jsx)(C.l.Item,{selected:h,onSelect:()=>{if(!a)return;let e=new URLSearchParams(l);h?e.delete("owned-by[]",a):e.set("owned-by[]",a),P({showOnlyOwnedFiles:!h},e)},children:(0,o.jsxs)(o.Fragment,{children:["Only files owned by you ",(0,o.jsx)(w.A,{children:T})]})})})]}),(0,o.jsx)(C.l.Divider,{}),(0,o.jsxs)(C.l.Group,{"aria-label":"More",selectionVariant:"multiple",children:[I&&(0,o.jsx)(C.l.Item,{selected:g,onSelect:()=>{let e=new URLSearchParams(l);e.set("manifests",`${!g}`),P({showOnlyManifestFiles:!g},e)},children:"Only manifest files"}),_&&(0,o.jsx)(C.l.Item,{selected:p,onSelect:()=>{let e=new URLSearchParams(l);e.set("show-deleted-files",`${!p}`),P({showDeletedFiles:!p},e)},children:"Deleted files"}),R&&(0,o.jsx)(C.l.Item,{selected:x,onSelect:()=>{let e=new URLSearchParams(l);e.set("show-vendored-files",`${!x}`),P({showVendoredFiles:!x},e)},children:"Vendored files"}),(0,o.jsx)(C.l.Item,{selected:b,onSelect:()=>{let e=new URLSearchParams(l);e.set("show-viewed-files",`${!b}`),P({showViewedFiles:!b},e)},children:"Viewed files"})]})]}),ref:c})});try{_.displayName||(_.displayName="FileFilter")}catch{}function I(e){return e.isOwnedByViewer}var R=n(1946),k=n(75202),A=n(81960),E=n(69726),T=n(84268),O=n(11196);let P="GroupsList-module__GroupsListContainer--x6dMy",F="GroupsList-module__GroupsListItemsShiftLeft--PGMNM",$="GroupsList-module__GroupItem--vAFCe",M="GroupsList-module__GroupsListToggle--KO5Om";var B=n(34535),V=n(82130);let U=(0,d.Z6)()?function(){let e,t,n=(0,c.c)(5),{sendPullRequestAnalyticsEvent:i}=(0,V.q)(),a=(0,D.JA)();n[0]!==a||n[1]!==i?(e=e=>{let{isErrorState:t,unavailableReason:n,userPreferenceDisabled:r,hasGroups:s}=e,l=void 0!==t&&t,o=void 0!==r&&r,d=void 0!==s&&s;i("change_groups.presented","CHANGE_GROUPS_PRESENTED",{presented_and_visible:d&&!l&&!o,presented_and_not_visible:d&&!l&&o,has_groups:d,is_error_state:l,selected_group_id:a?.id,browser_width:"undefined"!=typeof window?window.innerWidth:0,...n&&{unavailable_reason:n},...a&&{selected_group_name:a.name}})},n[0]=a,n[1]=i,n[2]=e):e=n[2];let r=e;return n[3]!==r?(t={sendChangeGroupsPresentedEvent:r},n[3]=r,n[4]=t):t=n[4],t}:function(){let{sendPullRequestAnalyticsEvent:e}=(0,V.q)(),t=(0,D.JA)();return{sendChangeGroupsPresentedEvent:(0,v.useCallback)(({isErrorState:n=!1,unavailableReason:i,userPreferenceDisabled:a=!1,hasGroups:r=!1})=>{e("change_groups.presented","CHANGE_GROUPS_PRESENTED",{presented_and_visible:r&&!n&&!a,presented_and_not_visible:r&&!n&&a,has_groups:r,is_error_state:n,selected_group_id:t?.id,browser_width:"undefined"!=typeof window?window.innerWidth:0,...i&&{unavailable_reason:i},...t&&{selected_group_name:t.name}})},[e,t])}};var G=n(38621),H=n(26108),q=n(64451),z=n(86877),K=n(46720),W=n(4175),Z=n(21373);let Q=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(16),{onClose:s,onSubmit:l,returnFocusRef:d,feedbackOptions:u,precheckOther:m}=e,f=void 0!==m&&m,[h,p]=(0,v.useState)(!1);r[0]!==f?(t=f?["OTHER"]:[],r[0]=f,r[1]=t):t=r[1];let[x,b]=(0,v.useState)(t),[y,j]=(0,v.useState)("");r[2]!==x||r[3]!==l||r[4]!==y?(n=e=>{e.preventDefault(),p(!0),x.length&&l({type:"NEGATIVE",feedbackChoice:x,textResponse:y})},r[2]=x,r[3]=l,r[4]=y,r[5]=n):n=r[5];let C=n;return r[6]!==h||r[7]!==x||r[8]!==u||r[9]!==C||r[10]!==y?(i=()=>(0,o.jsxs)("form",{onSubmit:C,children:[(0,o.jsxs)(g.l.Body,{children:[(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsxs)(q.A,{onChange:b,required:!0,children:[(0,o.jsx)(q.A.Label,{children:"Category"}),u.map(e=>(0,o.jsxs)(z.A,{id:`feedback_choice_${e.value}`,children:[(0,o.jsx)(K.A,{value:e.value,checked:x.includes(e.value)}),(0,o.jsx)(z.A.Label,{children:e.label})]},e.value)),h&&!x.length&&(0,o.jsx)(q.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,o.jsxs)(z.A,{id:"text_response",children:[(0,o.jsx)(z.A.Label,{children:"How should we improve this response?"}),(0,o.jsx)(W.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:y,resize:"vertical",onChange:e=>j(e.currentTarget.value)})]})]}),(0,o.jsx)(g.l.Footer,{children:(0,o.jsx)(Z.Q,{type:"submit",disabled:h&&(!y||!x),children:"Submit"})})]}),r[6]=h,r[7]=x,r[8]=u,r[9]=C,r[10]=y,r[11]=i):i=r[11],r[12]!==s||r[13]!==d||r[14]!==i?(a=(0,o.jsx)(g.l,{onClose:s,title:"Provide additional feedback",subtitle:"Please help us improve Groups by Copilot by sharing more details about these generated groups.",returnFocusRef:d,renderBody:i}),r[12]=s,r[13]=d,r[14]=i,r[15]=a):a=r[15],a}:function({onClose:e,onSubmit:t,returnFocusRef:n,feedbackOptions:i,precheckOther:a=!1}){let[r,s]=(0,v.useState)(!1),[l,d]=(0,v.useState)(a?["OTHER"]:[]),[c,u]=(0,v.useState)(""),m=e=>{e.preventDefault(),s(!0),l.length&&t({type:"NEGATIVE",feedbackChoice:l,textResponse:c})};return(0,o.jsx)(g.l,{onClose:e,title:"Provide additional feedback",subtitle:"Please help us improve Groups by Copilot by sharing more details about these generated groups.",returnFocusRef:n,renderBody:()=>(0,o.jsxs)("form",{onSubmit:m,children:[(0,o.jsxs)(g.l.Body,{children:[(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsxs)(q.A,{onChange:d,required:!0,children:[(0,o.jsx)(q.A.Label,{children:"Category"}),i.map(e=>(0,o.jsxs)(z.A,{id:`feedback_choice_${e.value}`,children:[(0,o.jsx)(K.A,{value:e.value,checked:l.includes(e.value)}),(0,o.jsx)(z.A.Label,{children:e.label})]},e.value)),r&&!l.length&&(0,o.jsx)(q.A.Validation,{variant:"error",children:"Please select a feedback category"})]})}),(0,o.jsxs)(z.A,{id:"text_response",children:[(0,o.jsx)(z.A.Label,{children:"How should we improve this response?"}),(0,o.jsx)(W.Ay,{block:!0,rows:2,wrap:"wrap",name:"text_response",value:c,resize:"vertical",onChange:e=>u(e.currentTarget.value)})]})]}),(0,o.jsx)(g.l.Footer,{children:(0,o.jsx)(Z.Q,{type:"submit",disabled:r&&(!c||!l),children:"Submit"})})]})})};try{Q.displayName||(Q.displayName="NegativeFeedbackForm")}catch{}let X=(0,d.Z6)()?function(e){let t,n,i=(0,c.c)(5),{disabled:a,onSubmit:r}=e;return i[0]!==r?(t=()=>r({type:"POSITIVE"}),i[0]=r,i[1]=t):t=i[1],i[2]!==a||i[3]!==t?(n=(0,o.jsx)(H.K,{size:"small",variant:"invisible",disabled:a,icon:G.ThumbsupIcon,"aria-label":"Positive feedback",onClick:t}),i[2]=a,i[3]=t,i[4]=n):n=i[4],n}:function({disabled:e,onSubmit:t}){return(0,o.jsx)(H.K,{size:"small",variant:"invisible",disabled:e,icon:G.ThumbsupIcon,"aria-label":"Positive feedback",onClick:()=>t({type:"POSITIVE"})})},J=(0,d.Z6)()?function(e){let t,n,i,a,r,s=(0,c.c)(12),{disabled:l,onSubmit:d,feedbackOptions:u}=e,[m,f]=(0,v.useState)(!1),h=(0,v.useRef)(null);s[0]!==d?(t=e=>{d(e),f(!1)},s[0]=d,s[1]=t):t=s[1];let p=t;return s[2]!==m||s[3]!==u||s[4]!==p?(n=m&&(0,o.jsx)(Q,{onClose:()=>f(!1),onSubmit:p,returnFocusRef:h,feedbackOptions:u}),s[2]=m,s[3]=u,s[4]=p,s[5]=n):n=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(i=()=>f(!0),s[6]=i):i=s[6],s[7]!==l?(a=(0,o.jsx)(H.K,{ref:h,size:"small",variant:"invisible",disabled:l,icon:G.ThumbsdownIcon,"aria-label":"Negative feedback",onClick:i}),s[7]=l,s[8]=a):a=s[8],s[9]!==n||s[10]!==a?(r=(0,o.jsxs)(o.Fragment,{children:[n,a]}),s[9]=n,s[10]=a,s[11]=r):r=s[11],r}:function({disabled:e,onSubmit:t,feedbackOptions:n}){let[i,a]=(0,v.useState)(!1),r=(0,v.useRef)(null);return(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsx)(Q,{onClose:()=>a(!1),onSubmit:e=>{t(e),a(!1)},returnFocusRef:r,feedbackOptions:n}),(0,o.jsx)(H.K,{ref:r,size:"small",variant:"invisible",disabled:e,icon:G.ThumbsdownIcon,"aria-label":"Negative feedback",onClick:()=>a(!0)})]})};try{X.displayName||(X.displayName="PositiveFeedbackButton")}catch{}try{J.displayName||(J.displayName="NegativeFeedbackButton")}catch{}var Y=n(20622),ee=n(53885),et=n(94747),en=n(48845);let ei=(0,d.Z6)()?function(){let e,t=(0,c.c)(2),n=(0,ee.e)(Y.uT.submitCopilotGroupsFeedback);return t[0]!==n?(e={mutationFn:async e=>{let{type:t,feedbackChoice:i,textResponse:a}=e,r={feedback:t};a&&(r.text_response=a),i&&i.length>0&&(r.feedback_choice=i);let s=await (0,en.q$)(n,{method:"POST",headers:{Accept:"application/json"},body:r}),l=await (0,en.hp)(s);return(0,en.R)(s,l),l}},t[0]=n,t[1]=e):e=t[1],(0,et.n)(e)}:function(){let e=(0,ee.e)(Y.uT.submitCopilotGroupsFeedback);return(0,et.n)({mutationFn:async({type:t,feedbackChoice:n,textResponse:i})=>{let a={feedback:t};i&&(a.text_response=i),n&&n.length>0&&(a.feedback_choice=n);let r=await (0,en.q$)(e,{method:"POST",headers:{Accept:"application/json"},body:a}),s=await (0,en.hp)(r);return(0,en.R)(r,s),s}})},ea=(0,d.Z6)()?e=>{let t,n,i,a,r,s=(0,c.c)(15),{onNegativeFeedbackSubmit:l}=e,[d,u]=(0,v.useState)(),{mutate:m}=ei(),f=(0,D.xW)().changeGroupFeedbackOptions;s[0]!==m?(t=e=>{u(e.type),m(e)},s[0]=m,s[1]=t):t=s[1];let h=t;s[2]!==h||s[3]!==l?(n=e=>{l(),h(e)},s[2]=h,s[3]=l,s[4]=n):n=s[4];let p=n;return s[5]!==h||s[6]!==d?(i="NEGATIVE"!==d&&(0,o.jsx)(X,{disabled:!!d,onSubmit:h}),s[5]=h,s[6]=d,s[7]=i):i=s[7],s[8]!==f||s[9]!==p||s[10]!==d?(a="POSITIVE"!==d&&(0,o.jsx)(J,{disabled:!!d,onSubmit:p,feedbackOptions:f}),s[8]=f,s[9]=p,s[10]=d,s[11]=a):a=s[11],s[12]!==i||s[13]!==a?(r=(0,o.jsxs)("div",{className:"d-flex",children:[i,a]}),s[12]=i,s[13]=a,s[14]=r):r=s[14],r}:({onNegativeFeedbackSubmit:e})=>{let[t,n]=(0,v.useState)(),{mutate:i}=ei(),a=(0,D.xW)().changeGroupFeedbackOptions,r=e=>{n(e.type),i(e)};return(0,o.jsxs)("div",{className:"d-flex",children:["NEGATIVE"!==t&&(0,o.jsx)(X,{disabled:!!t,onSubmit:r}),"POSITIVE"!==t&&(0,o.jsx)(J,{disabled:!!t,onSubmit:t=>{e(),r(t)},feedbackOptions:a})]})},er=(0,d.Z6)()?e=>{let t,n,i=(0,c.c)(5),{className:a,onNegativeFeedbackSubmit:r}=e;return i[0]!==r?(t=(0,o.jsx)(k.t,{fallback:null,children:(0,o.jsx)(ea,{onNegativeFeedbackSubmit:r})}),i[0]=r,i[1]=t):t=i[1],i[2]!==a||i[3]!==t?(n=(0,o.jsx)("div",{className:a,children:t}),i[2]=a,i[3]=t,i[4]=n):n=i[4],n}:({className:e,onNegativeFeedbackSubmit:t})=>(0,o.jsx)("div",{className:e,children:(0,o.jsx)(k.t,{fallback:null,children:(0,o.jsx)(ea,{onNegativeFeedbackSubmit:t})})});try{ea.displayName||(ea.displayName="Feedback")}catch{}try{er.displayName||(er.displayName="GroupsFeedback")}catch{}var es=n(70263),el=n(40235),eo=n(97286),ed=n(96379);function ec(e){switch(e){case"CREATED":case"RUNNING":case"STARTED":case"WAITING":return!1;default:return!0}}function eu(e){switch(e){case"ABANDONED":case"FAILED":case"SKIPPED":return!0;default:return!1}}function em({baseSha:e,headSha:t,changeGroupsURL:n}){return[Y.uT.changeGroups,n,`baseSha:${e}`,`headSha:${t}`]}let ef=(0,d.Z6)()?function(e,t){let n,i,a,r,s,l=(0,c.c)(15),o=(0,ee.e)(Y.uT.changeGroups);l[0]!==t||l[1]!==o||l[2]!==e?(n=em({headSha:e,baseSha:t,changeGroupsURL:o}),l[0]=t,l[1]=o,l[2]=e,l[3]=n):n=l[3];let d=n,{updateChangeGroupGeneration:u}=(0,D.wL)(),m=(0,D.xW)();l[4]!==m?(i=()=>{let e=m.latestChangeGroupOrchestration?.state;if(e&&ec(e))return m},l[4]=m,l[5]=i):i=l[5];let f=i;return l[6]!==o||l[7]!==u?(a=async()=>{let e=await (0,ed.QJ)(o);if(!e.ok)throw Error(`HTTP ${e.status}`);let t=await e.json();return u(t),t},l[6]=o,l[7]=u,l[8]=a):a=l[8],l[9]!==f?(r=f(),l[9]=f,l[10]=r):r=l[10],l[11]!==d||l[12]!==a||l[13]!==r?(s={queryKey:d,queryFn:a,initialData:r,staleTime:1/0},l[11]=d,l[12]=a,l[13]=r,l[14]=s):s=l[14],(0,eo.I)(s)}:function(e,t){let n=(0,ee.e)(Y.uT.changeGroups),i=em({headSha:e,baseSha:t,changeGroupsURL:n}),{updateChangeGroupGeneration:a}=(0,D.wL)(),r=(0,D.xW)(),s=(0,v.useCallback)(()=>{let e=r.latestChangeGroupOrchestration?.state;if(e&&ec(e))return r},[r]);return(0,eo.I)({queryKey:i,queryFn:async()=>{let e=await (0,ed.QJ)(n);if(!e.ok)throw Error(`HTTP ${e.status}`);let t=await e.json();return a(t),t},initialData:s(),staleTime:1/0})},eh=(0,d.Z6)()?function(e,t,n){let i,a,r=(0,c.c)(7),s=(0,es.A)(),{refetch:l}=ef(n,t);r[0]!==s||r[1]!==l?(i=(0,y.n)(()=>{s()&&l()},2e3),r[0]=s,r[1]=l,r[2]=i):i=r[2];let o=i;r[3]!==t||r[4]!==n||r[5]!==o?(a=e=>{e?.base_commit_oid===t&&e?.head_commit_oid===n&&window.setTimeout(()=>o(),e.wait||0)},r[3]=t,r[4]=n,r[5]=o,r[6]=a):a=r[6];let d=a;(0,el.x)(e,d)}:function(e,t,n){let i=(0,es.A)(),{refetch:a}=ef(n,t),r=(0,v.useMemo)(()=>(0,y.n)(()=>{i()&&a()},2e3),[i,a]),s=(0,v.useMemo)(()=>e=>{e?.base_commit_oid===t&&e?.head_commit_oid===n&&window.setTimeout(()=>r(),e.wait||0)},[t,n,r]);(0,el.x)(e,s)};function ep(e){switch(e){case"DIFF_TOO_LARGE":case"TOO_MANY_GROUPS":return"Groups are unavailable because the PR exceeds the size limit.";case"DIFF_TOO_SMALL":case"TOO_FEW_GROUPS":return"Grouping was skipped because all changes are closely related.";default:return"Copilot was unable to generate groups for this pull request."}}var eg=n(82075),ex=n(71315);let eb=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h=(0,c.c)(46),{groups:p,activeGroupId:g,onSelectGroup:x,onClearActiveGroup:y,isLoadingState:j}=e,{sendPullRequestAnalyticsEvent:N}=(0,V.q)(),{sendChangeGroupsPresentedEvent:S}=U(),{fullDiff:L}=(0,D.L3)(),_=(0,D.a_)(),I=(0,D.TV)(),R=(0,D.r$)(),k=(0,v.useRef)(null),{error:T}=ef(L.headOid,L.baseOid),O=!!T&&!j;eh(_,L.baseOid,L.headOid),h[0]!==p.length||h[1]!==j||h[2]!==S||h[3]!==O||h[4]!==I?(t=()=>{j||(O||I?S({isErrorState:!0,unavailableReason:I||void 0}):p.length>0?S({isErrorState:!1,hasGroups:!0}):S({isErrorState:!1,hasGroups:!1}))},h[0]=p.length,h[1]=j,h[2]=S,h[3]=O,h[4]=I,h[5]=t):t=h[5],h[6]!==p||h[7]!==j||h[8]!==S||h[9]!==O||h[10]!==I?(n=[p,j,O,I,S],h[6]=p,h[7]=j,h[8]=S,h[9]=O,h[10]=I,h[11]=n):n=h[11],(0,v.useEffect)(t,n),h[12]!==y||h[13]!==N?(i=()=>{N("groups_list.clear_group","GROUPS_LIST_ITEM"),y()},h[12]=y,h[13]=N,h[14]=i):i=h[14];let $=i;h[15]!==$?(a=()=>{$(),requestAnimationFrame(()=>{k.current?.focus()})},h[15]=$,h[16]=a):a=h[16];let B=a,H=p.length>0,{isCollapsed:q,handleToggleCollapsed:z}=ew(R);h[17]!==z?(r=()=>{z(),requestAnimationFrame(()=>{k.current?.focus()})},h[17]=z,h[18]=r):r=h[18];let K=r;h[19]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(A.A,{as:"h2",className:"h6",children:"Groups by Copilot"}),h[19]=s):s=h[19];let W=s;return h[20]===Symbol.for("react.memo_cache_sentinel")?(l=(0,b.$)(P),h[20]=l):l=h[20],h[21]!==p.length||h[22]!==z||h[23]!==H||h[24]!==q||h[25]!==j?(d=j?(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center fgColor-muted pt-2 px-2 pb-1",children:[W,(0,o.jsx)("span",{className:"ml-auto d-flex flex-items-center",children:(0,o.jsx)(E.A,{size:"small","aria-label":"Loading change groups"})})]}):(0,o.jsxs)("button",{className:(0,b.$)("d-flex flex-row flex-items-center fgColor-muted",M),onClick:z,"aria-expanded":!q,ref:k,children:[W,q&&H&&(0,o.jsx)(w.A,{scheme:"secondary",className:"mx-2",children:p.length}),q?(0,o.jsx)(G.ChevronDownIcon,{className:"ml-auto"}):(0,o.jsx)(G.ChevronUpIcon,{className:"ml-auto"})]}),h[21]=p.length,h[22]=z,h[23]=H,h[24]=q,h[25]=j,h[26]=d):d=h[26],h[27]!==g||h[28]!==p||h[29]!==$||h[30]!==B||h[31]!==H||h[32]!==q||h[33]!==x||h[34]!==K?(u=H&&(0,o.jsxs)("div",{className:(0,b.$)("mt-n2",F),children:[q&&!g?(0,o.jsx)("div",{className:"pb-2"}):(0,o.jsxs)(C.l,{children:[!q&&(0,o.jsx)(C.l.Item,{active:void 0===g,onSelect:$,children:"All files"},"All files"),p.toSorted(ev).map(e=>(0,o.jsx)(ej,{group:e,activeGroupId:g,onSelectGroup:x,isListCollapsed:q,onClickGroupWhenCollapsed:B},e.id)).filter(Boolean)]}),!q&&(0,o.jsx)(er,{className:"ml-2",onNegativeFeedbackSubmit:K})]}),h[27]=g,h[28]=p,h[29]=$,h[30]=B,h[31]=H,h[32]=q,h[33]=x,h[34]=K,h[35]=u):u=h[35],h[36]!==H||h[37]!==q||h[38]!==j||h[39]!==O||h[40]!==I?(m=!q&&!H&&!j&&(0,o.jsx)("div",{className:"px-2 pb-2 pt-0 f6 fgColor-muted",children:I?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"mb-0 d-inline",children:ep(I)})," ",(0,o.jsx)(ey,{})]}):O&&(0,o.jsx)("p",{className:"mb-0",children:"No groups created"})}),h[36]=H,h[37]=q,h[38]=j,h[39]=O,h[40]=I,h[41]=m):m=h[41],h[42]!==m||h[43]!==d||h[44]!==u?(f=(0,o.jsxs)("div",{className:l,children:[d,u,m]}),h[42]=m,h[43]=d,h[44]=u,h[45]=f):f=h[45],f}:function({groups:e,activeGroupId:t,onSelectGroup:n,onClearActiveGroup:i,isLoadingState:a}){let{sendPullRequestAnalyticsEvent:r}=(0,V.q)(),{sendChangeGroupsPresentedEvent:s}=U(),{fullDiff:l}=(0,D.L3)(),d=(0,D.a_)(),c=(0,D.TV)(),u=(0,D.r$)(),m=(0,v.useRef)(null),{error:f}=ef(l.headOid,l.baseOid),h=!!f&&!a;eh(d,l.baseOid,l.headOid),(0,v.useEffect)(()=>{a||(h||c?s({isErrorState:!0,unavailableReason:c||void 0}):e.length>0?s({isErrorState:!1,hasGroups:!0}):s({isErrorState:!1,hasGroups:!1}))},[e,a,h,c,s]);let p=()=>{r("groups_list.clear_group","GROUPS_LIST_ITEM"),i()},g=()=>{p(),requestAnimationFrame(()=>{m.current?.focus()})},x=e.length>0,{isCollapsed:y,handleToggleCollapsed:j}=ew(u),N=(0,o.jsx)(A.A,{as:"h2",className:"h6",children:"Groups by Copilot"});return(0,o.jsxs)("div",{className:(0,b.$)(P),children:[a?(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center fgColor-muted pt-2 px-2 pb-1",children:[N,(0,o.jsx)("span",{className:"ml-auto d-flex flex-items-center",children:(0,o.jsx)(E.A,{size:"small","aria-label":"Loading change groups"})})]}):(0,o.jsxs)("button",{className:(0,b.$)("d-flex flex-row flex-items-center fgColor-muted",M),onClick:j,"aria-expanded":!y,ref:m,children:[N,y&&x&&(0,o.jsx)(w.A,{scheme:"secondary",className:"mx-2",children:e.length}),y?(0,o.jsx)(G.ChevronDownIcon,{className:"ml-auto"}):(0,o.jsx)(G.ChevronUpIcon,{className:"ml-auto"})]}),x&&(0,o.jsxs)("div",{className:(0,b.$)("mt-n2",F),children:[y&&!t?(0,o.jsx)("div",{className:"pb-2"}):(0,o.jsxs)(C.l,{children:[!y&&(0,o.jsx)(C.l.Item,{active:void 0===t,onSelect:p,children:"All files"},"All files"),e.toSorted((e,t)=>t.priority-e.priority).map(e=>(0,o.jsx)(ej,{group:e,activeGroupId:t,onSelectGroup:n,isListCollapsed:y,onClickGroupWhenCollapsed:g},e.id)).filter(Boolean)]}),!y&&(0,o.jsx)(er,{className:"ml-2",onNegativeFeedbackSubmit:()=>{j(),requestAnimationFrame(()=>{m.current?.focus()})}})]}),!y&&!x&&!a&&(0,o.jsx)("div",{className:"px-2 pb-2 pt-0 f6 fgColor-muted",children:c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"mb-0 d-inline",children:ep(c)})," ",(0,o.jsx)(ey,{})]}):h&&(0,o.jsx)("p",{className:"mb-0",children:"No groups created"})})]})};function ev(e,t){return t.priority-e.priority}let ey=(0,d.Z6)()?function(){let e,t,n,i,a=(0,c.c)(9),r=(0,v.useRef)(null),{mutate:s}=ei(),[l,d]=(0,v.useState)(!1),u=(0,D.xW)().changeGroupFeedbackOptions;a[0]!==s?(e=e=>{s(e),d(!1)},a[0]=s,a[1]=e):e=a[1];let m=e;return a[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(T.A,{className:"d-inline",as:"button",ref:r,inline:!0,muted:!0,onClick:()=>d(!0),children:"Give feedback"}),a[2]=t):t=a[2],a[3]!==l||a[4]!==u||a[5]!==m?(n=l&&(0,o.jsx)(Q,{feedbackOptions:u,onSubmit:m,onClose:()=>d(!1),returnFocusRef:r,precheckOther:!0}),a[3]=l,a[4]=u,a[5]=m,a[6]=n):n=a[6],a[7]!==n?(i=(0,o.jsxs)(o.Fragment,{children:[t,n]}),a[7]=n,a[8]=i):i=a[8],i}:function(){let e=(0,v.useRef)(null),{mutate:t}=ei(),[n,i]=(0,v.useState)(!1),a=(0,D.xW)().changeGroupFeedbackOptions;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(T.A,{className:"d-inline",as:"button",ref:e,inline:!0,muted:!0,onClick:()=>i(!0),children:"Give feedback"}),n&&(0,o.jsx)(Q,{feedbackOptions:a,onSubmit:e=>{t(e),i(!1)},onClose:()=>i(!1),returnFocusRef:e,precheckOther:!0})]})},ej=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l=(0,c.c)(20),{group:d,activeGroupId:u,isListCollapsed:m,onSelectGroup:f,onClickGroupWhenCollapsed:h}=e,{sendPullRequestAnalyticsEvent:p}=(0,V.q)(),g=(0,v.useRef)(null);l[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:g,mouseRowRef:g},l[0]=t):t=l[0];let x=(0,B.Z)(t);l[1]!==d.id||l[2]!==f||l[3]!==p?(n=()=>{p("groups_list.select_group","GROUPS_LIST_ITEM"),f(d.id)},l[1]=d.id,l[2]=f,l[3]=p,l[4]=n):n=l[4];let y=n,j=u===d.id;if(m&&!j)return null;let w=`${d.name}-${m?"collapsed":"expanded"}`,N=m?void 0:y;l[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,b.$)($,"PRIVATE_TreeView-item-content-text"),l[5]=i):i=l[5],l[6]!==d.name?(a=(0,o.jsx)("div",{className:i,children:d.name}),l[6]=d.name,l[7]=a):a=l[7],l[8]!==m||l[9]!==h?(r=m?(0,o.jsx)(C.l.TrailingAction,{as:"button",label:"Clear active group",icon:G.XIcon,onClick:e=>{e.preventDefault(),e.stopPropagation(),h()}}):null,l[8]=m,l[9]=h,l[10]=r):r=l[10],l[11]!==j||l[12]!==w||l[13]!==N||l[14]!==a||l[15]!==r?(s=(0,o.jsxs)(C.l.Item,{active:j,onSelect:N,ref:g,children:[a,r]},w),l[11]=j,l[12]=w,l[13]=N,l[14]=a,l[15]=r,l[16]=s):s=l[16];let S=s;if(x){let e;return l[17]!==d.name||l[18]!==S?(e=(0,o.jsx)(O.m,{text:d.name,direction:"ne",children:S}),l[17]=d.name,l[18]=S,l[19]=e):e=l[19],e}return S}:function({group:e,activeGroupId:t,isListCollapsed:n,onSelectGroup:i,onClickGroupWhenCollapsed:a}){let{sendPullRequestAnalyticsEvent:r}=(0,V.q)(),s=(0,v.useRef)(null),l=(0,B.Z)({focusRowRef:s,mouseRowRef:s}),d=t===e.id;if(n&&!d)return null;let c=(0,o.jsxs)(C.l.Item,{active:d,onSelect:n?void 0:()=>{r("groups_list.select_group","GROUPS_LIST_ITEM"),i(e.id)},ref:s,children:[(0,o.jsx)("div",{className:(0,b.$)($,"PRIVATE_TreeView-item-content-text"),children:e.name}),n?(0,o.jsx)(C.l.TrailingAction,{as:"button",label:"Clear active group",icon:G.XIcon,onClick:e=>{e.preventDefault(),e.stopPropagation(),a()}}):null]},`${e.name}-${n?"collapsed":"expanded"}`);return l?(0,o.jsx)(O.m,{text:e.name,direction:"ne",children:c}):c};function eC(e){return`GroupsListIsCollapsed_${e}`}function ew(e){let t=(0,eg.A)("localStorage"),[n,i]=(0,v.useState)(!1),{sendPullRequestAnalyticsEvent:a}=(0,V.q)();return(0,v.useEffect)(()=>{let n=t.getItem(eC(e));null!==n&&i(JSON.parse(n))},[]),{isCollapsed:n,handleToggleCollapsed:()=>{let r=!n;ex.cg?.requestAnimationFrame(()=>{t.setItem(eC(e),JSON.stringify(r))}),i(()=>r),a("groups_list.toggle_collapse","GROUPS_LIST_TOGGLE",{is_collapsed:r})}}}try{eb.displayName||(eb.displayName="GroupsList")}catch{}try{ey.displayName||(ey.displayName="FeedbackButton")}catch{}try{ej.displayName||(ej.displayName="GroupItem")}catch{}let eN="PullRequestFileTree-module__sidebar--A_ZKx",eS="PullRequestFileTree-module__FileTreeScrollable--tm_BE";var eL=n(69599);let eD="pr-file-tree",e_=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p=(0,c.c)(35),{className:g,fileFilter:x,filteredDiffs:y,onFileSelected:j,onSetFilterState:C,allowPullRequestGroups:w}=e,N=void 0!==w&&w,S=(0,D.iY)(),L=(0,D.YL)(),_=(0,D.ww)(),I=(0,D.Fl)(),A=(0,D.WA)(),{sendChangeGroupsPresentedEvent:E}=U();p[0]!==I?(t=I&&!ec(I.state),p[0]=I,p[1]=t):t=p[1];let T=t,O=(0,D.TV)();p[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,eL.G7)("hide_groups_list_for_few_groups"),p[2]=n):n=p[2];let P=n&&("TOO_FEW_GROUPS"===O||"DIFF_TOO_SMALL"===O||"NOT_GENERATED_YET"===O);return p[3]!==N||p[4]!==S.length||p[5]!==_||p[6]!==E||p[7]!==A?(i=()=>{N&&S.length>0&&!_&&!A&&E({isErrorState:!1,userPreferenceDisabled:!0,hasGroups:!0})},a=[N,_,A,E,S.length],p[3]=N,p[4]=S.length,p[5]=_,p[6]=E,p[7]=A,p[8]=i,p[9]=a):(i=p[8],a=p[9]),(0,v.useEffect)(i,a),p[10]!==L||p[11]!==N||p[12]!==S||p[13]!==_||p[14]!==T||p[15]!==C||p[16]!==P||p[17]!==A?(r=N&&!_&&A&&!P&&(0,o.jsx)(eb,{activeGroupId:L,groups:S,onClearActiveGroup:()=>{C({activeChangeGroupId:void 0})},onSelectGroup:e=>{C({activeChangeGroupId:e})},isLoadingState:T||!1}),p[10]=L,p[11]=N,p[12]=S,p[13]=_,p[14]=T,p[15]=C,p[16]=P,p[17]=A,p[18]=r):r=p[18],p[19]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)("span",{children:"File tree failed to load."}),p[19]=s):s=p[19],p[20]!==g?(l=(0,b.$)("d-flex flex-column min-height-0",g),p[20]=g,p[21]=l):l=p[21],p[22]!==x?(d=(0,o.jsx)("div",{className:"pb-3 pr-lg-3",children:x}),p[22]=x,p[23]=d):d=p[23],p[24]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)("h2",{className:"sr-only",children:"File tree"}),p[24]=u):u=p[24],p[25]!==y||p[26]!==j?(m=(0,o.jsxs)("div",{className:eS,children:[u,(0,o.jsx)(R.oj,{diffs:y,fileNodeRenderer:eI,sortByDiffOrder:!0,onSelect:j,className:"pr-lg-3"})]}),p[25]=y,p[26]=j,p[27]=m):m=p[27],p[28]!==m||p[29]!==l||p[30]!==d?(f=(0,o.jsx)(k.t,{fallback:s,children:(0,o.jsxs)("div",{className:l,id:eD,children:[d,m]})}),p[28]=m,p[29]=l,p[30]=d,p[31]=f):f=p[31],p[32]!==f||p[33]!==r?(h=(0,o.jsxs)("div",{className:"d-flex flex-column height-fit",children:[r,f]}),p[32]=f,p[33]=r,p[34]=h):h=p[34],h}:function({className:e,fileFilter:t,filteredDiffs:n,onFileSelected:i,onSetFilterState:a,allowPullRequestGroups:r=!1}){let s=(0,v.useCallback)(e=>(0,o.jsx)(eR,{...e},e.file.filePath),[]),l=(0,D.iY)(),d=(0,D.YL)(),c=(0,D.ww)(),u=(0,D.Fl)(),m=(0,D.WA)(),{sendChangeGroupsPresentedEvent:f}=U(),h=u&&!ec(u.state),p=(0,D.TV)(),g=(0,eL.G7)("hide_groups_list_for_few_groups");return(0,v.useEffect)(()=>{r&&l.length>0&&!c&&!m&&f({isErrorState:!1,userPreferenceDisabled:!0,hasGroups:!0})},[r,c,m,f,l.length]),(0,o.jsxs)("div",{className:"d-flex flex-column height-fit",children:[r&&!c&&m&&!(g&&("TOO_FEW_GROUPS"===p||"DIFF_TOO_SMALL"===p||"NOT_GENERATED_YET"===p))&&(0,o.jsx)(eb,{activeGroupId:d,groups:l,onClearActiveGroup:()=>{a({activeChangeGroupId:void 0})},onSelectGroup:e=>{a({activeChangeGroupId:e})},isLoadingState:h||!1}),(0,o.jsx)(k.t,{fallback:(0,o.jsx)("span",{children:"File tree failed to load."}),children:(0,o.jsxs)("div",{className:(0,b.$)("d-flex flex-column min-height-0",e),id:eD,children:[(0,o.jsx)("div",{className:"pb-3 pr-lg-3",children:t}),(0,o.jsxs)("div",{className:eS,children:[(0,o.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,o.jsx)(R.oj,{diffs:n,fileNodeRenderer:s,sortByDiffOrder:!0,onSelect:i,className:"pr-lg-3"})]})]})})]})};function eI(e){return(0,o.jsx)(eR,{...e},e.file.filePath)}let eR=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l=(0,c.c)(14);l[0]!==e?({file:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t.diff?(i=Object.values(t.diff?.markersMap??{}).flatMap(eA),l[3]=t.diff,l[4]=i):i=l[4];let d=i,u=(0,D.Qb)(d);l[5]!==u||l[6]!==t.diff?(a={...t.diff,totalCommentsCount:u},l[5]=u,l[6]=t.diff,l[7]=a):a=l[7],l[8]!==t||l[9]!==a?(r={...t,diff:a},l[8]=t,l[9]=a,l[10]=r):r=l[10];let m=r;return l[11]!==m||l[12]!==n?(s=(0,o.jsx)(R.ZH,{file:m,...n}),l[11]=m,l[12]=n,l[13]=s):s=l[13],s}:function({file:e,...t}){let n=(0,v.useMemo)(()=>Object.values(e.diff?.markersMap??{}).flatMap(e=>e.threads.map(e=>e.id)),[e.diff]),i=(0,D.Qb)(n),a=(0,v.useMemo)(()=>({...e,diff:{...e.diff,totalCommentsCount:i}}),[e,i]);return(0,o.jsx)(R.ZH,{file:a,...t})});try{e_.displayName||(e_.displayName="PullRequestFileTree")}catch{}try{eR.displayName||(eR.displayName="PullRequestFile")}catch{}function ek(e){return e.id}function eA(e){return e.threads.map(ek)}var eE=n(11680),eT=n(25407);let eO=(0,d.Z6)()?function(e){let t,n,i,a,r,s=(0,c.c)(17),{pageLimits:l,repository:d,urls:u}=e,m=l.filesLimitExceeded||l.reviewThreadsLimitExceeded||l.annotationsLimitExceeded;s[0]!==l.annotationsLimit||s[1]!==l.annotationsLimitExceeded||s[2]!==l.filesLimit||s[3]!==l.filesLimitExceeded||s[4]!==l.reviewThreadsLimit||s[5]!==l.reviewThreadsLimitExceeded?(t=()=>{let e=[];l.filesLimitExceeded&&e.push(`${l.filesLimit} files`),l.reviewThreadsLimitExceeded&&e.push(`${l.reviewThreadsLimit} comments`),l.annotationsLimitExceeded&&e.push(`${l.annotationsLimit} alerts`);let t="";return 1===e.length?t=`${e[0]}`:2===e.length?t=`${e[0]} and ${e[1]}`:3===e.length&&(t=`${e[0]}, ${e[1]}, and ${e[2]}`),"Only the first "+t+" are currently being shown."},s[0]=l.annotationsLimit,s[1]=l.annotationsLimitExceeded,s[2]=l.filesLimit,s[3]=l.filesLimitExceeded,s[4]=l.reviewThreadsLimit,s[5]=l.reviewThreadsLimitExceeded,s[6]=t):t=s[6];let f=t;s[7]!==d?(n=async function(){let e=new FormData;e.append("feature_name","prx_files"),await (0,ed.DI)((0,eT.ZD8)({repo:d}),{body:e,method:"POST"})},s[7]=d,s[8]=n):n=s[8];let h=n,p=f(),g=`${u.files}?new_files_changed=false`;s[9]!==h||s[10]!==g?(i=(0,o.jsx)(T.A,{inline:!0,href:g,onClick:h,rel:"noreferrer",children:"switch back"}),s[9]=h,s[10]=g,s[11]=i):i=s[11],s[12]!==p||s[13]!==i?(a=(0,o.jsxs)(o.Fragment,{children:[p," To see more,"," ",i," ","to the classic page."]}),s[12]=p,s[13]=i,s[14]=a):a=s[14];let x=a;return m?(s[15]!==x?(r=(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:x,className:"mb-3"}),s[15]=x,s[16]=r):r=s[16],r):null}:function({pageLimits:e,repository:t,urls:n}){let i,a,r=e.filesLimitExceeded||e.reviewThreadsLimitExceeded||e.annotationsLimitExceeded;async function s(){let e=new FormData;e.append("feature_name","prx_files"),await (0,ed.DI)((0,eT.ZD8)({repo:t}),{body:e,method:"POST"})}let l=(0,o.jsxs)(o.Fragment,{children:[(i=[],e.filesLimitExceeded&&i.push(`${e.filesLimit} files`),e.reviewThreadsLimitExceeded&&i.push(`${e.reviewThreadsLimit} comments`),e.annotationsLimitExceeded&&i.push(`${e.annotationsLimit} alerts`),a="",1===i.length?a=`${i[0]}`:2===i.length?a=`${i[0]} and ${i[1]}`:3===i.length&&(a=`${i[0]}, ${i[1]}, and ${i[2]}`),"Only the first "+a+" are currently being shown.")," To see more,"," ",(0,o.jsx)(T.A,{inline:!0,href:`${n.files}?new_files_changed=false`,onClick:s,rel:"noreferrer",children:"switch back"})," ","to the classic page."]});return r?(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:l,className:"mb-3"}):null};try{eO.displayName||(eO.displayName="PageLimitsBanner")}catch{}let eP="ViewedFileProgress-module__ProgressContainer--ZQ1e8",eF="ViewedFileProgress-module__FilesCountText--q4rKx",e$="ViewedFileProgress-module__ViewedText--vvFsM",eM=(0,d.Z6)()?e=>{let t,n,i,a,r=(0,c.c)(5),{progress:s}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(t={transform:"rotate(-90deg)"},r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2"}),r[1]=n):n=r[1];let l=38-38*s;return r[2]===Symbol.for("react.memo_cache_sentinel")?(i={transition:"stroke-dashoffset 0.35s"},r[2]=i):i=r[2],r[3]!==l?(a=(0,o.jsxs)("svg",{"data-circumference":"38",height:"16",role:"presentation",style:t,width:"16",children:[n,(0,o.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--fgColor-done, var(--color-done-fg))",strokeDasharray:38,strokeDashoffset:l,strokeLinecap:"round",strokeWidth:"2",style:i})]}),r[3]=l,r[4]=a):a=r[4],a}:({progress:e})=>(0,o.jsxs)("svg",{"data-circumference":"38",height:"16",role:"presentation",style:{transform:"rotate(-90deg)"},width:"16",children:[(0,o.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2"}),(0,o.jsx)("circle",{cx:"50%",cy:"50%",fill:"transparent",r:"6",stroke:"var(--fgColor-done, var(--color-done-fg))",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",strokeWidth:"2",style:{transition:"stroke-dashoffset 0.35s"}})]}),eB=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(14),{totalFilesCount:u}=e,m=(0,D.gi)();if(0===u)return null;let f=(m??0)/u||0;return d[0]!==f?(t=(0,o.jsx)(eM,{progress:f}),d[0]=f,d[1]=t):t=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)("ml-1",eP),d[2]=n):n=d[2],d[3]!==m?(i=(0,o.jsx)("span",{className:eF,children:m}),d[3]=m,d[4]=i):i=d[4],d[5]!==u?(a=(0,o.jsx)("span",{className:eF,children:u}),d[5]=u,d[6]=a):a=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)("span",{className:e$,children:"viewed"}),d[7]=r):r=d[7],d[8]!==i||d[9]!==a?(s=(0,o.jsxs)("span",{className:n,children:[i," /"," ",a," ",r]}),d[8]=i,d[9]=a,d[10]=s):s=d[10],d[11]!==t||d[12]!==s?(l=(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[t,s]}),d[11]=t,d[12]=s,d[13]=l):l=d[13],l}:function({totalFilesCount:e}){let t=(0,D.gi)();return 0===e?null:(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,o.jsx)(eM,{progress:(t??0)/e||0}),(0,o.jsxs)("span",{className:(0,b.$)("ml-1",eP),children:[(0,o.jsx)("span",{className:eF,children:t})," /"," ",(0,o.jsx)("span",{className:eF,children:e})," ",(0,o.jsx)("span",{className:e$,children:"viewed"})]})]})};try{eM.displayName||(eM.displayName="ProgressIcon")}catch{}try{eB.displayName||(eB.displayName="ViewedFileProgress")}catch{}function eV(e){let t=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),n=document.querySelector(`#${e} div[role="dialog"]`);(t||n)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}var eU=n(99511),eG=n(94236),eH=n(77430);function eq(e,t){return new Set([...e.filter(e=>{let{thread:n,previewInfo:i}=e;return function(e,t){let{filterText:n,showResolvedThreads:i}=t;if(!i&&e.isResolved||!t.showOutdatedThreads&&e.isOutdated)return!1;if(n){let t=n.toLowerCase();if(!e.authorLogin.toLowerCase().includes(t)&&!e.body.toLowerCase().includes(t)&&!e.path.toLowerCase().includes(t))return!1}return!t.selectedAuthor||e.authorLogin===t.selectedAuthor}({authorLogin:i.firstComment?.author?.login??"",body:i.firstComment?.body??"",id:i.threadId,isResolved:n?.isResolved??!1,isOutdated:n?.isOutdated??!1,path:i.path},t)}).map(e=>e.previewInfo.threadId??"")])}let ez={filterText:"",showResolvedThreads:!0,showOutdatedThreads:!0},eK=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,v=(0,c.c)(42),{authorList:y,className:j,filterState:w,onFilterStateChange:N}=e;v[0]!==w||v[1]!==N?(t=e=>{N({...w,filterText:e})},v[0]=w,v[1]=N,v[2]=t):t=v[2];let S=t;v[3]!==w||v[4]!==N?(n=()=>{N({...w,showResolvedThreads:!w.showResolvedThreads})},v[3]=w,v[4]=N,v[5]=n):n=v[5];let L=n;v[6]!==w||v[7]!==N?(i=()=>{N({...w,showOutdatedThreads:!w.showOutdatedThreads})},v[6]=w,v[7]=N,v[8]=i):i=v[8];let D=i;v[9]!==w||v[10]!==N?(a=e=>{if(w.selectedAuthor===e)return N({...w,selectedAuthor:void 0});N({...w,selectedAuthor:e})},v[9]=w,v[10]=N,v[11]=a):a=v[11];let _=a;return v[12]!==j?(r=(0,b.$)("d-flex flex-row gap-2 flex-nowrap",j),v[12]=j,v[13]=r):r=v[13],v[14]!==S?(s=e=>S(e.target.value),v[14]=S,v[15]=s):s=v[15],v[16]!==w.filterText||v[17]!==s?(l=(0,o.jsx)(eU.A,{block:!0,"aria-label":"Filter comments",leadingVisual:G.SearchIcon,placeholder:"Filter comments",value:w.filterText,onChange:s}),v[16]=w.filterText,v[17]=s,v[18]=l):l=v[18],v[19]===Symbol.for("react.memo_cache_sentinel")?(d=(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(Z.Q,{"aria-label":"Additional comment filters",className:"flex-shink-0",leadingVisual:G.FilterIcon,trailingAction:G.TriangleDownIcon,children:"Filter"})}),v[19]=d):d=v[19],v[20]!==L?(u=()=>L(),v[20]=L,v[21]=u):u=v[21],v[22]!==w.showResolvedThreads||v[23]!==u?(m=(0,o.jsx)(C.l.Item,{selected:w.showResolvedThreads,onSelect:u,children:"Show resolved comments"}),v[22]=w.showResolvedThreads,v[23]=u,v[24]=m):m=v[24],v[25]!==D?(f=()=>D(),v[25]=D,v[26]=f):f=v[26],v[27]!==w.showOutdatedThreads||v[28]!==f?(h=(0,o.jsx)(C.l.Item,{selected:w.showOutdatedThreads,onSelect:f,children:"Show outdated comments"}),v[27]=w.showOutdatedThreads,v[28]=f,v[29]=h):h=v[29],v[30]!==y||v[31]!==w.selectedAuthor||v[32]!==_?(p=y.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{}),(0,o.jsxs)(C.l.Group,{children:[(0,o.jsx)(C.l.GroupHeading,{children:"Filter by"}),y.map(e=>(0,o.jsxs)(C.l.Item,{selected:w.selectedAuthor===e.login,onSelect:()=>_(e.login),children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(eH.r,{src:e.avatarUrl})}),e.login]},e.login))]})]}),v[30]=y,v[31]=w.selectedAuthor,v[32]=_,v[33]=p):p=v[33],v[34]!==m||v[35]!==h||v[36]!==p?(g=(0,o.jsxs)(eG.W,{children:[d,(0,o.jsx)(eG.W.Overlay,{width:"small",children:(0,o.jsxs)(C.l,{selectionVariant:"single",children:[m,h,p]})})]}),v[34]=m,v[35]=h,v[36]=p,v[37]=g):g=v[37],v[38]!==g||v[39]!==r||v[40]!==l?(x=(0,o.jsxs)("div",{className:r,children:[l,g]}),v[38]=g,v[39]=r,v[40]=l,v[41]=x):x=v[41],x}:function({authorList:e,className:t,filterState:n,onFilterStateChange:i}){return(0,o.jsxs)("div",{className:(0,b.$)("d-flex flex-row gap-2 flex-nowrap",t),children:[(0,o.jsx)(eU.A,{block:!0,"aria-label":"Filter comments",leadingVisual:G.SearchIcon,placeholder:"Filter comments",value:n.filterText,onChange:e=>{var t;return t=e.target.value,void i({...n,filterText:t})}}),(0,o.jsxs)(eG.W,{children:[(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(Z.Q,{"aria-label":"Additional comment filters",className:"flex-shink-0",leadingVisual:G.FilterIcon,trailingAction:G.TriangleDownIcon,children:"Filter"})}),(0,o.jsx)(eG.W.Overlay,{width:"small",children:(0,o.jsxs)(C.l,{selectionVariant:"single",children:[(0,o.jsx)(C.l.Item,{selected:n.showResolvedThreads,onSelect:()=>void i({...n,showResolvedThreads:!n.showResolvedThreads}),children:"Show resolved comments"}),(0,o.jsx)(C.l.Item,{selected:n.showOutdatedThreads,onSelect:()=>void i({...n,showOutdatedThreads:!n.showOutdatedThreads}),children:"Show outdated comments"}),e.length>1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{}),(0,o.jsxs)(C.l.Group,{children:[(0,o.jsx)(C.l.GroupHeading,{children:"Filter by"}),e.map(e=>(0,o.jsxs)(C.l.Item,{selected:n.selectedAuthor===e.login,onSelect:()=>(e=>{if(n.selectedAuthor===e)return i({...n,selectedAuthor:void 0});i({...n,selectedAuthor:e})})(e.login),children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(eH.r,{src:e.avatarUrl})}),e.login]},e.login))]})]})]})})]})]})};try{eK.displayName||(eK.displayName="CommentsFilter")}catch{}var eW=n(61219),eZ=n(98091),eQ=n(58615),eX=n(72511),eJ=n(26607);let eY="ConversationHeader-module__file-name-overflow--Ymb0e",e0=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,y=(0,c.c)(47),{firstCommentId:j,isCollapsed:C,isOutdated:w,isResolved:N,line:S,onToggleCollapsed:L,onNavigateToDiffComment:D,path:_,rightSideContent:I,threadId:R,headingLevel:k}=e,E=void 0===k?"h3":k;y[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eg.A)("localStorage"),y[0]=t):t=y[0];let P=t,[F,$]=(0,v.useState)(C);y[1]!==R?(n=()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${R}`);null!==e&&$(JSON.parse(e))},y[1]=R,y[2]=n):n=y[2],y[3]!==F||y[4]!==R?(i=[F,R],y[3]=F,y[4]=R,y[5]=i):i=y[5],(0,v.useEffect)(n,i),y[6]!==F||y[7]!==L||y[8]!==R?(a=()=>{P.setItem(`reviewThreadIsCollapsed_${R}`,JSON.stringify(!F)),$(e1),L()},y[6]=F,y[7]=L,y[8]=R,y[9]=a):a=y[9];let M=a,B=F&&"rounded-2",V=F&&"border-bottom-0";y[10]!==B||y[11]!==V?(r=(0,b.$)("d-flex flex-row flex-items-center px-2 py-1 bgColor-muted rounded-top-2 border-bottom",B,V),y[10]=B,y[11]=V,y[12]=r):r=y[12];let U=F?"Open review comment":"Close review comment",q=F?G.ChevronRightIcon:G.ChevronDownIcon;y[13]!==M||y[14]!==q||y[15]!==U?(s=(0,o.jsx)(H.K,{"aria-label":U,icon:q,size:"small",variant:"invisible",onClick:M}),y[13]=M,y[14]=q,y[15]=U,y[16]=s):s=y[16],y[17]===Symbol.for("react.memo_cache_sentinel")?(l=(0,b.$)(eY,"d-inline text-mono no-wrap overflow-hidden direction-rtl fgColor-default"),y[17]=l):l=y[17];let z=`#r${j}`;y[18]!==D||y[19]!==_||y[20]!==z?(d=(0,o.jsxs)(T.A,{className:l,onClick:D,href:z,muted:!0,children:["\u200E",_,"\u200E"]}),y[18]=D,y[19]=_,y[20]=z,y[21]=d):d=y[21],y[22]!==_||y[23]!==d?(u=(0,o.jsx)(O.m,{direction:"n",text:_,type:"label",children:d}),y[22]=_,y[23]=d,y[24]=u):u=y[24],y[25]!==S?(m=!!S&&(0,o.jsxs)("span",{className:"f6 fgColor-muted text-normal no-wrap ml-2",children:["Line ",S]}),y[25]=S,y[26]=m):m=y[26],y[27]!==E||y[28]!==u||y[29]!==m?(f=(0,o.jsxs)(A.A,{as:E,className:"d-flex flex-items-center flex-1 min-width-0 mr-2 ml-1 f6 text-semibold",children:[u,m]}),y[27]=E,y[28]=u,y[29]=m,y[30]=f):f=y[30],y[31]!==N?(h=N&&(0,o.jsx)(eJ.A,{size:"large",className:"mx-1",variant:"secondary",children:"Resolved"}),y[31]=N,y[32]=h):h=y[32],y[33]!==w||y[34]!==N?(p=w&&!N&&(0,o.jsx)(eJ.A,{size:"large",className:"mx-1",variant:"attention",children:"Outdated"}),y[33]=w,y[34]=N,y[35]=p):p=y[35];let K=`#r${j}`;return y[36]!==D||y[37]!==K?(g=(0,o.jsx)(H.K,{as:"a","aria-label":"Jump to the comment in the diff",tooltipDirection:"se",icon:G.FileSymlinkFileIcon,variant:"invisible",href:K,onClick:D}),y[36]=D,y[37]=K,y[38]=g):g=y[38],y[39]!==I||y[40]!==s||y[41]!==f||y[42]!==h||y[43]!==p||y[44]!==g||y[45]!==r?(x=(0,o.jsxs)("div",{className:r,children:[s,f,h,p,g,I]}),y[39]=I,y[40]=s,y[41]=f,y[42]=h,y[43]=p,y[44]=g,y[45]=r,y[46]=x):x=y[46],x}:function({firstCommentId:e,isCollapsed:t,isOutdated:n,isResolved:i,line:a,onToggleCollapsed:r,onNavigateToDiffComment:s,path:l,rightSideContent:d,threadId:c,headingLevel:u="h3"}){let m=(0,eg.A)("localStorage"),[f,h]=(0,v.useState)(t);return(0,v.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${c}`);null!==e&&h(JSON.parse(e))},[f,c]),(0,o.jsxs)("div",{className:(0,b.$)("d-flex flex-row flex-items-center px-2 py-1 bgColor-muted rounded-top-2 border-bottom",f&&"rounded-2",f&&"border-bottom-0"),children:[(0,o.jsx)(H.K,{"aria-label":f?"Open review comment":"Close review comment",icon:f?G.ChevronRightIcon:G.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{m.setItem(`reviewThreadIsCollapsed_${c}`,JSON.stringify(!f)),h(e=>!e),r()}}),(0,o.jsxs)(A.A,{as:u,className:"d-flex flex-items-center flex-1 min-width-0 mr-2 ml-1 f6 text-semibold",children:[(0,o.jsx)(O.m,{direction:"n",text:l,type:"label",children:(0,o.jsxs)(T.A,{className:(0,b.$)(eY,"d-inline text-mono no-wrap overflow-hidden direction-rtl fgColor-default"),onClick:s,href:`#r${e}`,muted:!0,children:["\u200E",l,"\u200E"]})}),!!a&&(0,o.jsxs)("span",{className:"f6 fgColor-muted text-normal no-wrap ml-2",children:["Line ",a]})]}),i&&(0,o.jsx)(eJ.A,{size:"large",className:"mx-1",variant:"secondary",children:"Resolved"}),n&&!i&&(0,o.jsx)(eJ.A,{size:"large",className:"mx-1",variant:"attention",children:"Outdated"}),(0,o.jsx)(H.K,{as:"a","aria-label":"Jump to the comment in the diff",tooltipDirection:"se",icon:G.FileSymlinkFileIcon,variant:"invisible",href:`#r${e}`,onClick:s}),d]})};function e1(e){return!e}try{e0.displayName||(e0.displayName="ConversationHeader")}catch{}let e2="ThreadHeader-module__ThreadHeaderIconButton--RGjVM";var e3=n(97695),e4=n(39698),e5=n(21067);let e6=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(35),{firstCommentId:u,isCollapsed:m,onToggleCollapsed:f,onNavigateToDiffComment:h,threadPreview:p,headingLevel:g,isResolved:x,isOutdated:b,lineKey:y}=e,{sendPullRequestAnalyticsEvent:j}=(0,V.q)(),[C,w]=(0,v.useState)(void 0),N=p.previewInfo,{line:S}=N;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,e5.M3)(),d[0]=t):t=d[0];let L=t,{mutate:D}=(0,e3.H)(N.path,y);d[1]!==m||d[2]!==x||d[3]!==f||d[4]!==N.threadId||d[5]!==D?(n=()=>{x||D({threadId:N.threadId},{onError:()=>w("Failed to resolve thread"),onSuccess:()=>{m||f()}})},d[1]=m,d[2]=x,d[3]=f,d[4]=N.threadId,d[5]=D,d[6]=n):n=d[6];let _=n,{mutate:I}=(0,e4.i)(N.path,y);d[7]!==m||d[8]!==x||d[9]!==f||d[10]!==j||d[11]!==p||d[12]!==I?(i=async()=>{!p||x&&(I({threadId:p.previewInfo.threadId},{onError:()=>w("Failed to unresolve thread"),onSuccess:()=>{m&&f()}}),j("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},d[7]=m,d[8]=x,d[9]=f,d[10]=j,d[11]=p,d[12]=I,d[13]=i):i=d[13];let R=i;return d[14]!==_||d[15]!==R||d[16]!==x?(a=L?(0,o.jsx)(H.K,{"aria-label":x?"Unresolve conversation":"Resolve conversation",tooltipDirection:"sw",icon:x?G.CheckCircleFillIcon:G.CheckCircleIcon,"data-thread-resolved":x,className:e2,variant:"invisible",onClick:x?R:_}):null,d[14]=_,d[15]=R,d[16]=x,d[17]=a):a=d[17],d[18]!==u||d[19]!==g||d[20]!==m||d[21]!==b||d[22]!==x||d[23]!==S||d[24]!==h||d[25]!==f||d[26]!==N.path||d[27]!==N.threadId||d[28]!==a?(r=(0,o.jsx)(e0,{firstCommentId:u,isCollapsed:m,isOutdated:b,isResolved:x,line:S,path:N.path,rightSideContent:a,onNavigateToDiffComment:h,onToggleCollapsed:f,threadId:N.threadId,headingLevel:g}),d[18]=u,d[19]=g,d[20]=m,d[21]=b,d[22]=x,d[23]=S,d[24]=h,d[25]=f,d[26]=N.path,d[27]=N.threadId,d[28]=a,d[29]=r):r=d[29],d[30]!==C?(s=C&&(0,o.jsxs)(eX.A,{variant:"danger",className:"m-2",children:[(0,o.jsx)(G.StopIcon,{className:"mr-2"}),C]}),d[30]=C,d[31]=s):s=d[31],d[32]!==r||d[33]!==s?(l=(0,o.jsxs)(o.Fragment,{children:[r,s]}),d[32]=r,d[33]=s,d[34]=l):l=d[34],l}:function({firstCommentId:e,isCollapsed:t,onToggleCollapsed:n,onNavigateToDiffComment:i,threadPreview:a,headingLevel:r,isResolved:s,isOutdated:l,lineKey:d}){let{sendPullRequestAnalyticsEvent:c}=(0,V.q)(),[u,m]=(0,v.useState)(void 0),f=a.previewInfo,{line:h}=f,p=(0,e5.M3)(),{mutate:g}=(0,e3.H)(f.path,d),{mutate:x}=(0,e4.i)(f.path,d),b=async()=>{!a||s&&(x({threadId:a.previewInfo.threadId},{onError:()=>m("Failed to unresolve thread"),onSuccess:()=>{t&&n()}}),c("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e0,{firstCommentId:e,isCollapsed:t,isOutdated:l,isResolved:s,line:h,path:f.path,rightSideContent:p?(0,o.jsx)(H.K,{"aria-label":s?"Unresolve conversation":"Resolve conversation",tooltipDirection:"sw",icon:s?G.CheckCircleFillIcon:G.CheckCircleIcon,"data-thread-resolved":s,className:e2,variant:"invisible",onClick:s?b:()=>{s||g({threadId:f.threadId},{onError:()=>m("Failed to resolve thread"),onSuccess:()=>{t||n()}})}}):null,onNavigateToDiffComment:i,onToggleCollapsed:n,threadId:f.threadId,headingLevel:r}),u&&(0,o.jsxs)(eX.A,{variant:"danger",className:"m-2",children:[(0,o.jsx)(G.StopIcon,{className:"mr-2"}),u]})]})};try{e6.displayName||(e6.displayName="ThreadHeader")}catch{}var e7=n(24494);let e8=(0,d.Z6)()?function(e){let t,n,i=(0,c.c)(4),{commentAuthors:a}=e;return a.length<1?null:(i[0]!==a?(t=a.map(e9),i[0]=a,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(e7.A,{children:t}),i[2]=t,i[3]=n):n=i[3],n)}:function({commentAuthors:e}){return e.length<1?null:(0,o.jsx)(e7.A,{children:e.map(({login:e,avatarUrl:t})=>(0,o.jsx)(eH.r,{alt:e,size:18,src:t},e))})};function e9(e){let{login:t,avatarUrl:n}=e;return(0,o.jsx)(eH.r,{alt:t,size:18,src:n},t)}try{e8.displayName||(e8.displayName="PreviewAuthors")}catch{}var te=n(36729),tt=n(73017);let tn=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(29),{commentPreview:u,onNavigateToDiffComment:m,tabSize:f}=e,[h,p]=(0,v.useState)(!1),g=u.commentId;d[0]!==g||d[1]!==m?(t=()=>{window.location.hash=`#r${g}`,m(g)},d[0]=g,d[1]=m,d[2]=t):t=d[2];let x=t;d[3]!==u.commentsData?(n=u.commentsData??{comments:[]},d[3]=u.commentsData,d[4]=n):n=d[4],d[5]!==g||d[6]!==n?(i=ti(g,n),d[5]=g,d[6]=n,d[7]=i):i=d[7];let b=i,y=u.threadPreviewComments.length,j=`${y} previous ${1===y?"comment":"comments"}`,C=u.isOutdated||!1,w=u.isResolved||!1,N=u.line,S=u.path;d[8]===Symbol.for("react.memo_cache_sentinel")?(a=()=>p(tr),d[8]=a):a=d[8];let L=u.threadId,D=parseInt(u.commentId);return d[9]!==u.line||d[10]!==u.path||d[11]!==u.threadId||d[12]!==h||d[13]!==x||d[14]!==D||d[15]!==C||d[16]!==w?(r=(0,o.jsx)(e0,{isCollapsed:h,isOutdated:C,isResolved:w,line:N,path:S,onNavigateToDiffComment:x,onToggleCollapsed:a,threadId:L,firstCommentId:D}),d[9]=u.line,d[10]=u.path,d[11]=u.threadId,d[12]=h,d[13]=x,d[14]=D,d[15]=C,d[16]=w,d[17]=r):r=d[17],d[18]!==b||d[19]!==u||d[20]!==h||d[21]!==x||d[22]!==y||d[23]!==j||d[24]!==f?(s=!h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,o.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:u.subject?.diffLines,className:"m-0 border-0",tabSize:f||4})}),y>0&&(0,o.jsx)("div",{className:"my-2 px-2",children:(0,o.jsx)(Z.Q,{"aria-label":"View comment in diff",size:"small",trailingVisual:G.ChevronRightIcon,variant:"invisible",onClick:x,children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,o.jsx)("span",{children:j}),(0,o.jsx)(e8,{commentAuthors:b})]})})}),(0,o.jsx)(tt.vb,{className:"markdown-body",html:ta(u),sx:{p:3,fontSize:1}})]}),d[18]=b,d[19]=u,d[20]=h,d[21]=x,d[22]=y,d[23]=j,d[24]=f,d[25]=s):s=d[25],d[26]!==r||d[27]!==s?(l=(0,o.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[r,s]}),d[26]=r,d[27]=s,d[28]=l):l=d[28],l}:function({commentPreview:e,onNavigateToDiffComment:t,tabSize:n}){let[i,a]=(0,v.useState)(!1),r=e.commentId,s=(0,v.useCallback)(()=>{window.location.hash=`#r${r}`,t(r)},[r,t]),l=ti(r,e.commentsData??{comments:[]}),d=e.threadPreviewComments.length,c=`${d} previous ${1===d?"comment":"comments"}`;return(0,o.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[(0,o.jsx)(e0,{isCollapsed:i,isOutdated:e.isOutdated||!1,isResolved:e.isResolved||!1,line:e.line,path:e.path,onNavigateToDiffComment:s,onToggleCollapsed:()=>a(e=>!e),threadId:e.threadId,firstCommentId:parseInt(e.commentId)}),!i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,o.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:e.subject?.diffLines,className:"m-0 border-0",tabSize:n||4})}),d>0&&(0,o.jsx)("div",{className:"my-2 px-2",children:(0,o.jsx)(Z.Q,{"aria-label":"View comment in diff",size:"small",trailingVisual:G.ChevronRightIcon,variant:"invisible",onClick:s,children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,o.jsx)("span",{children:c}),(0,o.jsx)(e8,{commentAuthors:l})]})})}),(0,o.jsx)(tt.vb,{className:"markdown-body",html:ta(e),sx:{p:3,fontSize:1}})]})]})});function ti(e,t){let n=new Set;return(t?.comments??[]).reduce((t,i)=>{if(!i||i.id===e)return t;let a=i.author?.login??"",r=i.author?.avatarUrl??"",s=i.author?.id??"",l=i.author?.url??"";return n.has(a)||(t.push({avatarUrl:r,login:a,id:s,url:l}),n.add(a)),t},[])}function ta(e){let t=(e.commentsData?.comments??[]).find(t=>t&&String(t.databaseId)===e.commentId);return t?.bodyHTML??""}try{tn.displayName||(tn.displayName="PendingCommentPreview")}catch{}function tr(e){return!e}function ts(e){return`panel-thread-collapsed-state-${e}`}let tl=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s=(0,c.c)(33),{onNavigateToDiffComment:l,tabSize:d,threadPreview:u,headingLevel:m}=e,{previewInfo:f}=u,{threadId:h,firstComment:p}=f,g=p?.id,x=f.path,b=(0,D.j5)(),{navigateToSelectedComment:v}=(0,D.Lh)(),y=(0,D.SM)(),j=f.subject?.endDiffSide==="RIGHT"?"R":"L",C=f.subject?.originalEndLine?`${j}${f.subject.originalEndLine}`:te.zW,w=y(Number(f.threadId),f.path,C),N=w?.isResolved||!1,S=w?.isOutdated||!1,L=()=>{if(S&&f.originalDiffPathUri){let e=new URL(f.originalDiffPathUri);e.searchParams.set("new_files_changed","true"),window.location.href=e.toString()}else window.location.hash=`#r${p?.databaseId}`,b&&p?.databaseId&&v(p?.databaseId);l()};s[0]!==h?(t=ts(h),s[0]=h,s[1]=t):t=s[1];let[_,I]=(0,eQ.M)(t,!1),R=f.threadPreviewComments.length,k=0===R?"No replies":`${R} ${1===R?"reply":"replies"}`,A={...w,id:w?.id??"",commentsData:{comments:[]}};if(!p||!A)return null;let E=ti(f.commentId,w?.commentsData??{comments:[]}),T=p?.databaseId;return s[2]!==_||s[3]!==I?(n=()=>I(!_),s[2]=_,s[3]=I,s[4]=n):n=s[4],s[5]!==m||s[6]!==_||s[7]!==S||s[8]!==N||s[9]!==C||s[10]!==L||s[11]!==T||s[12]!==n||s[13]!==u?(i=(0,o.jsx)(e6,{firstCommentId:T,isCollapsed:_,threadPreview:u,onNavigateToDiffComment:L,onToggleCollapsed:n,headingLevel:m,isResolved:N,isOutdated:S,lineKey:C}),s[5]=m,s[6]=_,s[7]=S,s[8]=N,s[9]=C,s[10]=L,s[11]=T,s[12]=n,s[13]=u,s[14]=i):i=s[14],s[15]!==E||s[16]!==g||s[17]!==x||s[18]!==p||s[19]!==_||s[20]!==S||s[21]!==N||s[22]!==C||s[23]!==L||s[24]!==f.originalDiffPathUri||s[25]!==f.subject?.diffLines||s[26]!==k||s[27]!==d||s[28]!==h?(a=!_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,o.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:f?.subject?.diffLines,className:"m-0 border-0",tabSize:d||4})}),(0,o.jsx)("div",{children:(0,o.jsx)(eW.U,{lineMarkersKey:C,hideActions:!0,isInlineComment:!1,comment:p,filePath:x,index:0,isAnchorable:!1,isOutdated:S,isThreadResolved:N,threadId:h,originalDiffPathUri:f.originalDiffPathUri,headingLevel:"h3"},g)}),(0,o.jsx)("div",{className:"mb-2 px-2",children:(0,o.jsx)(Z.Q,{"aria-label":`View ${k}`,size:"small",trailingVisual:G.ChevronRightIcon,variant:"invisible",onClick:L,children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,o.jsx)("span",{children:k}),(0,o.jsx)(e8,{commentAuthors:E})]})})})]}),s[15]=E,s[16]=g,s[17]=x,s[18]=p,s[19]=_,s[20]=S,s[21]=N,s[22]=C,s[23]=L,s[24]=f.originalDiffPathUri,s[25]=f.subject?.diffLines,s[26]=k,s[27]=d,s[28]=h,s[29]=a):a=s[29],s[30]!==i||s[31]!==a?(r=(0,o.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[i,a]}),s[30]=i,s[31]=a,s[32]=r):r=s[32],r}:function({onNavigateToDiffComment:e,tabSize:t,threadPreview:n,headingLevel:i}){let{previewInfo:a}=n,{threadId:r,firstComment:s}=a,l=s?.id,d=a.path,c=(0,D.j5)(),{navigateToSelectedComment:u}=(0,D.Lh)(),m=(0,D.SM)(),f=a.subject?.endDiffSide==="RIGHT"?"R":"L",h=a.subject?.originalEndLine?`${f}${a.subject.originalEndLine}`:te.zW,p=m(Number(a.threadId),a.path,h),g=p?.isResolved||!1,x=p?.isOutdated||!1,b=()=>{if(x&&a.originalDiffPathUri){let e=new URL(a.originalDiffPathUri);e.searchParams.set("new_files_changed","true"),window.location.href=e.toString()}else window.location.hash=`#r${s?.databaseId}`,c&&s?.databaseId&&u(s?.databaseId);e()},[v,y]=(0,eQ.M)(ts(r),!1),j=a.threadPreviewComments.length,C=0===j?"No replies":`${j} ${1===j?"reply":"replies"}`,w={...p,id:p?.id??"",commentsData:{comments:[]}};if(!s||!w)return null;let N=ti(a.commentId,p?.commentsData??{comments:[]});return(0,o.jsxs)("div",{className:"border rounded-2 d-flex flex-column",children:[(0,o.jsx)(e6,{firstCommentId:s?.databaseId,isCollapsed:v,threadPreview:n,onNavigateToDiffComment:b,onToggleCollapsed:()=>y(!v),headingLevel:i,isResolved:g,isOutdated:x,lineKey:h}),!v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"border-bottom borderColor-muted overflow-x-auto",children:(0,o.jsx)(eZ.i,{diffTableClassName:"border-0",diffLines:a?.subject?.diffLines,className:"m-0 border-0",tabSize:t||4})}),(0,o.jsx)("div",{children:(0,o.jsx)(eW.U,{lineMarkersKey:h,hideActions:!0,isInlineComment:!1,comment:s,filePath:d,index:0,isAnchorable:!1,isOutdated:x,isThreadResolved:g,threadId:r,originalDiffPathUri:a.originalDiffPathUri,headingLevel:"h3"},l)}),(0,o.jsx)("div",{className:"mb-2 px-2",children:(0,o.jsx)(Z.Q,{"aria-label":`View ${C}`,size:"small",trailingVisual:G.ChevronRightIcon,variant:"invisible",onClick:b,children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-start flex-items-center gap-2",children:[(0,o.jsx)("span",{children:C}),(0,o.jsx)(e8,{commentAuthors:N})]})})})]})]})});try{tl.displayName||(tl.displayName="ThreadPreview")}catch{}var to=n(4559),td=n(76720);let tc=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(11),{heading:s,description:l,icon:d,headingLevel:u}=e,m=void 0===u?"h1":u;return r[0]!==d?(t=(0,o.jsx)(td.E.Visual,{children:(0,o.jsx)(d,{size:"medium"})}),r[0]=d,r[1]=t):t=r[1],r[2]!==s||r[3]!==m?(n=(0,o.jsx)(td.E.Heading,{as:m,children:s}),r[2]=s,r[3]=m,r[4]=n):n=r[4],r[5]!==l?(i=l&&(0,o.jsx)(td.E.Description,{children:l}),r[5]=l,r[6]=i):i=r[6],r[7]!==t||r[8]!==n||r[9]!==i?(a=(0,o.jsxs)(td.E,{children:[t,n,i]}),r[7]=t,r[8]=n,r[9]=i,r[10]=a):a=r[10],a}:function({heading:e,description:t,icon:n,headingLevel:i="h1"}){return(0,o.jsxs)(td.E,{children:[(0,o.jsx)(td.E.Visual,{children:(0,o.jsx)(n,{size:"medium"})}),(0,o.jsx)(td.E.Heading,{as:i,children:e}),t&&(0,o.jsx)(td.E.Description,{children:t})]})};try{tc.displayName||(tc.displayName="ZeroState")}catch{}var tu=n(69510);let tm=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f=(0,c.c)(27),{filteredThreadIds:h,onClose:p,pageLimits:g,pathName:x,isOpen:b,setThreadPreviews:j,tabSize:C}=e;f[0]!==x?(t={pathName:x},f[0]=x,f[1]=t):t=f[1];let{data:w}=(0,tu._l)(t),N=void 0===w?[]:w;(0,v.useEffect)(()=>{j(N)},[N,j]);let S=(0,v.useRef)(null);f[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,y.s)(to.i,300),f[2]=n):n=f[2];let L=n,D=N.length>0;f[3]!==p?(i=()=>{p()},f[3]=p,f[4]=i):i=f[4];let _=i;f[5]!==h||f[6]!==_||f[7]!==C?(a=e=>e&&h.has(e.previewInfo.threadId)?(0,o.jsx)(tl,{tabSize:C,threadPreview:e,onNavigateToDiffComment:_,headingLevel:"h2"},e.previewInfo.threadId):null,f[5]=h,f[6]=_,f[7]=C,f[8]=a):a=f[8];let I=N.map(a).filter(Boolean);return f[9]!==L||f[10]!==b||f[11]!==I.length?(r=()=>{b&&L(I.length>0?`${I.length} ${1===I.length?"comment":"comments"}`:"No comments found",{element:S.current})},f[9]=L,f[10]=b,f[11]=I.length,f[12]=r):r=f[12],f[13]!==L||f[14]!==b||f[15]!==I?(s=[b,L,I],f[13]=L,f[14]=b,f[15]=I,f[16]=s):s=f[16],(0,v.useEffect)(r,s),f[17]!==g.reviewThreadsLimit||f[18]!==g.reviewThreadsLimitExceeded?(l=g.reviewThreadsLimitExceeded&&(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${g.reviewThreadsLimit} comments are currently being shown.`,className:"mb-3"}),f[17]=g.reviewThreadsLimit,f[18]=g.reviewThreadsLimitExceeded,f[19]=l):l=f[19],f[20]!==D||f[21]!==I?(d=I.length>0?(0,o.jsx)(v.Suspense,{fallback:(0,o.jsx)(E.A,{}),children:(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:I})}):(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,o.jsx)(tc,{description:"Comments will show up here as soon as there are some.",heading:D?"No comments match the current filter":"No comments on changes yet",icon:G.CommentIcon,headingLevel:"h2"})}),f[20]=D,f[21]=I,f[22]=d):d=f[22],f[23]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:S}),f[23]=u):u=f[23],f[24]!==l||f[25]!==d?(m=(0,o.jsxs)(o.Fragment,{children:[l,d,u]}),f[24]=l,f[25]=d,f[26]=m):m=f[26],m}:function({filteredThreadIds:e,onClose:t,pageLimits:n,pathName:i,isOpen:a,setThreadPreviews:r,tabSize:s}){let{data:l=[]}=(0,tu._l)({pathName:i});(0,v.useEffect)(()=>{r(l)},[l,r]);let d=(0,v.useRef)(null),c=(0,v.useMemo)(()=>(0,y.s)(to.i,300),[]),u=l.length>0,m=(0,v.useCallback)(()=>{t()},[t]),f=l.map(t=>t&&e.has(t.previewInfo.threadId)?(0,o.jsx)(tl,{tabSize:s,threadPreview:t,onNavigateToDiffComment:m,headingLevel:"h2"},t.previewInfo.threadId):null).filter(Boolean);return(0,v.useEffect)(()=>{a&&c(f.length>0?`${f.length} ${1===f.length?"comment":"comments"}`:"No comments found",{element:d.current})},[a,c,f]),(0,o.jsxs)(o.Fragment,{children:[n.reviewThreadsLimitExceeded&&(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${n.reviewThreadsLimit} comments are currently being shown.`,className:"mb-3"}),f.length>0?(0,o.jsx)(v.Suspense,{fallback:(0,o.jsx)(E.A,{}),children:(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:f})}):(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,o.jsx)(tc,{description:"Comments will show up here as soon as there are some.",heading:u?"No comments match the current filter":"No comments on changes yet",icon:G.CommentIcon,headingLevel:"h2"})}),(0,o.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:d})]})},tf=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h=(0,c.c)(25);h[0]!==e?({pathName:t,toggleSidesheetRef:i,...n}=e,h[0]=e,h[1]=t,h[2]=n,h[3]=i):(t=h[1],n=h[2],i=h[3]),h[4]===Symbol.for("react.memo_cache_sentinel")?(a=[],h[4]=a):a=h[4];let[p,x]=(0,v.useState)(a),[b,y]=(0,v.useState)(th);h[5]!==b||h[6]!==p?(r=eq(p,b),h[5]=b,h[6]=p,h[7]=r):r=h[7];let j=r,C=(0,v.useRef)(null);if(h[8]!==p){for(let e of(s=[],p)){let t=e.previewInfo.firstComment;t?.author&&!s.some(e=>e.login===t.author?.login)&&("Copilot"===t.author.login?s.unshift(t.author):s.push(t.author))}h[8]=p,h[9]=s}else s=h[9];let w=s;return n.isOpen?(h[10]===Symbol.for("react.memo_cache_sentinel")?(l={narrow:"fullscreen",regular:"right",wide:"right"},h[10]=l):l=h[10],h[11]!==w||h[12]!==b||h[13]!==n.onClose?(d=e=>{let{dialogLabelId:t}=e;return(0,o.jsxs)(g.l.Header,{className:"p-3",children:[(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between flex-items-center width-full",children:[(0,o.jsx)(g.l.Title,{id:t,children:"Comments"}),(0,o.jsx)(H.K,{ref:C,"aria-label":"Close comments panel",icon:G.XIcon,variant:"invisible",onClick:n.onClose})]}),(0,o.jsx)(eK,{authorList:w,className:"mt-2 width-full",filterState:b,onFilterStateChange:y})]})},h[11]=w,h[12]=b,h[13]=n.onClose,h[14]=d):d=h[14],h[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)("div",{className:"d-flex flex-justify-center",children:(0,o.jsx)(E.A,{})}),h[15]=u):u=h[15],h[16]!==j||h[17]!==t||h[18]!==n?(m=(0,o.jsx)(v.Suspense,{fallback:u,children:(0,o.jsx)(tm,{...n,filteredThreadIds:j,pathName:t,setThreadPreviews:x})}),h[16]=j,h[17]=t,h[18]=n,h[19]=m):m=h[19],h[20]!==n.onClose||h[21]!==d||h[22]!==m||h[23]!==i?(f=(0,o.jsx)(g.l,{initialFocusRef:C,position:l,returnFocusRef:i,onClose:n.onClose,renderHeader:d,children:m}),h[20]=n.onClose,h[21]=d,h[22]=m,h[23]=i,h[24]=f):f=h[24],f):null}:function(e){let{pathName:t,toggleSidesheetRef:n,...i}=e,[a,r]=(0,v.useState)([]),[s,l]=(0,v.useState)(()=>({...ez})),d=eq(a,s),c=(0,v.useRef)(null),u=(0,v.useMemo)(()=>{let e=[];for(let t of a){let n=t.previewInfo.firstComment;n?.author&&!e.some(e=>e.login===n.author?.login)&&("Copilot"===n.author.login?e.unshift(n.author):e.push(n.author))}return e},[a]);return i.isOpen?(0,o.jsx)(g.l,{initialFocusRef:c,position:{narrow:"fullscreen",regular:"right",wide:"right"},returnFocusRef:n,onClose:i.onClose,renderHeader:({dialogLabelId:e})=>(0,o.jsxs)(g.l.Header,{className:"p-3",children:[(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between flex-items-center width-full",children:[(0,o.jsx)(g.l.Title,{id:e,children:"Comments"}),(0,o.jsx)(H.K,{ref:c,"aria-label":"Close comments panel",icon:G.XIcon,variant:"invisible",onClick:i.onClose})]}),(0,o.jsx)(eK,{authorList:u,className:"mt-2 width-full",filterState:s,onFilterStateChange:l})]}),children:(0,o.jsx)(v.Suspense,{fallback:(0,o.jsx)("div",{className:"d-flex flex-justify-center",children:(0,o.jsx)(E.A,{})}),children:(0,o.jsx)(tm,{...i,filteredThreadIds:d,pathName:t,setThreadPreviews:r})})}):null});try{tm.displayName||(tm.displayName="CommentsSidePanelContent")}catch{}try{tf.displayName||(tf.displayName="CommentsSidePanel")}catch{}function th(){return{...ez}}let tp=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(18),{isFileTreeExpanded:u,pageLimits:m,pullRequest:f,tabSize:h}=e,[p,g]=(0,v.useState)(!1),x=(0,v.useRef)(null),b=(0,D.Qb)(),{sendPullRequestAnalyticsEvent:y}=(0,V.q)();return d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(Z.Q,{"aria-label":"The comments side panel cannot currently be opened.",leadingVisual:G.CommentDiscussionIcon,size:"small",variant:"invisible"}),d[0]=t):t=d[0],d[1]!==y?(n=()=>{y("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),g(!0)},d[1]=y,d[2]=n):n=d[2],d[3]!==u?(i=u&&(0,o.jsx)("span",{className:"d-none d-xl-block",children:"Comments"}),d[3]=u,d[4]=i):i=d[4],d[5]!==b||d[6]!==n||d[7]!==i?(a=(0,o.jsx)(Z.Q,{ref:x,"aria-label":"Open comments side panel",count:b,leadingVisual:G.CommentDiscussionIcon,size:"small",onClick:n,children:i}),d[5]=b,d[6]=n,d[7]=i,d[8]=a):a=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(r=()=>g(!1),d[9]=r):r=d[9],d[10]!==p||d[11]!==m||d[12]!==f.pathName||d[13]!==h?(s=(0,o.jsx)(tf,{isOpen:p,pageLimits:m,pathName:f.pathName,tabSize:h,toggleSidesheetRef:x,onClose:r}),d[10]=p,d[11]=m,d[12]=f.pathName,d[13]=h,d[14]=s):s=d[14],d[15]!==a||d[16]!==s?(l=(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:t,children:[a,s]})}),d[15]=a,d[16]=s,d[17]=l):l=d[17],l}:function({isFileTreeExpanded:e,pageLimits:t,pullRequest:n,tabSize:i}){let[a,r]=(0,v.useState)(!1),s=(0,v.useRef)(null),l=(0,D.Qb)(),{sendPullRequestAnalyticsEvent:d}=(0,V.q)();return(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:(0,o.jsx)(Z.Q,{"aria-label":"The comments side panel cannot currently be opened.",leadingVisual:G.CommentDiscussionIcon,size:"small",variant:"invisible"}),children:[(0,o.jsx)(Z.Q,{ref:s,"aria-label":"Open comments side panel",count:l,leadingVisual:G.CommentDiscussionIcon,size:"small",onClick:()=>{d("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),r(!0)},children:e&&(0,o.jsx)("span",{className:"d-none d-xl-block",children:"Comments"})}),(0,o.jsx)(tf,{isOpen:a,pageLimits:t,pathName:n.pathName,tabSize:i,toggleSidesheetRef:s,onClose:()=>r(!1)})]})})};try{tp.displayName||(tp.displayName="OpenCommentsSidePanelButton")}catch{}var tg=n(86909);function tx(e,t){return new Set(e.filter(e=>(function(e,t){if(t){let n=t.toLowerCase();if(!e.annotationLevel.toLowerCase().includes(n)&&!e.message.toLowerCase().includes(n)&&!e.path.toLowerCase().includes(n)&&!e.title?.toLowerCase().includes(n)&&!e.checkRun.name?.toLowerCase().includes(n)&&!e.appAvatarAltText.toLowerCase().includes(n)&&!e.checkSuiteName?.toLowerCase().includes(n))return!1}return!0})(e,t)).map(e=>e.id))}let tb=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(8),{className:r,filteredText:s,onFilteredTextChange:l}=e;return a[0]!==l?(t=e=>l(e.target.value),a[0]=l,a[1]=t):t=a[1],a[2]!==s||a[3]!==t?(n=(0,o.jsx)(eU.A,{block:!0,"aria-label":"Filter alerts\u2026",leadingVisual:G.SearchIcon,placeholder:"Filter alerts\u2026",value:s,onChange:t}),a[2]=s,a[3]=t,a[4]=n):n=a[4],a[5]!==r||a[6]!==n?(i=(0,o.jsx)("div",{className:r,children:n}),a[5]=r,a[6]=n,a[7]=i):i=a[7],i}:function({className:e,filteredText:t,onFilteredTextChange:n}){return(0,o.jsx)("div",{className:e,children:(0,o.jsx)(eU.A,{block:!0,"aria-label":"Filter alerts\u2026",leadingVisual:G.SearchIcon,placeholder:"Filter alerts\u2026",value:t,onChange:e=>n(e.target.value)})})};try{tb.displayName||(tb.displayName="AlertsFilter")}catch{}let tv="AlertsSidePanel-module__annotationsHeaderFileName--JzcsF",ty=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u=(0,c.c)(25),{databaseId:m,lineNumber:f,path:h,toggleCollapsed:p,isCollapsed:g,onNavigateToAnnotation:x,annotationLevel:v}=e,y=g?"Expand annotation":"Collapse annotation",j=g?G.ChevronRightIcon:G.ChevronDownIcon;u[0]!==y||u[1]!==j||u[2]!==p?(t=(0,o.jsx)(H.K,{"aria-label":y,icon:j,size:"small",variant:"invisible",className:"mr-1",onClick:p}),u[0]=y,u[1]=j,u[2]=p,u[3]=t):t=u[3];let C=tg.Gt[v];u[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)("overflow-hidden text-mono text-semibold f6 no-wrap",tv),u[4]=n):n=u[4];let w=`#annotation_${m}`;u[5]!==x||u[6]!==h||u[7]!==w?(i=(0,o.jsxs)(T.A,{className:n,href:w,onClick:x,muted:!0,children:["\u200E",h]}),u[5]=x,u[6]=h,u[7]=w,u[8]=i):i=u[8],u[9]!==h||u[10]!==i?(a=(0,o.jsx)(O.m,{direction:"n",text:h,type:"label",children:i}),u[9]=h,u[10]=i,u[11]=a):a=u[11],u[12]!==f?(r=(0,o.jsxs)("span",{className:"f6 fgColor-muted text-normal ml-2 no-wrap",children:["Line ",f]}),u[12]=f,u[13]=r):r=u[13],u[14]!==t||u[15]!==C||u[16]!==a||u[17]!==r?(s=(0,o.jsxs)("h2",{className:"d-flex flex-items-center flex-1 min-width-0 ml-1 mr-2",children:[t,C,a,r]}),u[14]=t,u[15]=C,u[16]=a,u[17]=r,u[18]=s):s=u[18];let N=`#annotation_${m}`;return u[19]!==x||u[20]!==N?(l=(0,o.jsx)(H.K,{as:"a","aria-label":"Jump to the alert in the diff",tooltipDirection:"se",icon:G.FileSymlinkFileIcon,variant:"invisible",href:N,onClick:x}),u[19]=x,u[20]=N,u[21]=l):l=u[21],u[22]!==s||u[23]!==l?(d=(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center py-1 px-2 bgColor-inset rounded-top-2 border-bottom",children:[s,l]}),u[22]=s,u[23]=l,u[24]=d):d=u[24],d}:function({databaseId:e,lineNumber:t,path:n,toggleCollapsed:i,isCollapsed:a,onNavigateToAnnotation:r,annotationLevel:s}){return(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center py-1 px-2 bgColor-inset rounded-top-2 border-bottom",children:[(0,o.jsxs)("h2",{className:"d-flex flex-items-center flex-1 min-width-0 ml-1 mr-2",children:[(0,o.jsx)(H.K,{"aria-label":a?"Expand annotation":"Collapse annotation",icon:a?G.ChevronRightIcon:G.ChevronDownIcon,size:"small",variant:"invisible",className:"mr-1",onClick:i}),tg.Gt[s],(0,o.jsx)(O.m,{direction:"n",text:n,type:"label",children:(0,o.jsxs)(T.A,{className:(0,b.$)("overflow-hidden text-mono text-semibold f6 no-wrap",tv),href:`#annotation_${e}`,onClick:r,muted:!0,children:["\u200E",n]})}),(0,o.jsxs)("span",{className:"f6 fgColor-muted text-normal ml-2 no-wrap",children:["Line ",t]})]}),(0,o.jsx)(H.K,{as:"a","aria-label":"Jump to the alert in the diff",tooltipDirection:"se",icon:G.FileSymlinkFileIcon,variant:"invisible",href:`#annotation_${e}`,onClick:r})]})},tj=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f=(0,c.c)(26),{annotations:h,onClose:p,isOpen:x,pageLimits:b,returnFocusRef:j}=e,[C,w]=(0,v.useState)(""),N=tx(h,C),S=(0,v.useRef)(null),L=h.length>0,_=(0,D.j5)(),{navigateToSelectedAnnotation:I}=(0,D.Lh)();f[0]!==_||f[1]!==I||f[2]!==p?(t=e=>{_&&I(e),p()},f[0]=_,f[1]=I,f[2]=p,f[3]=t):t=f[3];let R=t,k=h.map(e=>e&&N.has(e.id)?(0,o.jsx)(tC,{annotation:e,handleNavigateToAnnotation:R},e.id):null).filter(Boolean),E=(0,v.useRef)(null);f[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,y.s)(to.i,300),f[4]=n):n=f[4];let T=n;return(f[5]!==k||f[6]!==x?(i=()=>{x&&T(k.length>0?`${k.length} ${1===k.length?"alert":"alerts"}`:"No alerts found",{element:E.current})},a=[x,T,k],f[5]=k,f[6]=x,f[7]=i,f[8]=a):(i=f[7],a=f[8]),(0,v.useEffect)(i,a),x)?(f[9]===Symbol.for("react.memo_cache_sentinel")?(r={narrow:"fullscreen",regular:"right",wide:"right"},f[9]=r):r=f[9],f[10]!==C||f[11]!==p?(s=e=>{let{dialogLabelId:t}=e;return(0,o.jsxs)(g.l.Header,{className:"p-3",children:[(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center flex-justify-between width-full",children:[(0,o.jsx)(A.A,{as:"h1",className:"f4 text-bold",id:t,children:"Alerts"}),(0,o.jsx)(H.K,{ref:S,"aria-label":"Close alerts panel",icon:G.XIcon,variant:"invisible",onClick:p})]}),(0,o.jsx)(tb,{className:"mt-2 width-full",filteredText:C,onFilteredTextChange:w})]})},f[10]=C,f[11]=p,f[12]=s):s=f[12],f[13]!==b.annotationsLimit||f[14]!==b.annotationsLimitExceeded?(l=b.annotationsLimitExceeded&&(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${b.annotationsLimit} alerts are currently being shown.`,className:"mb-3"}),f[13]=b.annotationsLimit,f[14]=b.annotationsLimitExceeded,f[15]=l):l=f[15],f[16]!==k||f[17]!==L?(d=k.length>0?(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:k}):(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,o.jsx)(tc,{heading:L?"No alerts match the current filter":"No alerts on changes yet",icon:G.AlertIcon})}),f[16]=k,f[17]=L,f[18]=d):d=f[18],f[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:E}),f[19]=u):u=f[19],f[20]!==p||f[21]!==j||f[22]!==s||f[23]!==l||f[24]!==d?(m=(0,o.jsxs)(g.l,{initialFocusRef:S,onClose:p,position:r,returnFocusRef:j,renderHeader:s,children:[l,d,u]}),f[20]=p,f[21]=j,f[22]=s,f[23]=l,f[24]=d,f[25]=m):m=f[25],m):null}:function({annotations:e,onClose:t,isOpen:n,pageLimits:i,returnFocusRef:a}){let[r,s]=(0,v.useState)(""),l=tx(e,r),d=(0,v.useRef)(null),c=e.length>0,u=(0,D.j5)(),{navigateToSelectedAnnotation:m}=(0,D.Lh)(),f=(0,v.useCallback)(e=>{u&&m(e),t()},[t,u,m]),h=e.map(e=>e&&l.has(e.id)?(0,o.jsx)(tC,{annotation:e,handleNavigateToAnnotation:f},e.id):null).filter(Boolean),p=(0,v.useRef)(null),x=(0,v.useMemo)(()=>(0,y.s)(to.i,300),[]);return((0,v.useEffect)(()=>{n&&x(h.length>0?`${h.length} ${1===h.length?"alert":"alerts"}`:"No alerts found",{element:p.current})},[n,x,h]),n)?(0,o.jsxs)(g.l,{initialFocusRef:d,onClose:t,position:{narrow:"fullscreen",regular:"right",wide:"right"},returnFocusRef:a,renderHeader:({dialogLabelId:e})=>(0,o.jsxs)(g.l.Header,{className:"p-3",children:[(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center flex-justify-between width-full",children:[(0,o.jsx)(A.A,{as:"h1",className:"f4 text-bold",id:e,children:"Alerts"}),(0,o.jsx)(H.K,{ref:d,"aria-label":"Close alerts panel",icon:G.XIcon,variant:"invisible",onClick:t})]}),(0,o.jsx)(tb,{className:"mt-2 width-full",filteredText:r,onFilteredTextChange:s})]}),children:[i.annotationsLimitExceeded&&(0,o.jsx)(eE.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${i.annotationsLimit} alerts are currently being shown.`,className:"mb-3"}),h.length>0?(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full gap-3",children:h}):(0,o.jsx)("div",{className:"d-flex flex-column position-relative width-full height-full flex-justify-center",children:(0,o.jsx)(tc,{heading:c?"No alerts match the current filter":"No alerts on changes yet",icon:G.AlertIcon})}),(0,o.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",ref:p})]}):null}),tC=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(18),{annotation:s,handleNavigateToAnnotation:l}=e,{isCollapsed:d,handleToggleCollapsed:u}=(0,tg.Vv)(s);return r[0]!==s.databaseId||r[1]!==l?(t=()=>l(s.databaseId),r[0]=s.databaseId,r[1]=l,r[2]=t):t=r[2],r[3]!==s.annotationLevel||r[4]!==s.databaseId||r[5]!==s.endLine||r[6]!==s.path||r[7]!==u||r[8]!==d||r[9]!==t?(n=(0,o.jsx)(ty,{databaseId:s.databaseId,lineNumber:s.endLine,annotationLevel:s.annotationLevel,path:s.path,toggleCollapsed:u,isCollapsed:d,onNavigateToAnnotation:t}),r[3]=s.annotationLevel,r[4]=s.databaseId,r[5]=s.endLine,r[6]=s.path,r[7]=u,r[8]=d,r[9]=t,r[10]=n):n=r[10],r[11]!==s||r[12]!==d?(i=!d&&(0,o.jsx)(tg.YH,{annotation:s,inSidePanel:!0}),r[11]=s,r[12]=d,r[13]=i):i=r[13],r[14]!==s.id||r[15]!==n||r[16]!==i?(a=(0,o.jsxs)("div",{className:"border rounded-2 bgColor-default overflow-hidden",children:[n,i]},s.id),r[14]=s.id,r[15]=n,r[16]=i,r[17]=a):a=r[17],a}:function({annotation:e,handleNavigateToAnnotation:t}){let{isCollapsed:n,handleToggleCollapsed:i}=(0,tg.Vv)(e);return(0,o.jsxs)("div",{className:"border rounded-2 bgColor-default overflow-hidden",children:[(0,o.jsx)(ty,{databaseId:e.databaseId,lineNumber:e.endLine,annotationLevel:e.annotationLevel,path:e.path,toggleCollapsed:i,isCollapsed:n,onNavigateToAnnotation:()=>t(e.databaseId)}),!n&&(0,o.jsx)(tg.YH,{annotation:e,inSidePanel:!0})]},e.id)};try{ty.displayName||(ty.displayName="AnnotationHeader")}catch{}try{tj.displayName||(tj.displayName="AlertsSidePanel")}catch{}try{tC.displayName||(tC.displayName="SidePanelAlert")}catch{}let tw=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(11),{isFileTreeExpanded:r,pageLimits:s,className:l}=e,[d,u]=(0,v.useState)(!1),m=(0,v.useRef)(null);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>u(!1),a[0]=t):t=a[0];let f=t,h=(0,D.wI)(),{sendPullRequestAnalyticsEvent:p}=(0,V.q)();if(!h)return null;a[1]!==h?(n=Object.values(h),a[1]=h,a[2]=n):n=a[2];let g=n,x=g.length;return a[3]!==g||a[4]!==l||a[5]!==r||a[6]!==s||a[7]!==p||a[8]!==d||a[9]!==x?(i=x>0?(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:(0,o.jsx)(H.K,{inactive:!0,"aria-label":"The alerts side panel cannot currently be opened.",icon:G.AlertIcon,size:"small",variant:"invisible"}),children:[(0,o.jsx)(Z.Q,{ref:m,className:l,"aria-label":"Open alerts side panel",count:x,leadingVisual:G.AlertIcon,size:"small",onClick:()=>{p("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),u(!0)},children:r&&(0,o.jsx)("span",{className:"d-none d-xl-block",children:"Alerts"})}),(0,o.jsx)(tj,{annotations:g,isOpen:d,pageLimits:s,returnFocusRef:m,onClose:f})]})}):null,a[3]=g,a[4]=l,a[5]=r,a[6]=s,a[7]=p,a[8]=d,a[9]=x,a[10]=i):i=a[10],i}:function({isFileTreeExpanded:e,pageLimits:t,className:n}){let[i,a]=(0,v.useState)(!1),r=(0,v.useRef)(null),s=(0,v.useCallback)(()=>a(!1),[]),l=(0,D.wI)(),{sendPullRequestAnalyticsEvent:d}=(0,V.q)();if(!l)return null;let c=Object.values(l),u=c.length;return u>0?(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:(0,o.jsx)(H.K,{inactive:!0,"aria-label":"The alerts side panel cannot currently be opened.",icon:G.AlertIcon,size:"small",variant:"invisible"}),children:[(0,o.jsx)(Z.Q,{ref:r,className:n,"aria-label":"Open alerts side panel",count:u,leadingVisual:G.AlertIcon,size:"small",onClick:()=>{d("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),a(!0)},children:e&&(0,o.jsx)("span",{className:"d-none d-xl-block",children:"Alerts"})}),(0,o.jsx)(tj,{annotations:c,isOpen:i,pageLimits:t,returnFocusRef:r,onClose:s})]})}):null};try{tw.displayName||(tw.displayName="OpenAlertsPanelButton")}catch{}var tN=n(70109),tS=n(42255),tL=n(46251),tD=n(31604),t_=n(33578);let tI={approve:"approve",comment:"comment",requestChanges:"request changes"},tR=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(10),{onSuccess:s,onError:l}=e,o=(0,ee.e)(Y.uT.submitReview);return r[0]!==o?(t=async e=>{let{body:t,event:n,headSha:i}=e;return(0,ed.Sr)(`${o}`,{method:"PUT",headers:{Accept:"application/json"},body:{body:t,event:n,headSha:i}})},r[0]=o,r[1]=t):t=r[1],r[2]!==s?(n=async e=>{let t=await e.json(),n=t.error||"Unknown error occurred";if(!e.ok)throw Error(n);s(t)},r[2]=s,r[3]=n):n=r[3],r[4]!==l?(i=e=>{l(e)},r[4]=l,r[5]=i):i=r[5],r[6]!==t||r[7]!==n||r[8]!==i?(a={mutationFn:t,onSuccess:n,onError:i},r[6]=t,r[7]=n,r[8]=i,r[9]=a):a=r[9],(0,et.n)(a)}:function({onSuccess:e,onError:t}){let n=(0,ee.e)(Y.uT.submitReview);return(0,et.n)({mutationFn:async({body:e,event:t,headSha:i})=>(0,ed.Sr)(`${n}`,{method:"PUT",headers:{Accept:"application/json"},body:{body:e,event:t,headSha:i}}),onSuccess:async t=>{let n=await t.json(),i=n.error||"Unknown error occurred";if(!t.ok)throw Error(i);e(n)},onError:e=>{t(e)}})},tk=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(10),{onSuccess:s,onError:l}=e,o=(0,ee.e)(Y.uT.abandonReview);return r[0]!==o?(t=async()=>(0,ed.Sr)(`${o}`,{method:"DELETE",headers:{Accept:"application/json"}}),r[0]=o,r[1]=t):t=r[1],r[2]!==s?(n=async e=>{let t=await e.json(),n=t.error||"Unknown error occurred";if(!e.ok)throw Error(n);s(t)},r[2]=s,r[3]=n):n=r[3],r[4]!==l?(i=e=>{l(e)},r[4]=l,r[5]=i):i=r[5],r[6]!==t||r[7]!==n||r[8]!==i?(a={mutationFn:t,onSuccess:n,onError:i},r[6]=t,r[7]=n,r[8]=i,r[9]=a):a=r[9],(0,et.n)(a)}:function({onSuccess:e,onError:t}){let n=(0,ee.e)(Y.uT.abandonReview);return(0,et.n)({mutationFn:async()=>(0,ed.Sr)(`${n}`,{method:"DELETE",headers:{Accept:"application/json"}}),onSuccess:async t=>{let n=await t.json(),i=n.error||"Unknown error occurred";if(!t.ok)throw Error(i);e(n)},onError:e=>{t(e)}})};var tA=n(46747);let{getItem:tE,removeItem:tT,setItem:tO}=(0,eg.D)("localStorage"),tP=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(11),[s,l]=(0,v.useState)(!1),o=`Review:${e}`;r[0]!==o?(t=tE(o),r[0]=o,r[1]=t):t=r[1];let d=t;r[2]!==o?(n=()=>{tT(o)},r[2]=o,r[3]=n):n=r[3];let u=n;r[4]!==s||r[5]!==o?(i=(e,t)=>{if(!s)try{tO(o,{event:e,text:t})}catch{l(!0)}},r[4]=s,r[5]=o,r[6]=i):i=r[6];let m=(0,tA.d)(i,1e3);return r[7]!==m||r[8]!==d||r[9]!==u?(a={persistedReview:d,persistReviewToStorage:m,removePersistedReviewFromStorage:u},r[7]=m,r[8]=d,r[9]=u,r[10]=a):a=r[10],a}:function(e){let[t,n]=(0,v.useState)(!1),i=(0,v.useMemo)(()=>`Review:${e}`,[e]);return{persistedReview:tE(i),persistReviewToStorage:(0,tA.d)((e,a)=>{if(!t)try{tO(i,{event:e,text:a})}catch{n(!0)}},1e3),removePersistedReviewFromStorage:()=>{tT(i)}}},tF="ReviewMenuButton-module__ReviewMenuButton--uK7FN",t$="ReviewMenuButton-module__CommentBoxContainer--Un2Pq",tM="ReviewMenuButton-module__SubmitReviewButton--ZSu4L",tB="ReviewMenuButton-module__ErrorMessage--bglZe",tV="ReviewMenuButton-module__ExpandSection--sAB8o",tU="ReviewMenuButton-module__AnchoredReviewBody--nirqE";function tG(e,t){let n=(0,D.BI)(e),i=(0,D.l0)();return(0,v.useMemo)(()=>{let a=e;if(void 0===n||void 0===i)return[];let r=[];for(let e of Object.keys(t)){let s=t[e];if(!s)continue;let l=0,{path:o,diffLines:d}=s,c=i[o];if(c){let e=function(e,t){if(!e||!e.markersMap)return[];let n=e.markersMap.FILE;if(void 0===n)return[];let i=[];for(let a of n.threads){if(void 0===a.id)continue;let n=t.find(e=>Number(e.id)===a.id);if(!n)continue;let r=n.commentsData?.comments.slice(0,-1),s=[];for(let e of r??[])e.author&&s.push({author:{avatarUrl:e.author.avatarUrl,login:e.author.login}});let l=(n.commentsData?.comments??[]).filter(e=>"pending"===e.state).map(t=>({bodyHTML:t.bodyHTML??"",threadId:n.id,commentId:(t.databaseId??0).toString(),isOutdated:n.isOutdated??!1,isResolved:!1,path:e.path,subjectType:"FILE",commentsData:n.commentsData,threadPreviewComments:s}));i.push(...l)}return i}(c,n);e.length>0&&(r.push(...e),a=a.filter(t=>!e.some(e=>e.threadId===t.toString()))),d.map(e=>{let t=function(e,t,n,i,a,r){let s="DELETION"!==t.type?`R${t.right}`:`L${t.left}`;if(!n||!n.markersMap)return{pendingCommentsReturnArray:[],markersFoundInLine:[]};let l=n.markersMap[s],o=[],d=[];if(l){for(let t of l.threads){let n;if(void 0===t.id)continue;let l=i.find(e=>Number(e.id)===t.id);if(!l)continue;let c=parseInt(s.slice(1))||0,u=-1,m=5;t.start&&(n="L"===t.start[0]?"LEFT":"RIGHT",u=parseInt(t.start.slice(1))||-1),-1!==u&&(m=c-u),m>a&&(m=a+1);let f=r.slice(a+1-m,a+1);for(let e=0;e<f.length;e++)f[e]?.type==="HUNK"&&f.splice(0,e+1);let h=l.commentsData?.comments.slice(0,-1),p=[];for(let e of h??[])e.author&&p.push({author:{avatarUrl:e.author.avatarUrl,login:e.author.login}});o.push(t.id),l.commentsData&&(d=d.concat(l.commentsData.comments.filter(e=>"pending"===e.state).map(t=>({bodyHTML:t.bodyHTML??"",threadId:l.id,commentId:(t.databaseId??0).toString(),isOutdated:l.isOutdated??!1,isResolved:!1,line:c,path:e,subject:{diffLines:f,endLine:c,startDiffSide:n,startLine:-1===u?null:u},subjectType:t.subjectType??"LINE",commentsData:l.commentsData,threadPreviewComments:p}))))}return{pendingCommentsReturnArray:d,markersFoundInLine:o}}return{pendingCommentsReturnArray:[],markersFoundInLine:[]}}(s.path,e,c,n,l,d);l++,void 0!==t&&(r.push(...t.pendingCommentsReturnArray),a=a.filter(e=>!t.markersFoundInLine.includes(e)))})}}return[...r,...function(e,t){let n=[];for(let i of e){let e=t[i];if(!e)continue;let a=e.commentsData?.comments.slice(0,-1),r=[];for(let e of a??[])e.author&&r.push({author:{avatarUrl:e.author.avatarUrl,login:e.author.login}});let s=(e.commentsData?.comments??[]).filter(e=>"pending"===e.state).map(t=>({bodyHTML:t.bodyHTML??"",threadId:e.id,commentId:(t.databaseId??0).toString(),isOutdated:e.isOutdated??!1,isResolved:!1,path:"",subjectType:t.subjectType??"LINE",commentsData:e.commentsData,threadPreviewComments:r}));n.push(...s)}return n}(a,n)]},[e,n,i,t])}var tH=n(29255),tq=n(55461),tz=n(15837),tK=n(33989),tW=n(55255);let tZ="ReviewMenu-module__Radio--i3DSd",tQ="ReviewMenu-module__RadioGroup--uQwUG",tX="ReviewMenu-module__RadioText--dXY49",tJ=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(13),{isPROpen:r,reviewEvent:s,viewerAllowedNonCommentReviewTypes:l,viewerCanWriteToRepo:d,viewerHasViolatedPushPolicy:u,viewerIsAuthor:m,viewerIsCopilotAttributed:f,handleReviewEventChange:p,handleReviewSubmit:g}=e;return r?(a[0]!==g?(t={"pull-request-files-changed:submit-review":g},a[0]=g,a[1]=t):t=a[1],a[2]!==p||a[3]!==s||a[4]!==l||a[5]!==d||a[6]!==u||a[7]!==m||a[8]!==f?(n=(0,o.jsx)(tY,{reviewEvent:s,viewerAllowedNonCommentReviewTypes:l,viewerCanWriteToRepo:d,viewerHasViolatedPushPolicy:u,viewerIsAuthor:m,viewerIsCopilotAttributed:f,onReviewEventChange:p}),a[2]=p,a[3]=s,a[4]=l,a[5]=d,a[6]=u,a[7]=m,a[8]=f,a[9]=n):n=a[9],a[10]!==t||a[11]!==n?(i=(0,o.jsx)(h.tL,{commands:t,children:n}),a[10]=t,a[11]=n,a[12]=i):i=a[12],i):null}:function({isPROpen:e,reviewEvent:t,viewerAllowedNonCommentReviewTypes:n,viewerCanWriteToRepo:i,viewerHasViolatedPushPolicy:a,viewerIsAuthor:r,viewerIsCopilotAttributed:s,handleReviewEventChange:l,handleReviewSubmit:d}){return e?(0,o.jsx)(h.tL,{commands:{"pull-request-files-changed:submit-review":d},children:(0,o.jsx)(tY,{reviewEvent:t,viewerAllowedNonCommentReviewTypes:n,viewerCanWriteToRepo:i,viewerHasViolatedPushPolicy:a,viewerIsAuthor:r,viewerIsCopilotAttributed:s,onReviewEventChange:l})}):null},tY=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g=(0,c.c)(34),{onReviewEventChange:x,reviewEvent:b,viewerAllowedNonCommentReviewTypes:v,viewerCanWriteToRepo:y,viewerHasViolatedPushPolicy:j,viewerIsAuthor:C,viewerIsCopilotAttributed:w}=e;g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(tz.A.Label,{visuallyHidden:!0,children:"Review Event"}),g[0]=t):t=g[0];let N=b===tI.comment;g[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,tq.ZH)(tI.comment),g[1]=n):n=g[1],g[2]!==N?(i=(0,o.jsx)(t0,{checked:N,label:n,subLabel:"Submit general feedback without explicit approval.",value:tI.comment}),g[2]=N,g[3]=i):i=g[3];let S=b===tI.approve;g[4]!==v?(a=v.includes("APPROVE"),g[4]=v,g[5]=a):a=g[5];let L=!a;g[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,tq.ZH)(tI.approve),g[6]=r):r=g[6],g[7]!==w?(s=t3(w),g[7]=w,g[8]=s):s=g[8];let D=!!j;g[9]!==D||g[10]!==v||g[11]!==C?(l=t1(C,D,v),g[9]=D,g[10]=v,g[11]=C,g[12]=l):l=g[12],g[13]!==l||g[14]!==S||g[15]!==L||g[16]!==s?(d=(0,o.jsx)(t0,{checked:S,disabled:L,label:r,subLabel:s,value:tI.approve,disabledTooltip:l}),g[13]=l,g[14]=S,g[15]=L,g[16]=s,g[17]=d):d=g[17];let _=b===tI.requestChanges;g[18]!==v?(u=v.includes("REQUEST_CHANGES"),g[18]=v,g[19]=u):u=g[19];let I=!u;g[20]!==v||g[21]!==C?(m=t2(C,v),g[20]=v,g[21]=C,g[22]=m):m=g[22],g[23]===Symbol.for("react.memo_cache_sentinel")?(f=(0,tq.ZH)(tI.requestChanges),g[23]=f):f=g[23];let R=y?"Submit feedback that must be addressed before merging.":"Submit feedback suggesting changes.";return g[24]!==_||g[25]!==I||g[26]!==m||g[27]!==R?(h=(0,o.jsx)(t0,{checked:_,disabled:I,disabledTooltip:m,label:f,value:tI.requestChanges,subLabel:R}),g[24]=_,g[25]=I,g[26]=m,g[27]=R,g[28]=h):h=g[28],g[29]!==x||g[30]!==d||g[31]!==h||g[32]!==i?(p=(0,o.jsxs)(tz.A,{name:"reviewEvent",onChange:x,className:tQ,children:[t,i,d,h]}),g[29]=x,g[30]=d,g[31]=h,g[32]=i,g[33]=p):p=g[33],p}:function({onReviewEventChange:e,reviewEvent:t,viewerAllowedNonCommentReviewTypes:n,viewerCanWriteToRepo:i,viewerHasViolatedPushPolicy:a,viewerIsAuthor:r,viewerIsCopilotAttributed:s}){return(0,o.jsxs)(tz.A,{name:"reviewEvent",onChange:e,className:tQ,children:[(0,o.jsx)(tz.A.Label,{visuallyHidden:!0,children:"Review Event"}),(0,o.jsx)(t0,{checked:t===tI.comment,label:(0,tq.ZH)(tI.comment),subLabel:"Submit general feedback without explicit approval.",value:tI.comment}),(0,o.jsx)(t0,{checked:t===tI.approve,disabled:!n.includes("APPROVE"),label:(0,tq.ZH)(tI.approve),subLabel:t3(s),value:tI.approve,disabledTooltip:t1(r,!!a,n)}),(0,o.jsx)(t0,{checked:t===tI.requestChanges,disabled:!n.includes("REQUEST_CHANGES"),disabledTooltip:t2(r,n),label:(0,tq.ZH)(tI.requestChanges),value:tI.requestChanges,subLabel:i?"Submit feedback that must be addressed before merging.":"Submit feedback suggesting changes."})]})}),t0=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l=(0,c.c)(18),{checked:d,disabled:u,disabledTooltip:m,label:f,subLabel:h,value:p}=e;l[0]!==d||l[1]!==p?(t=(0,o.jsx)(tK.A,{checked:d,value:p,className:tZ}),l[0]=d,l[1]=p,l[2]=t):t=l[2],l[3]!==f?(n=(0,o.jsx)("span",{className:"text-bold",children:f}),l[3]=f,l[4]=n):n=l[4],l[5]!==h?(i=(0,o.jsx)("span",{className:tX,children:h}),l[5]=h,l[6]=i):i=l[6],l[7]!==n||l[8]!==i?(a=(0,o.jsxs)(z.A.Label,{className:"d-flex flex-column",children:[n,i]}),l[7]=n,l[8]=i,l[9]=a):a=l[9],l[10]!==u||l[11]!==t||l[12]!==a?(r=(0,o.jsxs)(z.A,{disabled:u,children:[t,a]}),l[10]=u,l[11]=t,l[12]=a,l[13]=r):r=l[13];let g=r;return l[14]!==u||l[15]!==m||l[16]!==g?(s=u&&m?(0,o.jsx)(tW.A,{text:m,children:g}):g,l[14]=u,l[15]=m,l[16]=g,l[17]=s):s=l[17],s}:function({checked:e,disabled:t,disabledTooltip:n,label:i,subLabel:a,value:r}){let s=(0,o.jsxs)(z.A,{disabled:t,children:[(0,o.jsx)(tK.A,{checked:e,value:r,className:tZ}),(0,o.jsxs)(z.A.Label,{className:"d-flex flex-column",children:[(0,o.jsx)("span",{className:"text-bold",children:i}),(0,o.jsx)("span",{className:tX,children:a})]})]});return t&&n?(0,o.jsx)(tW.A,{text:n,children:s}):s};function t1(e,t,n){return e?"Pull request authors can't approve their own pull requests.":t?"Users that pushed changes to this pull request after it was opened can't approve":n.includes("APPROVE")?"":"Only users with explicit access to this repository may approve pull requests"}function t2(e,t){return e?"Pull request authors can't request changes on their own pull requests.":t.includes("REQUEST_CHANGES")?"":"Only users with explicit access to this repository may request changes on pull requests"}function t3(e){return e?"Only users who did not collaborate with Copilot will satisfy review requirements.":"Submit feedback and approve merging these changes."}try{tJ.displayName||(tJ.displayName="ReviewTypeSelector")}catch{}try{tY.displayName||(tY.displayName="ReviewRadioButtons")}catch{}try{t0.displayName||(t0.displayName="RadioButton")}catch{}var t4=n(4908),t5=n(23398);let t6=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f=(0,c.c)(23),{totalPendingComments:h,commentsList:p,handleNavigateToDiffComment:g}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={defaultOpen:!0,closeOnOutsideClick:!1},f[0]=t):t=f[0];let{getDetailsProps:x,open:b}=(0,t4.A)(t);return h?(f[1]!==x?(n=x(),f[1]=x,f[2]=n):n=f[2],f[3]!==b?(i=b&&(0,o.jsx)(G.ChevronDownIcon,{className:"fgColor-muted"}),f[3]=b,f[4]=i):i=f[4],f[5]!==b?(a=!b&&(0,o.jsx)(G.ChevronRightIcon,{className:"fgColor-muted"}),f[5]=b,f[6]=a):a=f[6],f[7]!==h?(r=(0,o.jsxs)(A.A,{as:"h2",className:"f5",children:["Pending comments ",(0,o.jsx)(w.A,{children:h})]}),f[7]=h,f[8]=r):r=f[8],f[9]!==i||f[10]!==a||f[11]!==r?(s=(0,o.jsx)(t5.A.Summary,{children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center gap-2 mt-4 mb-2",children:[i,a,r]})}),f[9]=i,f[10]=a,f[11]=r,f[12]=s):s=f[12],f[13]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(E.A,{}),f[13]=l):l=f[13],f[14]!==p||f[15]!==g?(d=p?.map(e=>(0,o.jsx)(tn,{commentPreview:e,onNavigateToDiffComment:g},e.threadId)),f[14]=p,f[15]=g,f[16]=d):d=f[16],f[17]!==d?(u=(0,o.jsx)(v.Suspense,{fallback:l,children:(0,o.jsx)("div",{className:"d-flex flex-column gap-3",children:d})}),f[17]=d,f[18]=u):u=f[18],f[19]!==n||f[20]!==s||f[21]!==u?(m=(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(t5.A,{...n,children:[s,u]})}),f[19]=n,f[20]=s,f[21]=u,f[22]=m):m=f[22],m):null}:function({totalPendingComments:e,commentsList:t,handleNavigateToDiffComment:n}){let{getDetailsProps:i,open:a}=(0,t4.A)({defaultOpen:!0,closeOnOutsideClick:!1});return e?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(t5.A,{...i(),children:[(0,o.jsx)(t5.A.Summary,{children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-items-center gap-2 mt-4 mb-2",children:[a&&(0,o.jsx)(G.ChevronDownIcon,{className:"fgColor-muted"}),!a&&(0,o.jsx)(G.ChevronRightIcon,{className:"fgColor-muted"}),(0,o.jsxs)(A.A,{as:"h2",className:"f5",children:["Pending comments ",(0,o.jsx)(w.A,{children:e})]})]})}),(0,o.jsx)(v.Suspense,{fallback:(0,o.jsx)(E.A,{}),children:(0,o.jsx)("div",{className:"d-flex flex-column gap-3",children:t?.map(e=>(0,o.jsx)(tn,{commentPreview:e,onNavigateToDiffComment:n},e.threadId))})})]})}):null};try{t6.displayName||(t6.displayName="ReviewCommentsSection")}catch{}var t7=n(56149);let t8=(0,d.Z6)()?e=>{let t,n,i,a=(0,c.c)(4),{portalName:r}=e,s=(0,v.useRef)(null);return a[0]!==r?(t=()=>{s.current&&(0,t7.cw)(s.current,r)},n=[r],a[0]=r,a[1]=t,a[2]=n):(t=a[1],n=a[2]),(0,v.useEffect)(t,n),a[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)("div",{ref:s,className:"position-absolute"}),a[3]=i):i=a[3],i}:({portalName:e})=>{let t=(0,v.useRef)(null);return(0,v.useEffect)(()=>{t.current&&(0,t7.cw)(t.current,e)},[e]),(0,o.jsx)("div",{ref:t,className:"position-absolute"})};try{t8.displayName||(t8.displayName="OverlayPortalContainer")}catch{}let t9="review-menu-portal-root";function ne({viewerIsAuthor:e,viewerAllowedNonCommentReviewTypes:t,isPROpen:n}){let i=t.includes("APPROVE"),a=t.includes("REQUEST_CHANGES");switch(!0){case!n:return{isHidden:!1,text:"comments"};case e:case i:case a:return{isHidden:!1,text:"review"};default:return{isHidden:!1,text:"comments"}}}let nt=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,x,b,y,j,C,w,N,S,L,_,I,R,k,E,T,O,P,F,$,M,B,U=(0,c.c)(125),{currentUserLogin:q,pullRequest:z,repository:K,redirectOnMutation:W}=e,Q=void 0===W||W,{author:X,pathName:J,state:Y,viewerAllowedNonCommentReviewTypes:ee,viewerHasViolatedPushPolicy:et,viewerIsCopilotAttributed:en,comparison:ei}=z,ea=(0,D.ys)(),er=(0,D.HZ)(),{persistedReview:es,persistReviewToStorage:el,removePersistedReviewFromStorage:eo}=tP(J);U[0]!==ea?.pendingReviewIDs?(t=ea?.pendingReviewIDs??[],U[0]=ea?.pendingReviewIDs,U[1]=t):t=U[1];let ed=tG(t,er),ec=ed?.length??0,eu=X?.login===q,em=Y!==t_.Q.Closed&&Y!==t_.Q.Merged,ef="WRITE"===K.viewerPermission||"ADMIN"===K.viewerPermission,eh=ei.headOid,[ep,eg]=(0,tS.A)("none"),[ex,eb]=(0,tS.A)("idle"),[ev,ey]=(0,tS.A)(),[ej,eC]=(0,tS.A)(es?.event??tI.comment);U[2]!==ea?.pendingReviewIDs?(n=ea?.pendingReviewIDs??[],U[2]=ea?.pendingReviewIDs,U[3]=n):n=U[3];let ew=n.length>0,eN=(0,v.useRef)(null),eS=es?.text??"",eL=(0,v.useRef)(eS),[eD,e_]=(0,tS.A)(!!es?.text),eI="submitting"===ex||!eD&&ej===tI.comment&&!ec,{sendPullRequestAnalyticsEvent:eR}=(0,V.q)();U[4]!==el||U[5]!==ej||U[6]!==e_?(i=e=>{eL.current=e,e_(!!e.trim()),el(ej,e)},U[4]=el,U[5]=ej,U[6]=e_,U[7]=i):i=U[7];let ek=i;U[8]!==el||U[9]!==eC?(a=e=>{Object.values(tI).includes(e)&&(eC(e),el(e,eL.current))},U[8]=el,U[9]=eC,U[10]=a):a=U[10];let eA=a;U[11]!==Q||U[12]!==eo?(r=e=>{let{redirectUrl:t}=e;eo(),Q&&(window.location.href=t)},U[11]=Q,U[12]=eo,U[13]=r):r=U[13],U[14]!==ey||U[15]!==eb?(s=e=>{eb("idle"),ey(e.message)},U[14]=ey,U[15]=eb,U[16]=s):s=U[16],U[17]!==r||U[18]!==s?(l={onSuccess:r,onError:s},U[17]=r,U[18]=s,U[19]=l):l=U[19];let{mutate:eE}=tR(l);U[20]!==Q||U[21]!==eo?(d=e=>{let{redirectUrl:t}=e;eo(),Q&&(window.location.href=t)},U[20]=Q,U[21]=eo,U[22]=d):d=U[22],U[23]!==ey||U[24]!==eb?(u=e=>{eb("idle"),ey(e.message)},U[23]=ey,U[24]=eb,U[25]=u):u=U[25],U[26]!==u||U[27]!==d?(m={onSuccess:d,onError:u},U[26]=u,U[27]=d,U[28]=m):m=U[28];let{mutate:eT}=tk(m);U[29]!==ev||U[30]!==eh||U[31]!==ej||U[32]!==eR||U[33]!==ey||U[34]!==eb||U[35]!==eI||U[36]!==eE?(f=()=>{eI||(ev&&ey(void 0),eb("submitting"),eR("submit_review_dialog.submit","SUBMIT_REVIEW_BUTTON"),eE({body:eL.current,event:ej,headSha:eh}))},U[29]=ev,U[30]=eh,U[31]=ej,U[32]=eR,U[33]=ey,U[34]=eb,U[35]=eI,U[36]=eE,U[37]=f):f=U[37];let eO=f;U[38]!==eT||U[39]!==ev||U[40]!==ea?.pendingReviewIDs||U[41]!==eR||U[42]!==ey||U[43]!==eb?(h=()=>{0===(ea?.pendingReviewIDs??[]).length||confirm("Are you sure you want to cancel? You will lose all your pending comments.")&&(ev&&ey(void 0),eb("canceling"),eR("submit_review_dialog.cancel","CANCEL_REVIEW_BUTTON"),eT())},U[38]=eT,U[39]=ev,U[40]=ea?.pendingReviewIDs,U[41]=eR,U[42]=ey,U[43]=eb,U[44]=h):h=U[44],ea?.pendingReviewIDs;let eP=h;U[45]!==em||U[46]!==ee||U[47]!==eu?(p=ne({isPROpen:em,viewerAllowedNonCommentReviewTypes:ee,viewerIsAuthor:eu}),U[45]=em,U[46]=ee,U[47]=eu,U[48]=p):p=U[48];let eF=p;U[49]!==eR||U[50]!==eg?(x=()=>{window.innerWidth<768?eg("dialog"):eg("anchored"),eR("submit_review_dialog.open","REVIEW_CHANGES_BUTTON")},U[49]=eR,U[50]=eg,U[51]=x):x=U[51];let e$=x;U[52]!==eg?(b=()=>{eg("none")},U[52]=eg,U[53]=b):b=U[53];let eM=b;U[54]!==eg?(y=()=>{eg("none")},U[54]=eg,U[55]=y):y=U[55];let eB=y;U[56]!==eM||U[57]!==e$||U[58]!==ep?(j=()=>{"none"===ep?e$():eM()},U[56]=eM,U[57]=e$,U[58]=ep,U[59]=j):j=U[59];let eV=j;U[60]!==ed||U[61]!==eB||U[62]!==eA||U[63]!==eO||U[64]!==eS||U[65]!==em||U[66]!==ek||U[67]!==ej||U[68]!==ec||U[69]!==ee||U[70]!==ef||U[71]!==et||U[72]!==eu||U[73]!==en?(C=(0,o.jsx)(na,{initialReviewBody:eS,isPROpen:em,onReviewBodyChange:ek,reviewEvent:ej,viewerAllowedNonCommentReviewTypes:ee,viewerCanWriteToRepo:ef,viewerHasViolatedPushPolicy:et,viewerIsAuthor:eu,viewerIsCopilotAttributed:en,commentsList:ed,totalPendingComments:ec,handleNavigateToDiffComment:eB,handleReviewSubmit:eO,handleReviewEventChange:eA}),U[60]=ed,U[61]=eB,U[62]=eA,U[63]=eO,U[64]=eS,U[65]=em,U[66]=ek,U[67]=ej,U[68]=ec,U[69]=ee,U[70]=ef,U[71]=et,U[72]=eu,U[73]=en,U[74]=C):C=U[74];let eU=C;if(eF.isHidden)return null;U[75]!==ev||U[76]!==eM||U[77]!==eP||U[78]!==eO||U[79]!==ew||U[80]!==eF||U[81]!==ex||U[82]!==eI?(w=()=>(0,o.jsx)(ni,{errorMessage:ev,hasPendingReviews:ew,reviewSubmissionState:ex,handleReviewCancel:eP,handleCloseReviewDialog:eM,handleReviewSubmit:eO,submitDisabled:eI,reviewMenuButtonDisplayState:eF}),U[75]=ev,U[76]=eM,U[77]=eP,U[78]=eO,U[79]=ew,U[80]=eF,U[81]=ex,U[82]=eI,U[83]=w):w=U[83];let eG=w,eH=ec||void 0;U[84]!==eV||U[85]!==eF.text||U[86]!==eH?(N=(0,o.jsxs)(Z.Q,{count:eH,className:tF,trailingAction:G.TriangleDownIcon,variant:"primary",onClick:eV,size:"small",ref:eN,children:["Submit ",eF.text]}),U[84]=eV,U[85]=eF.text,U[86]=eH,U[87]=N):N=U[87],U[88]===Symbol.for("react.memo_cache_sentinel")?(S=(0,o.jsx)(t8,{portalName:t9}),U[88]=S):S=U[88];let eq="anchored"===ep;return U[89]===Symbol.for("react.memo_cache_sentinel")?(L={regular:"anchored",narrow:"fullscreen"},U[89]=L):L=U[89],U[90]===Symbol.for("react.memo_cache_sentinel")?(_={disabled:!0},I={role:"dialog","aria-labelledby":"anchored-review-title","aria-modal":"true",portalContainerName:t9},U[90]=_,U[91]=I):(_=U[90],I=U[91]),U[92]!==eF.text?(R=(0,o.jsxs)(A.A,{as:"h1",className:"flex-1 f5",variant:"small",id:"anchored-review-title",children:["Finish your ",eF.text]}),U[92]=eF.text,U[93]=R):R=U[93],U[94]!==ew||U[95]!==eg?(k=ew&&(0,o.jsx)(H.K,{icon:G.MaximizeIcon,className:tV,variant:"invisible","aria-label":"Expand this section",onClick:()=>eg("dialog")}),U[94]=ew,U[95]=eg,U[96]=k):k=U[96],U[97]!==eM?(E=(0,o.jsx)(H.K,{icon:G.XIcon,variant:"invisible","aria-label":"Close",onClick:eM}),U[97]=eM,U[98]=E):E=U[98],U[99]!==k||U[100]!==E?(T=(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",gap:"none",children:[k,E]}),U[99]=k,U[100]=E,U[101]=T):T=U[101],U[102]!==R||U[103]!==T?(O=(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",justify:"space-between",className:"py-2 border-bottom px-3",children:[R,T]}),U[102]=R,U[103]=T,U[104]=O):O=U[104],U[105]!==eU?(P=(0,o.jsx)("div",{className:tU,children:eU}),U[105]=eU,U[106]=P):P=U[106],U[107]!==eG?(F=(0,o.jsx)("div",{className:"p-3 border-top",children:(0,o.jsx)(eG,{})}),U[107]=eG,U[108]=F):F=U[108],U[109]!==eM||U[110]!==eq||U[111]!==O||U[112]!==P||U[113]!==F?($=(0,o.jsxs)(tD.T,{open:eq,anchorRef:eN,width:"xlarge",onClose:eM,displayCloseButton:!1,variant:L,renderAnchor:null,focusZoneSettings:_,overlayProps:I,children:[O,P,F]}),U[109]=eM,U[110]=eq,U[111]=O,U[112]=P,U[113]=F,U[114]=$):$=U[114],U[115]!==eU||U[116]!==eG||U[117]!==eM||U[118]!==ep||U[119]!==eF.text?(M="dialog"===ep&&(0,o.jsx)(g.l,{onClose:eM,returnFocusRef:eN,"aria-label":"Review changes",position:{narrow:"fullscreen",regular:"right",wide:"right"},title:`Finish your ${eF.text}`,renderFooter:()=>(0,o.jsx)(g.l.Footer,{children:(0,o.jsx)(eG,{})}),children:eU}),U[115]=eU,U[116]=eG,U[117]=eM,U[118]=ep,U[119]=eF.text,U[120]=M):M=U[120],U[121]!==N||U[122]!==$||U[123]!==M?(B=(0,o.jsxs)(o.Fragment,{children:[N,S,$,M]}),U[121]=N,U[122]=$,U[123]=M,U[124]=B):B=U[124],B}:function({currentUserLogin:e,pullRequest:t,repository:n,redirectOnMutation:i=!0}){let{author:a,pathName:r,state:s,viewerAllowedNonCommentReviewTypes:l,viewerHasViolatedPushPolicy:d,viewerIsCopilotAttributed:c,comparison:u}=t,m=(0,D.ys)(),f=(0,D.HZ)(),{persistedReview:h,persistReviewToStorage:p,removePersistedReviewFromStorage:x}=tP(r),b=tG(m?.pendingReviewIDs??[],f),y=b?.length??0,j=a?.login===e,C=s!==t_.Q.Closed&&s!==t_.Q.Merged,w="WRITE"===n.viewerPermission||"ADMIN"===n.viewerPermission,N=u.headOid,[S,L]=(0,tS.A)("none"),[_,I]=(0,tS.A)("idle"),[R,k]=(0,tS.A)(),[E,T]=(0,tS.A)(h?.event??tI.comment),O=(m?.pendingReviewIDs??[]).length>0,P=(0,v.useRef)(null),F=h?.text??"",$=(0,v.useRef)(F),[M,B]=(0,tS.A)(!!h?.text),U="submitting"===_||!M&&E===tI.comment&&!y,{sendPullRequestAnalyticsEvent:q}=(0,V.q)(),z=(0,v.useCallback)(e=>{$.current=e,B(!!e.trim()),p(E,e)},[p,E,B]),K=(0,v.useCallback)(e=>{Object.values(tI).includes(e)&&(T(e),p(e,$.current))},[p,T]),{mutate:W}=tR({onSuccess:({redirectUrl:e})=>{x(),i&&(window.location.href=e)},onError:e=>{I("idle"),k(e.message)}}),{mutate:Q}=tk({onSuccess:({redirectUrl:e})=>{x(),i&&(window.location.href=e)},onError:e=>{I("idle"),k(e.message)}}),X=(0,v.useCallback)(()=>{U||(R&&k(void 0),I("submitting"),q("submit_review_dialog.submit","SUBMIT_REVIEW_BUTTON"),W({body:$.current,event:E,headSha:N}))},[R,N,E,q,k,I,U,W]),J=(0,v.useCallback)(()=>{0===(m?.pendingReviewIDs??[]).length||confirm("Are you sure you want to cancel? You will lose all your pending comments.")&&(R&&k(void 0),I("canceling"),q("submit_review_dialog.cancel","CANCEL_REVIEW_BUTTON"),Q())},[Q,R,m?.pendingReviewIDs,q,k,I]),Y=(0,v.useMemo)(()=>ne({isPROpen:C,viewerAllowedNonCommentReviewTypes:l,viewerIsAuthor:j}),[l,j,C]),ee=(0,v.useCallback)(()=>{window.innerWidth<768?L("dialog"):L("anchored"),q("submit_review_dialog.open","REVIEW_CHANGES_BUTTON")},[q,L]),et=(0,v.useCallback)(()=>{L("none")},[L]),en=(0,v.useCallback)(()=>{L("none")},[L]),ei=(0,v.useCallback)(()=>{"none"===S?ee():et()},[et,ee,S]),ea=(0,v.useMemo)(()=>(0,o.jsx)(na,{initialReviewBody:F,isPROpen:C,onReviewBodyChange:z,reviewEvent:E,viewerAllowedNonCommentReviewTypes:l,viewerCanWriteToRepo:w,viewerHasViolatedPushPolicy:d,viewerIsAuthor:j,viewerIsCopilotAttributed:c,commentsList:b,totalPendingComments:y,handleNavigateToDiffComment:en,handleReviewSubmit:X,handleReviewEventChange:K}),[b,en,K,X,F,C,z,E,y,l,w,d,j,c]);if(Y.isHidden)return null;let er=()=>(0,o.jsx)(ni,{errorMessage:R,hasPendingReviews:O,reviewSubmissionState:_,handleReviewCancel:J,handleCloseReviewDialog:et,handleReviewSubmit:X,submitDisabled:U,reviewMenuButtonDisplayState:Y});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Z.Q,{count:y||void 0,className:tF,trailingAction:G.TriangleDownIcon,variant:"primary",onClick:ei,size:"small",ref:P,children:["Submit ",Y.text]}),(0,o.jsx)(t8,{portalName:t9}),(0,o.jsxs)(tD.T,{open:"anchored"===S,anchorRef:P,width:"xlarge",onClose:et,displayCloseButton:!1,variant:{regular:"anchored",narrow:"fullscreen"},renderAnchor:null,focusZoneSettings:{disabled:!0},overlayProps:{role:"dialog","aria-labelledby":"anchored-review-title","aria-modal":"true",portalContainerName:t9},children:[(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",justify:"space-between",className:"py-2 border-bottom px-3",children:[(0,o.jsxs)(A.A,{as:"h1",className:"flex-1 f5",variant:"small",id:"anchored-review-title",children:["Finish your ",Y.text]}),(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",gap:"none",children:[O&&(0,o.jsx)(H.K,{icon:G.MaximizeIcon,className:tV,variant:"invisible","aria-label":"Expand this section",onClick:()=>L("dialog")}),(0,o.jsx)(H.K,{icon:G.XIcon,variant:"invisible","aria-label":"Close",onClick:et})]})]}),(0,o.jsx)("div",{className:tU,children:ea}),(0,o.jsx)("div",{className:"p-3 border-top",children:(0,o.jsx)(er,{})})]}),"dialog"===S&&(0,o.jsx)(g.l,{onClose:et,returnFocusRef:P,"aria-label":"Review changes",position:{narrow:"fullscreen",regular:"right",wide:"right"},title:`Finish your ${Y.text}`,renderFooter:()=>(0,o.jsx)(g.l.Footer,{children:(0,o.jsx)(er,{})}),children:ea})]})},nn=(0,v.forwardRef)((0,d.Z6)()?(e,t)=>{let n,i,a,r,s,l=(0,c.c)(12);l[0]!==e?({initialValue:n,onChange:i,...a}=e,l[0]=e,l[1]=n,l[2]=i,l[3]=a):(n=l[1],i=l[2],a=l[3]);let[d,u]=(0,tS.A)(n);l[4]!==i||l[5]!==u?(r=e=>{u(e),i(e)},l[4]=i,l[5]=u,l[6]=r):r=l[6];let m=r;return l[7]!==m||l[8]!==a||l[9]!==t||l[10]!==d?(s=(0,o.jsx)(tN.S,{...a,value:d,onChange:m,ref:t}),l[7]=m,l[8]=a,l[9]=t,l[10]=d,l[11]=s):s=l[11],s}:({initialValue:e,onChange:t,...n},i)=>{let[a,r]=(0,tS.A)(e),s=(0,v.useCallback)(e=>{r(e),t(e)},[r,t]);return(0,o.jsx)(tN.S,{...n,value:a,onChange:s,ref:i})});nn.displayName="ControlledCommentBox";let ni=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m=(0,c.c)(28),{errorMessage:f,handleReviewCancel:h,handleCloseReviewDialog:p,handleReviewSubmit:g,hasPendingReviews:x,submitDisabled:b,reviewMenuButtonDisplayState:v,reviewSubmissionState:y}=e,j="canceling"===y,C="submitting"===y;m[0]!==f?(t=f&&(0,o.jsxs)(eX.A,{className:tB,variant:"danger",children:[(0,o.jsx)(G.StopIcon,{className:"mr-2"}),f]}),m[0]=f,m[1]=t):t=m[1],m[2]!==h||m[3]!==x||m[4]!==j||m[5]!==C||m[6]!==v.text?(n=x?(0,o.jsx)(Z.Q,{disabled:j||C,loading:j,onClick:h,tabIndex:0,variant:"danger",children:(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:["Discard ",v.text]})}):(0,o.jsx)("div",{}),m[2]=h,m[3]=x,m[4]=j,m[5]=C,m[6]=v.text,m[7]=n):n=m[7];let w=j||C;m[8]!==p||m[9]!==w?(i=(0,o.jsx)(Z.Q,{onClick:p,disabled:w,children:"Cancel"}),m[8]=p,m[9]=w,m[10]=i):i=m[10];let N=b||C;return m[11]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(tH.U,{keys:"Mod+enter"}),m[11]=a):a=m[11],m[12]!==v.text?(r=(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-center",children:["Submit ",v.text]}),m[12]=v.text,m[13]=r):r=m[13],m[14]!==g||m[15]!==C||m[16]!==N||m[17]!==r?(s=(0,o.jsx)(Z.Q,{disabled:N,variant:"primary",onClick:g,loading:C,className:tM,trailingVisual:a,children:r}),m[14]=g,m[15]=C,m[16]=N,m[17]=r,m[18]=s):s=m[18],m[19]!==i||m[20]!==s?(l=(0,o.jsxs)("div",{className:"d-flex flex-row gap-2",children:[i,s]}),m[19]=i,m[20]=s,m[21]=l):l=m[21],m[22]!==n||m[23]!==l?(d=(0,o.jsxs)("div",{className:"d-flex flex-row flex-1 flex-items-center flex-justify-between gap-2",children:[n,l]}),m[22]=n,m[23]=l,m[24]=d):d=m[24],m[25]!==t||m[26]!==d?(u=(0,o.jsxs)(o.Fragment,{children:[t,d]}),m[25]=t,m[26]=d,m[27]=u):u=m[27],u}:function({errorMessage:e,handleReviewCancel:t,handleCloseReviewDialog:n,handleReviewSubmit:i,hasPendingReviews:a,submitDisabled:r,reviewMenuButtonDisplayState:s,reviewSubmissionState:l}){let d="canceling"===l,c="submitting"===l;return(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsxs)(eX.A,{className:tB,variant:"danger",children:[(0,o.jsx)(G.StopIcon,{className:"mr-2"}),e]}),(0,o.jsxs)("div",{className:"d-flex flex-row flex-1 flex-items-center flex-justify-between gap-2",children:[a?(0,o.jsx)(Z.Q,{disabled:d||c,loading:d,onClick:t,tabIndex:0,variant:"danger",children:(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:["Discard ",s.text]})}):(0,o.jsx)("div",{}),(0,o.jsxs)("div",{className:"d-flex flex-row gap-2",children:[(0,o.jsx)(Z.Q,{onClick:n,disabled:d||c,children:"Cancel"}),(0,o.jsx)(Z.Q,{disabled:r||c,variant:"primary",onClick:i,loading:c,className:tM,trailingVisual:(0,o.jsx)(tH.U,{keys:"Mod+enter"}),children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-center",children:["Submit ",s.text]})})]})]})]})},na=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l=(0,c.c)(24),{initialReviewBody:d,isPROpen:u,onReviewBodyChange:m,reviewEvent:f,viewerAllowedNonCommentReviewTypes:h,viewerCanWriteToRepo:p,viewerHasViolatedPushPolicy:g,viewerIsAuthor:x,viewerIsCopilotAttributed:b,commentsList:y,totalPendingComments:j,handleNavigateToDiffComment:C,handleReviewSubmit:w,handleReviewEventChange:N}=e,S=(0,v.useRef)(null);return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=window.setTimeout(()=>S.current?.focus());return()=>{window.clearTimeout(e)}},n=[],l[0]=t,l[1]=n):(t=l[0],n=l[1]),(0,v.useEffect)(t,n),l[2]!==w||l[3]!==d||l[4]!==m?(i=(0,o.jsx)(nn,{ref:S,label:"Add review comment",placeholder:"Leave a comment",className:t$,initialValue:d,onChange:m,onPrimaryAction:w}),l[2]=w,l[3]=d,l[4]=m,l[5]=i):i=l[5],l[6]!==N||l[7]!==w||l[8]!==u||l[9]!==f||l[10]!==h||l[11]!==p||l[12]!==g||l[13]!==x||l[14]!==b?(a=(0,o.jsx)(tJ,{isPROpen:u,reviewEvent:f,viewerAllowedNonCommentReviewTypes:h,viewerCanWriteToRepo:p,viewerHasViolatedPushPolicy:g,viewerIsAuthor:x,viewerIsCopilotAttributed:b,handleReviewEventChange:N,handleReviewSubmit:w}),l[6]=N,l[7]=w,l[8]=u,l[9]=f,l[10]=h,l[11]=p,l[12]=g,l[13]=x,l[14]=b,l[15]=a):a=l[15],l[16]!==y||l[17]!==C||l[18]!==j?(r=(0,o.jsx)(t6,{totalPendingComments:j,commentsList:y,handleNavigateToDiffComment:C}),l[16]=y,l[17]=C,l[18]=j,l[19]=r):r=l[19],l[20]!==i||l[21]!==a||l[22]!==r?(s=(0,o.jsxs)(o.Fragment,{children:[i,a,r]}),l[20]=i,l[21]=a,l[22]=r,l[23]=s):s=l[23],s}:function({initialReviewBody:e,isPROpen:t,onReviewBodyChange:n,reviewEvent:i,viewerAllowedNonCommentReviewTypes:a,viewerCanWriteToRepo:r,viewerHasViolatedPushPolicy:s,viewerIsAuthor:l,viewerIsCopilotAttributed:d,commentsList:c,totalPendingComments:u,handleNavigateToDiffComment:m,handleReviewSubmit:f,handleReviewEventChange:h}){let p=(0,v.useRef)(null);return(0,v.useEffect)(()=>{let e=window.setTimeout(()=>p.current?.focus());return()=>{window.clearTimeout(e)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nn,{ref:p,label:"Add review comment",placeholder:"Leave a comment",className:t$,initialValue:e,onChange:n,onPrimaryAction:f}),(0,o.jsx)(tJ,{isPROpen:t,reviewEvent:i,viewerAllowedNonCommentReviewTypes:a,viewerCanWriteToRepo:r,viewerHasViolatedPushPolicy:s,viewerIsAuthor:l,viewerIsCopilotAttributed:d,handleReviewEventChange:h,handleReviewSubmit:f}),(0,o.jsx)(t6,{totalPendingComments:u,commentsList:c,handleNavigateToDiffComment:m})]})};try{nt.displayName||(nt.displayName="ReviewMenuButton")}catch{}try{(i=ReviewMenuBody).displayName||(i.displayName="ReviewMenuBody")}catch{}try{(a=ReviewMenuFooter).displayName||(a.displayName="ReviewMenuFooter")}catch{}try{ni.displayName||(ni.displayName="ReviewMenuFooterComponent")}catch{}try{na.displayName||(na.displayName="ReviewMenuBodyComponent")}catch{}var nr=n(27028),ns=n(39029);let nl="RefreshButton-module__refresh--gOrN1";var no=n(91747),nd=n(43073),nc=n(61526);let nu=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(6),{aliveChannel:r,pathName:s}=e,[l,d]=(0,v.useState)(!1),u=(0,nd.E)(),m=(0,no.u)("combined_pr_changes_route")?`${s}/changes`:`${s}/files`,{markComparisonOutdated:f}=(0,D.yo)();a[0]!==f?(t=()=>{f(),d(!0)},a[0]=f,a[1]=t):t=a[1];let h=t;if(a[2]===Symbol.for("react.memo_cache_sentinel")?(n={git_updated:!0},a[2]=n):n=a[2],(0,ns.G)(r,h,n),!l)return null;if(u){let e;return a[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(nf,{}),a[3]=e):e=a[3],e}return a[4]!==m?(i=(0,o.jsx)(nm,{refreshUrl:m}),a[4]=m,a[5]=i):i=a[5],i}:function({aliveChannel:e,pathName:t}){let[n,i]=(0,v.useState)(!1),a=(0,nd.E)(),r=(0,no.u)("combined_pr_changes_route")?`${t}/changes`:`${t}/files`,{markComparisonOutdated:s}=(0,D.yo)();return((0,ns.G)(e,()=>{s(),i(!0)},{git_updated:!0}),n)?a?(0,o.jsx)(nf,{}):(0,o.jsx)(nm,{refreshUrl:r}):null},nm=(0,d.Z6)()?function(e){let t,n,i=(0,c.c)(5),{refreshUrl:a}=e;i[0]!==a?(t=e=>{e.preventDefault(),window.location.href=a},i[0]=a,i[1]=t):t=i[1];let r=t;return i[2]!==r||i[3]!==a?(n=(0,o.jsx)(Z.Q,{as:T.A,variant:"invisible",href:a,className:nl,leadingVisual:G.SyncIcon,size:"small",onClick:r,children:"Refresh"}),i[2]=r,i[3]=a,i[4]=n):n=i[4],n}:function({refreshUrl:e}){return(0,o.jsx)(Z.Q,{as:T.A,variant:"invisible",href:e,className:nl,leadingVisual:G.SyncIcon,size:"small",onClick:t=>{t.preventDefault(),window.location.href=e},children:"Refresh"})},nf=(0,d.Z6)()?function(){let e,t,n=(0,c.c)(4),i=(0,nc.zy)(),[a,r]=(0,v.useState)(!1);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=async()=>{r(!0)},n[0]=e):e=n[0];let s=e;return n[1]!==a||n[2]!==i.pathname?(t=(0,o.jsx)(Z.Q,{as:nc.N_,to:i.pathname,variant:"invisible",className:nl,leadingVisual:G.SyncIcon,size:"small",onClick:s,loading:a,preventScrollReset:!0,children:"Refresh"}),n[1]=a,n[2]=i.pathname,n[3]=t):t=n[3],t}:function(){let e=(0,nc.zy)(),[t,n]=(0,v.useState)(!1),i=async()=>{n(!0)};return(0,o.jsx)(Z.Q,{as:nc.N_,to:e.pathname,variant:"invisible",className:nl,leadingVisual:G.SyncIcon,size:"small",onClick:i,loading:t,preventScrollReset:!0,children:"Refresh"})};try{nu.displayName||(nu.displayName="RefreshButton")}catch{}try{nm.displayName||(nm.displayName="NavigatorRefreshButton")}catch{}try{nf.displayName||(nf.displayName="DataRouterRefreshButton")}catch{}var nh=n(40523),np=n(68874),ng=n(14808);let nx=(0,v.forwardRef)(function(e,t){let n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,y,j,w,N,S,L,D,_,I,R=(0,c.c)(77),{items:k,onMultiSelect:A,onSingleSelect:E,onApply:T,onCancel:O,buttonProps:P,anchorLabel:F,variant:$,title:M,dialogProps:B}=e,V=void 0===$?"overlay":$,U=(0,v.useRef)(null),[G,H]=(0,v.useState)(!1),[q,z]=(0,v.useState)();R[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({open:()=>H(!0)}),R[0]=n):n=R[0],(0,v.useImperativeHandle)(t,n),R[1]!==k?(i=k.reduce(nv,{single:[],multiple:[]}),R[1]=k,R[2]=i):i=R[2];let K=i;R[3]!==K?(a=()=>K,R[3]=K,R[4]=a):a=R[4];let[W,Q]=(0,v.useState)(a);R[5]!==W?.multiple||R[6]!==W?.single?(r=e=>{Q({single:W?.single.map(t=>t.id===e.id?{...t,selected:!t.selected}:t.selected?{...t,selected:!1}:t)||[],multiple:W?.multiple||[]})},R[5]=W?.multiple,R[6]=W?.single,R[7]=r):r=R[7];let X=r;R[8]!==W?.multiple||R[9]!==W?.single?(s=e=>{let t=W?.multiple.map(t=>t.id===e.id?{...t,selected:!t.selected}:t)||[];Q({single:W?.single||[],multiple:t})},R[8]=W?.multiple,R[9]=W?.single,R[10]=s):s=R[10];let J=s;R[11]!==W?.multiple||R[12]!==A||R[13]!==K?.multiple?(l=A?K?.multiple.filter(nj).length:W?.multiple.filter(ny).length||0,R[11]=W?.multiple,R[12]=A,R[13]=K?.multiple,R[14]=l):l=R[14];let Y=l;R[15]!==q?.multiple?(d=q?.multiple.filter(nC).length||0,R[15]=q?.multiple,R[16]=d):d=R[16];let ee=d,et=Y&&0!==ee?`${ee} commit${ee>1?"s":""} selected`:"Select commits";R[17]!==W||R[18]!==T?(u=()=>{z(W),H(!1),T&&T(W?.multiple.filter(nw)||[])},R[17]=W,R[18]=T,R[19]=u):u=R[19];let en=u;R[20]!==O||R[21]!==K?(m=()=>{Q(K),z(K),O?.()},R[20]=O,R[21]=K,R[22]=m):m=R[22];let ei=m;R[23]!==G?(f=()=>H(!G),R[23]=G,R[24]=f):f=R[24];let ea=F||et;R[25]!==P||R[26]!==f||R[27]!==ea?(h=(0,o.jsx)(Z.Q,{ref:U,onClick:f,...P,children:ea}),R[25]=P,R[26]=f,R[27]=ea,R[28]=h):h=R[28],R[29]!==W?.single||R[30]!==q?.multiple||R[31]!==K?(p=()=>{Q({single:W?.single||[],multiple:q?.multiple||K.multiple}),H(!1)},R[29]=W?.single,R[30]=q?.multiple,R[31]=K,R[32]=p):p=R[32],R[33]===Symbol.for("react.memo_cache_sentinel")?(g={focusOutBehavior:"wrap",focusableElementFilter:nN},R[33]=g):g=R[33],R[34]!==ei?(x=()=>{ei(),H(!1)},R[34]=ei,R[35]=x):x=R[35],R[36]!==W?.single||R[37]!==E||R[38]!==K?(b=E?K.single:W?.single||[],R[36]=W?.single,R[37]=E,R[38]=K,R[39]=b):b=R[39],R[40]!==X||R[41]!==E||R[42]!==V?(y=e=>{E?E(e):X(e),"modal"!==V&&H(!1)},R[40]=X,R[41]=E,R[42]=V,R[43]=y):y=R[43],R[44]!==b||R[45]!==y?(j=(0,o.jsx)(nb,{selectionVariant:"single",items:b,onSelect:y,showGroupHeading:!1}),R[44]=b,R[45]=y,R[46]=j):j=R[46],R[47]!==W?.multiple||R[48]!==A||R[49]!==K?(w=A?K.multiple:W?.multiple||[],R[47]=W?.multiple,R[48]=A,R[49]=K,R[50]=w):w=R[50];let er=A??J;return R[51]!==w||R[52]!==er?(N=(0,o.jsx)(nb,{selectionVariant:"multiple",items:w,onSelect:er}),R[51]=w,R[52]=er,R[53]=N):N=R[53],R[54]!==j||R[55]!==N?(S=(0,o.jsx)("div",{className:"CommitSelector-module__CommitSelectorContainer--_atPn",children:(0,o.jsxs)(C.l,{role:"listbox",selectionVariant:"single","aria-label":"Selection",children:[j,N]})}),R[54]=j,R[55]=N,R[56]=S):S=R[56],R[57]!==ei||R[58]!==Y||R[59]!==en||R[60]!==V?(L=Y&&"modal"!==V?(0,o.jsx)(ng.G9,{footerButtons:[{content:"Apply",onClick:en,action:"save"},{content:"Clear",onClick:ei,action:"cancel"}]}):null,R[57]=ei,R[58]=Y,R[59]=en,R[60]=V,R[61]=L):L=R[61],R[62]!==S||R[63]!==L?(D=(0,o.jsxs)("div",{className:"CommitSelector-module__CommitSelectorWrapper--Wp_n9",children:[S,L]}),R[62]=S,R[63]=L,R[64]=D):D=R[64],R[65]!==B||R[66]!==G||R[67]!==en||R[68]!==p||R[69]!==x||R[70]!==D||R[71]!==M||R[72]!==V?(_=(0,o.jsx)(ng.KA,{open:G,anchorRef:U,headingId:"select-label",onClose:p,variant:V,focusZoneSettings:g,title:M,dialogProps:B,selectSave:en,selectCancel:x,children:D}),R[65]=B,R[66]=G,R[67]=en,R[68]=p,R[69]=x,R[70]=D,R[71]=M,R[72]=V,R[73]=_):_=R[73],R[74]!==h||R[75]!==_?(I=(0,o.jsxs)(o.Fragment,{children:[h,_]}),R[74]=h,R[75]=_,R[76]=I):I=R[76],I});function nb(e){let t,n=(0,c.c)(5),{items:i,onSelect:a,selectionVariant:r,showGroupHeading:s}=e,l=void 0===s||s;return n[0]!==i||n[1]!==a||n[2]!==r||n[3]!==l?(t=(0,o.jsx)(ng.LR,{selectionVariant:r,items:i,showGroupHeading:l,onSelect:a}),n[0]=i,n[1]=a,n[2]=r,n[3]=l,n[4]=t):t=n[4],t}try{nx.displayName||(nx.displayName="CommitSelector")}catch{}try{nb.displayName||(nb.displayName="CommitSelectorBody")}catch{}function nv(e,t){return"single"===t.selectionVariant?{...e,single:[...e.single,t]}:"multiple"===t.selectionVariant?{...e,multiple:[...e.multiple,t]}:e}function ny(e){return e.selected}function nj(e){return e.selected}function nC(e){return e.selected}function nw(e){return e.selected}function nN(e){return"BUTTON"!==e.tagName}var nS=n(62935),nL=n(70119);function nD(e,t,n,i){let a,r;return"added"===i?(a=Math.min(e,t),r=Math.max(e,n)):e===t?(a=t+1,r=n):(a=t,r=e-1),{newStartIndex:a,newEndIndex:r}}let n_=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,y,j,w,N,S=(0,c.c)(52),{baseRefOid:L,commitOids:D,commits:_,endOid:I,onClose:R,onRangeUpdated:k,startOid:A}=e;S[0]!==D||S[1]!==I||S[2]!==A?(t=()=>{if(!A||!I)return;let e=A?D.indexOf(A)+1:-1,t=I?D.indexOf(I):-1;if(!(e<0)&&!(t<0))return{start:e,end:t}},S[0]=D,S[1]=I,S[2]=A,S[3]=t):t=S[3];let[E,T]=(0,v.useState)(t);S[4]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{T(void 0)},S[4]=n):n=S[4];let O=n;S[5]!==D||S[6]!==E?(i=(e,t)=>{let n,i=D.indexOf(e);if(E){if(E.start!==E.end||"removed"!==t){let{newStartIndex:e,newEndIndex:a}=nD(i,E.start,E.end,t);n={start:e,end:a}}}else n="added"===t?{start:i,end:i}:void 0;T(n)},S[5]=D,S[6]=E,S[7]=i):i=S[7];let P=i;S[8]!==L||S[9]!==D||S[10]!==I||S[11]!==R||S[12]!==k||S[13]!==E||S[14]!==A?(a=()=>{let e,t;(E&&(E.start>0||E.end<D.length-1)&&(e=E.start>0?D[E.start-1]:L,t=D[E.end]),e===A&&t===I)?R():e&&t?E&&E.start===E.end?k({type:"single",oid:t}):k({type:"range",fromPRBase:e===L,baseOid:e,endOid:t}):k({type:"unfiltered"})},S[8]=L,S[9]=D,S[10]=I,S[11]=R,S[12]=k,S[13]=E,S[14]=A,S[15]=a):a=S[15];let F=a;if(S[16]!==D||S[17]!==_||S[18]!==F||S[19]!==P||S[20]!==R||S[21]!==E){let e=E?D.slice(E.start,E.end+1):[];s=nL.X,g=!0,x=!0,b="Picking a range will select commits in between.",y="multiple",l="Pick one or more commits",d="modal",u="large",m=R,f=O,h=F,r=C.l,p=_.map(t=>{let n=e.includes(t.oid);return(0,o.jsxs)(C.l.Item,{selected:n,onSelect:()=>P(t.oid,n?"removed":"added"),children:[t.messageHeadline,(0,o.jsxs)(C.l.Description,{variant:"block",children:[t.shortOid," \xb7 ",t.actorLogin," \xb7 ",(0,o.jsx)(nS.A,{datetime:t.createdAt})]})]},t.oid)}),S[16]=D,S[17]=_,S[18]=F,S[19]=P,S[20]=R,S[21]=E,S[22]=r,S[23]=s,S[24]=l,S[25]=d,S[26]=u,S[27]=m,S[28]=f,S[29]=h,S[30]=p,S[31]=g,S[32]=x,S[33]=b,S[34]=y}else r=S[22],s=S[23],l=S[24],d=S[25],u=S[26],m=S[27],f=S[28],h=S[29],p=S[30],g=S[31],x=S[32],b=S[33],y=S[34];return S[35]!==r||S[36]!==p?(j=(0,o.jsx)(r,{children:p}),S[35]=r,S[36]=p,S[37]=j):j=S[37],S[38]===Symbol.for("react.memo_cache_sentinel")?(w=(0,o.jsx)(nL.X.Footer,{}),S[38]=w):w=S[38],S[39]!==s||S[40]!==l||S[41]!==d||S[42]!==u||S[43]!==m||S[44]!==f||S[45]!==h||S[46]!==j||S[47]!==g||S[48]!==x||S[49]!==b||S[50]!==y?(N=(0,o.jsxs)(s,{defaultOpen:g,open:x,description:b,selectionVariant:y,title:l,variant:d,width:u,onCancel:m,onClearSelection:f,onSubmit:h,children:[j,w]}),S[39]=s,S[40]=l,S[41]=d,S[42]=u,S[43]=m,S[44]=f,S[45]=h,S[46]=j,S[47]=g,S[48]=x,S[49]=b,S[50]=y,S[51]=N):N=S[51],N}:function({baseRefOid:e,commitOids:t,commits:n,endOid:i,onClose:a,onRangeUpdated:r,startOid:s}){let[l,d]=(0,v.useState)(()=>{if(!s||!i)return;let e=s?t.indexOf(s)+1:-1,n=i?t.indexOf(i):-1;if(!(e<0)&&!(n<0))return{start:e,end:n}}),c=l?t.slice(l.start,l.end+1):[];return(0,o.jsxs)(nL.X,{defaultOpen:!0,open:!0,description:"Picking a range will select commits in between.",selectionVariant:"multiple",title:"Pick one or more commits",variant:"modal",width:"large",onCancel:a,onClearSelection:()=>{d(void 0)},onSubmit:()=>{let n,o;(l&&(l.start>0||l.end<t.length-1)&&(n=l.start>0?t[l.start-1]:e,o=t[l.end]),n===s&&o===i)?a():n&&o?l&&l.start===l.end?r({type:"single",oid:o}):r({type:"range",fromPRBase:n===e,baseOid:n,endOid:o}):r({type:"unfiltered"})},children:[(0,o.jsx)(C.l,{children:n.map(e=>{let n=c.includes(e.oid);return(0,o.jsxs)(C.l.Item,{selected:n,onSelect:()=>((e,n)=>{let i,a=t.indexOf(e);if(l){if(l.start!==l.end||"removed"!==n){let{newStartIndex:e,newEndIndex:t}=nD(a,l.start,l.end,n);i={start:e,end:t}}}else i="added"===n?{start:a,end:a}:void 0;d(i)})(e.oid,n?"removed":"added"),children:[e.messageHeadline,(0,o.jsxs)(C.l.Description,{variant:"block",children:[e.shortOid," \xb7 ",e.actorLogin," \xb7 ",(0,o.jsx)(nS.A,{datetime:e.createdAt})]})]},e.oid)})}),(0,o.jsx)(nL.X.Footer,{})]})});try{n_.displayName||(n_.displayName="CommitsSelector")}catch{}let nI="All commits";function nR({endOid:e,startOid:t,firstCommitInRange:n}){return n&&e&&n===e?`Commit ${e.slice(0,7)}`:t&&e?`${t.slice(0,7)}..${e.slice(0,7)}`:nI}function nk({commitOids:e,endOid:t,firstCommitInRange:n}){if(n&&t&&n===t)return`Commit ${t.slice(0,7)}...`;if(n&&t){let i=e.indexOf(n),a=e.indexOf(t);if(i>-1&&a>-1)return`${a-i+1} commits...`}return"Specific commit\u2026"}let nA={default:{variant:"default",leadingVisual:G.VersionsIcon},condensed:{variant:"invisible",leadingVisual:void 0}},nE=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,y,j=(0,c.c)(56),{onRangeUpdated:w,commits:N,lastReviewOid:S,variant:L}=e,_=void 0===L?"default":L,{baseOid:I,headOid:R}=(0,D.E4)(),{fullDiff:k}=(0,D.L3)(),{baseOid:A}=k,E=(0,D.ww)();j[0]!==N?(t=N.map(nT),j[0]=N,j[1]=t):t=j[1];let T=t,O=T[T.length-1],P=!!S&&I===S&&R===O,[F,$]=(0,v.useState)(!1),[M,B]=(0,v.useState)(!1);e:{if(!I){n=void 0;break e}if(I===A){n=T[0];break e}let e=T.findIndex(e=>e===I);if(e<0){n=void 0;break e}n=T[e+1]}let U=n;j[2]!==R||j[3]!==U||j[4]!==I?(i=nR({endOid:R,startOid:I,firstCommitInRange:U}),j[2]=R,j[3]=U,j[4]=I,j[5]=i):i=j[5];let H=i;j[6]!==T||j[7]!==R||j[8]!==U?(a=nk({endOid:R,firstCommitInRange:U,commitOids:T}),j[6]=T,j[7]=R,j[8]=U,j[9]=a):a=j[9];let q=a,{sendPullRequestAnalyticsEvent:z}=(0,V.q)();j[10]!==z?(r=()=>{z("commits_menu.select_commit","COMMITS_MENU_ITEM"),$(!1),B(!0)},j[10]=z,j[11]=r):r=j[11];let K=r,W=(ex.cg?.innerWidth??1e3)<543;j[12]!==w?(s=()=>{w({type:"unfiltered"})},j[12]=w,j[13]=s):s=j[13];let Q=s;j[14]!==w?(l=e=>{B(!1),w(e)},j[14]=w,j[15]=l):l=j[15];let X=l;j[16]!==z?(d=e=>{$(e),e&&z("commits_menu.open","COMMITS_MENU")},j[16]=z,j[17]=d):d=j[17];let J=d,Y=W?void 0:nA[_].leadingVisual,ee=nA[_];j[18]!==H||j[19]!==Y||j[20]!==ee.variant?(u=(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(Z.Q,{alignContent:"start",className:"flex-shrink-0",leadingVisual:Y,size:"small",variant:ee.variant,trailingAction:G.TriangleDownIcon,children:H})}),j[18]=H,j[19]=Y,j[20]=ee.variant,j[21]=u):u=j[21];let et=!E;j[22]!==Q||j[23]!==et?(m=(0,o.jsx)(C.l.Item,{selected:et,onSelect:Q,children:nI}),j[22]=Q,j[23]=et,j[24]=m):m=j[24],j[25]!==A||j[26]!==P||j[27]!==X||j[28]!==O||j[29]!==S?(f=S&&O&&S!==O&&(0,o.jsx)(C.l.Item,{selected:P,onSelect:()=>X({type:"range",fromPRBase:S===A,baseOid:S,endOid:O}),children:"Changes since your last review"}),j[25]=A,j[26]=P,j[27]=X,j[28]=O,j[29]=S,j[30]=f):f=j[30],j[31]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(C.l.Divider,{}),j[31]=h):h=j[31];let en=E&&!P;return j[32]!==q||j[33]!==K||j[34]!==en?(p=(0,o.jsx)(C.l.Item,{selected:en,onSelect:K,children:q}),j[32]=q,j[33]=K,j[34]=en,j[35]=p):p=j[35],j[36]!==m||j[37]!==f||j[38]!==p?(g=(0,o.jsx)(eG.W.Overlay,{side:"outside-bottom",width:"small",children:(0,o.jsxs)(C.l,{selectionVariant:"single",children:[m,f,h,p]})}),j[36]=m,j[37]=f,j[38]=p,j[39]=g):g=j[39],j[40]!==J||j[41]!==F||j[42]!==u||j[43]!==g?(x=(0,o.jsxs)(eG.W,{open:F,onOpenChange:J,children:[u,g]}),j[40]=J,j[41]=F,j[42]=u,j[43]=g,j[44]=x):x=j[44],j[45]!==A||j[46]!==T||j[47]!==N||j[48]!==R||j[49]!==X||j[50]!==M||j[51]!==I?(b=M&&(0,o.jsx)(n_,{baseRefOid:A||"",commitOids:T,commits:N,endOid:R,startOid:I,onClose:()=>B(!1),onRangeUpdated:X}),j[45]=A,j[46]=T,j[47]=N,j[48]=R,j[49]=X,j[50]=M,j[51]=I,j[52]=b):b=j[52],j[53]!==x||j[54]!==b?(y=(0,o.jsxs)(o.Fragment,{children:[x,b]}),j[53]=x,j[54]=b,j[55]=y):y=j[55],y}:function({onRangeUpdated:e,commits:t,lastReviewOid:n,variant:i="default"}){let{baseOid:a,headOid:r}=(0,D.E4)(),{fullDiff:{baseOid:s}}=(0,D.L3)(),l=(0,D.ww)(),d=(0,v.useMemo)(()=>t.map(e=>e.oid),[t]),c=d[d.length-1],u=!!n&&a===n&&r===c,[m,f]=(0,v.useState)(!1),[h,p]=(0,v.useState)(!1),g=(0,v.useMemo)(()=>{if(!a)return;if(a===s)return d[0];let e=d.findIndex(e=>e===a);if(!(e<0))return d[e+1]},[s,d,a]),x=nR({endOid:r,startOid:a,firstCommitInRange:g}),b=nk({endOid:r,firstCommitInRange:g,commitOids:d}),{sendPullRequestAnalyticsEvent:y}=(0,V.q)(),j=(ex.cg?.innerWidth??1e3)<543,w=t=>{p(!1),e(t)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eG.W,{open:m,onOpenChange:e=>{f(e),e&&y("commits_menu.open","COMMITS_MENU")},children:[(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(Z.Q,{alignContent:"start",className:"flex-shrink-0",leadingVisual:j?void 0:nA[i].leadingVisual,size:"small",variant:nA[i].variant,trailingAction:G.TriangleDownIcon,children:x})}),(0,o.jsx)(eG.W.Overlay,{side:"outside-bottom",width:"small",children:(0,o.jsxs)(C.l,{selectionVariant:"single",children:[(0,o.jsx)(C.l.Item,{selected:!l,onSelect:()=>{e({type:"unfiltered"})},children:nI}),n&&c&&n!==c&&(0,o.jsx)(C.l.Item,{selected:u,onSelect:()=>w({type:"range",fromPRBase:n===s,baseOid:n,endOid:c}),children:"Changes since your last review"}),(0,o.jsx)(C.l.Divider,{}),(0,o.jsx)(C.l.Item,{selected:l&&!u,onSelect:()=>{y("commits_menu.select_commit","COMMITS_MENU_ITEM"),f(!1),p(!0)},children:b})]})})]}),h&&(0,o.jsx)(n_,{baseRefOid:s||"",commitOids:d,commits:t,endOid:r,startOid:a,onClose:()=>p(!1),onRangeUpdated:w})]})};function nT(e){return e.oid}try{nE.displayName||(nE.displayName="CommitsDropdown")}catch{}var nO=n(68534);let nP=(0,d.Z6)()?function(e){let t,n=(0,c.c)(4);if((0,no.u)("new_pr_files_commit_selector")){let t;return n[0]!==e?(t=(0,o.jsx)(n$,{...e}),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==e?(t=(0,o.jsx)(nF,{...e}),n[2]=e,n[3]=t):t=n[3],t}:function(e){return(0,no.u)("new_pr_files_commit_selector")?(0,o.jsx)(n$,{...e}):(0,o.jsx)(nF,{...e})},nF=(0,d.Z6)()?function(e){let t,n,i=(0,c.c)(10),{ownerLogin:a,repositoryName:r,pullRequestNumber:s,commits:l,lastReviewOid:d,variant:u}=e,m=(0,no.u)("combined_pr_changes_route");i[0]!==m||i[1]!==a||i[2]!==s||i[3]!==r?(t=e=>{let t;if(m)if("unfiltered"===e.type)t=(0,eT.tvs)({owner:a,repo:r,number:s});else if("range"===e.type){let n=e.fromPRBase?"BASE":e.baseOid;t=(0,eT.zLJ)({owner:a,repo:r,number:s,base:n,head:e.endOid})}else t=(0,eT.zLJ)({owner:a,repo:r,number:s,head:e.oid});else if("unfiltered"===e.type)t=(0,eT.jrm)({owner:a,repo:r,number:s});else if("range"===e.type){let n=e.fromPRBase?void 0:e.baseOid;t=(0,eT.nSV)({owner:a,repo:r,number:s,base:n,head:e.endOid})}else t=(0,eT.yIb)({owner:a,repo:r,number:s,commit:e.oid});window.location.href=t},i[0]=m,i[1]=a,i[2]=s,i[3]=r,i[4]=t):t=i[4];let f=t;return i[5]!==l||i[6]!==d||i[7]!==f||i[8]!==u?(n=(0,o.jsx)(nE,{commits:l,lastReviewOid:d,onRangeUpdated:f,variant:u}),i[5]=l,i[6]=d,i[7]=f,i[8]=u,i[9]=n):n=i[9],n}:function({ownerLogin:e,repositoryName:t,pullRequestNumber:n,commits:i,lastReviewOid:a,variant:r}){let s=(0,no.u)("combined_pr_changes_route");return(0,o.jsx)(nE,{commits:i,lastReviewOid:a,onRangeUpdated:i=>{let a;if(s)if("unfiltered"===i.type)a=(0,eT.tvs)({owner:e,repo:t,number:n});else if("range"===i.type){let r=i.fromPRBase?"BASE":i.baseOid;a=(0,eT.zLJ)({owner:e,repo:t,number:n,base:r,head:i.endOid})}else a=(0,eT.zLJ)({owner:e,repo:t,number:n,head:i.oid});else if("unfiltered"===i.type)a=(0,eT.jrm)({owner:e,repo:t,number:n});else if("range"===i.type){let r=i.fromPRBase?void 0:i.baseOid;a=(0,eT.nSV)({owner:e,repo:t,number:n,base:r,head:i.endOid})}else a=(0,eT.yIb)({owner:e,repo:t,number:n,commit:i.oid});window.location.href=a},variant:r})},n$=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,p,g,x,b,y,j,C=(0,c.c)(71),{ownerLogin:w,repositoryName:N,pullRequestNumber:S,commits:L,lastReviewOid:_,variant:I}=e,{baseOid:R,headOid:k}=(0,D.E4)(),A=(0,D.ww)(),{fullDiff:E}=(0,D.L3)(),{baseOid:T}=E,O=(0,no.u)("combined_pr_changes_route");C[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eL.G7)("verbose_commit_selector_announcements"),C[0]=t):t=C[0];let P=t,F=(0,v.useRef)(null);C[1]!==L?(n=L.map(nM),C[1]=L,C[2]=n):n=C[2];let $=n;e:{if(!R){i=void 0;break e}if(R===T){i=$[0];break e}let e=$.findIndex(e=>e===R);if(e<0){i=void 0;break e}i=$[e+1]}let M=i;C[3]!==k||C[4]!==M||C[5]!==R?(a=nR({endOid:k,startOid:R,firstCommitInRange:M}),C[3]=k,C[4]=M,C[5]=R,C[6]=a):a=C[6];let B=a;t:{let e,t;if(!R||!k){r=void 0;break t}let n=R?$.indexOf(R)+1:-1;C[7]!==$||C[8]!==k?(e=k?$.indexOf(k):-1,C[7]=$,C[8]=k,C[9]=e):e=C[9];let i=e;if(n<0||i<0){r=void 0;break t}C[10]!==i||C[11]!==n?(t={start:n,end:i},C[10]=i,C[11]=n,C[12]=t):t=C[12],r=t}let V=r;C[13]!==V?(s=()=>V,C[13]=V,C[14]=s):s=C[14];let[U,H]=(0,v.useState)(s);n:{let e;if(!U){let e;C[15]===Symbol.for("react.memo_cache_sentinel")?(e=new Set,C[15]=e):e=C[15],l=e;break n}C[16]!==$||C[17]!==U.end||C[18]!==U.start?(e=new Set($.slice(U.start,U.end+1)),C[16]=$,C[17]=U.end,C[18]=U.start,C[19]=e):e=C[19],l=e}let q=l;if(C[20]!==$||C[21]!==L||C[22]!==k||C[23]!==A||C[24]!==_||C[25]!==q||C[26]!==R){let e,t,n;d=[];let i=`${L.length} commit${1!==L.length?"s":""}`,a=!A;C[28]!==a||C[29]!==i?(e={id:"all-commits",label:"All commits",description:i,descriptionVariant:"block",selectionVariant:"single",selected:a},C[28]=a,C[29]=i,C[30]=e):e=C[30],d.push(e);let r=L[L.length-1]?.oid,s=!1,l=!1;if(_)if(r)if(_===r)t="No new commits since last review",s=!0;else{let e=$.indexOf(_),n=e>=0?$.length-e-1:L.length;t=`${n} commit${1!==n?"s":""}`,l=R===_&&k===r}else t="No commits available",s=!0;else t="No previous review found",s=!0;for(let[e,i]of(C[31]!==l||C[32]!==t||C[33]!==s?(n={id:"changes-since-review",label:"Changes since your last review",description:t,descriptionVariant:"block",selectionVariant:"single",selected:l,disabled:s},C[31]=l,C[32]=t,C[33]=s,C[34]=n):n=C[34],d.push(n),L.entries()))d.push({id:i.oid,label:i.messageHeadline,description:`${i.actorLogin} committed ${(0,np.V)(new Date(i.createdAt))}`,descriptionVariant:"block",selectionVariant:"multiple",selected:q.has(i.oid),groupId:1,groupTitle:0===e?"Select a range of commits":void 0,trailingVisual:i.shortOid});C[20]=$,C[21]=L,C[22]=k,C[23]=A,C[24]=_,C[25]=q,C[26]=R,C[27]=d}else d=C[27];let z=d;C[35]!==O||C[36]!==w||C[37]!==S||C[38]!==N?(u=e=>{let t;if(O)if("unfiltered"===e.type)t=(0,eT.tvs)({owner:w,repo:N,number:S});else if("range"===e.type){let n=e.fromPRBase?"BASE":e.baseOid;t=(0,eT.zLJ)({owner:w,repo:N,number:S,base:n,head:e.endOid})}else t=(0,eT.zLJ)({owner:w,repo:N,number:S,head:e.oid});else if("unfiltered"===e.type)t=(0,eT.jrm)({owner:w,repo:N,number:S});else if("range"===e.type){let n=e.fromPRBase?void 0:e.baseOid;t=(0,eT.nSV)({owner:w,repo:N,number:S,base:n,head:e.endOid})}else t=(0,eT.yIb)({owner:w,repo:N,number:S,commit:e.oid});window.location.href=t},C[35]=O,C[36]=w,C[37]=S,C[38]=N,C[39]=u):u=C[39];let K=u;C[40]!==T||C[41]!==L||C[42]!==_||C[43]!==K?(m=e=>{if("all-commits"===e.id)K({type:"unfiltered"});else if("changes-since-review"===e.id&&_){let e=L[L.length-1]?.oid;e&&K({type:"range",fromPRBase:_===T,baseOid:_,endOid:e})}},C[40]=T,C[41]=L,C[42]=_,C[43]=K,C[44]=m):m=C[44];let W=m;C[45]!==$||C[46]!==q||C[47]!==U?(f=e=>{let t,n=$.indexOf(e.id),i=q.has(e.id)?"removed":"added";if(U){if(U.start!==U.end||"removed"!==i){let{newStartIndex:e,newEndIndex:a}=function(e,t,n,i){let a,r;return"added"===i?(a=Math.min(e,t),r=Math.max(e,n)):e===t?(a=t+1,r=n):(a=t,r=e-1),{newStartIndex:a,newEndIndex:r}}(n,U.start,U.end,i);t={start:e,end:a}}}else t="added"===i?{start:n,end:n}:void 0;if(t){if(void 0!==t.start&&t.start===t.end){let e=t.start+1,n=$[t.start];if(n){let t=(0,nO.F)(n),i=P?`Commit ${t} selected`:`Commit ${e} selected`;(0,to.i)(i)}}else if(void 0!==t.start&&void 0!==t.end){let e=t.start+1,n=t.end+1,i=$[t.start],a=$[t.end];if(i&&a){let t=(0,nO.F)(i),r=(0,nO.F)(a),s=P?`Commits ${t} to ${r} selected`:`Commits ${e} to ${n} selected`;(0,to.i)(s)}}}else(0,to.i)("No commits selected");H(t)},C[45]=$,C[46]=q,C[47]=U,C[48]=f):f=C[48];let Z=f;C[49]!==T||C[50]!==$||C[51]!==V?.end||C[52]!==V?.start||C[53]!==K||C[54]!==U?(p=()=>{let e,t;U&&(U.start!==V?.start||U.end!==V?.end)&&((U.start>0||U.end<$.length-1||1===$.length)&&(e=U.start>0?$[U.start-1]:T,t=$[U.end]),e&&t?U.start===U.end?K({type:"single",oid:t}):K({type:"range",fromPRBase:e===T,baseOid:e,endOid:t}):K({type:"unfiltered"}))},C[49]=T,C[50]=$,C[51]=V?.end,C[52]=V?.start,C[53]=K,C[54]=U,C[55]=p):p=C[55],V?.start,V?.end;let Q=p;C[56]!==V?(g=()=>{H(V)},C[56]=V,C[57]=g):g=C[57];let X=g;C[58]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(h.ak,{commands:{"pull-request-files-changed:open-commits-list":()=>{F.current?.open()}}}),C[58]=x):x=C[58];let J="condensed"===I?void 0:G.VersionsIcon,Y="condensed"===I?"invisible":"default";return C[59]!==J||C[60]!==Y?(b={id:"changes-selector-button",size:"small",leadingVisual:J,variant:Y,trailingAction:G.TriangleDownIcon},C[59]=J,C[60]=Y,C[61]=b):b=C[61],C[62]===Symbol.for("react.memo_cache_sentinel")?(y={height:"large"},C[62]=y):y=C[62],C[63]!==B||C[64]!==z||C[65]!==Q||C[66]!==X||C[67]!==Z||C[68]!==W||C[69]!==b?(j=(0,o.jsxs)(o.Fragment,{children:[x,(0,o.jsx)(nx,{buttonProps:b,anchorLabel:B,ref:F,dialogProps:y,items:z,onSingleSelect:W,onMultiSelect:Z,onApply:Q,onCancel:X,variant:"modal",title:"Select commits to view"})]}),C[63]=B,C[64]=z,C[65]=Q,C[66]=X,C[67]=Z,C[68]=W,C[69]=b,C[70]=j):j=C[70],j}:function({ownerLogin:e,repositoryName:t,pullRequestNumber:n,commits:i,lastReviewOid:a,variant:r}){let{baseOid:s,headOid:l}=(0,D.E4)(),d=(0,D.ww)(),{fullDiff:{baseOid:c}}=(0,D.L3)(),u=(0,no.u)("combined_pr_changes_route"),m=(0,eL.G7)("verbose_commit_selector_announcements"),f=(0,v.useRef)(null),p=(0,v.useMemo)(()=>i.map(e=>e.oid),[i]),g=(0,v.useMemo)(()=>{if(!s)return;if(s===c)return p[0];let e=p.findIndex(e=>e===s);if(!(e<0))return p[e+1]},[c,p,s]),x=nR({endOid:l,startOid:s,firstCommitInRange:g}),b=(0,v.useMemo)(()=>{if(!s||!l)return;let e=s?p.indexOf(s)+1:-1,t=l?p.indexOf(l):-1;if(!(e<0)&&!(t<0))return{start:e,end:t}},[s,l,p]),[y,j]=(0,v.useState)(()=>b),C=(0,v.useMemo)(()=>y?new Set(p.slice(y.start,y.end+1)):new Set,[y,p]),w=(0,v.useMemo)(()=>{let e,t=[];t.push({id:"all-commits",label:"All commits",description:`${i.length} commit${1!==i.length?"s":""}`,descriptionVariant:"block",selectionVariant:"single",selected:!d});let n=i[i.length-1]?.oid,r=!1,o=!1;if(a)if(n)if(a===n)e="No new commits since last review",r=!0;else{let t=p.indexOf(a),r=t>=0?p.length-t-1:i.length;e=`${r} commit${1!==r?"s":""}`,o=s===a&&l===n}else e="No commits available",r=!0;else e="No previous review found",r=!0;for(let[n,a]of(t.push({id:"changes-since-review",label:"Changes since your last review",description:e,descriptionVariant:"block",selectionVariant:"single",selected:o,disabled:r}),i.entries()))t.push({id:a.oid,label:a.messageHeadline,description:`${a.actorLogin} committed ${(0,np.V)(new Date(a.createdAt))}`,descriptionVariant:"block",selectionVariant:"multiple",selected:C.has(a.oid),groupId:1,groupTitle:0===n?"Select a range of commits":void 0,trailingVisual:a.shortOid});return t},[i,d,a,s,l,C,p]),N=(0,v.useCallback)(i=>{let a;if(u)if("unfiltered"===i.type)a=(0,eT.tvs)({owner:e,repo:t,number:n});else if("range"===i.type){let r=i.fromPRBase?"BASE":i.baseOid;a=(0,eT.zLJ)({owner:e,repo:t,number:n,base:r,head:i.endOid})}else a=(0,eT.zLJ)({owner:e,repo:t,number:n,head:i.oid});else if("unfiltered"===i.type)a=(0,eT.jrm)({owner:e,repo:t,number:n});else if("range"===i.type){let r=i.fromPRBase?void 0:i.baseOid;a=(0,eT.nSV)({owner:e,repo:t,number:n,base:r,head:i.endOid})}else a=(0,eT.yIb)({owner:e,repo:t,number:n,commit:i.oid});window.location.href=a},[e,t,n,u]),S=(0,v.useCallback)((e,t,n,i)=>{let a,r;return"added"===i?(a=Math.min(e,t),r=Math.max(e,n)):e===t?(a=t+1,r=n):(a=t,r=e-1),{newStartIndex:a,newEndIndex:r}},[]),L=(0,v.useCallback)(e=>{let t,n=p.indexOf(e.id),i=C.has(e.id)?"removed":"added";if(y){if(y.start!==y.end||"removed"!==i){let{newStartIndex:e,newEndIndex:a}=S(n,y.start,y.end,i);t={start:e,end:a}}}else t="added"===i?{start:n,end:n}:void 0;if(t){if(void 0!==t.start&&t.start===t.end){let e=t.start+1,n=p[t.start];if(n){let t=(0,nO.F)(n),i=m?`Commit ${t} selected`:`Commit ${e} selected`;(0,to.i)(i)}}else if(void 0!==t.start&&void 0!==t.end){let e=t.start+1,n=t.end+1,i=p[t.start],a=p[t.end];if(i&&a){let t=(0,nO.F)(i),r=(0,nO.F)(a),s=m?`Commits ${t} to ${r} selected`:`Commits ${e} to ${n} selected`;(0,to.i)(s)}}}else(0,to.i)("No commits selected");j(t)},[p,C,y,S,j,m]),_=(0,v.useCallback)(()=>{let e,t;y&&(y.start!==b?.start||y.end!==b?.end)&&((y.start>0||y.end<p.length-1||1===p.length)&&(e=y.start>0?p[y.start-1]:c,t=p[y.end]),e&&t?y.start===y.end?N({type:"single",oid:t}):N({type:"range",fromPRBase:e===c,baseOid:e,endOid:t}):N({type:"unfiltered"}))},[y,b?.start,b?.end,p,c,N]),I=(0,v.useCallback)(()=>{j(b)},[j,b]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.ak,{commands:{"pull-request-files-changed:open-commits-list":()=>{f.current?.open()}}}),(0,o.jsx)(nx,{buttonProps:{id:"changes-selector-button",size:"small",leadingVisual:"condensed"===r?void 0:G.VersionsIcon,variant:"condensed"===r?"invisible":"default",trailingAction:G.TriangleDownIcon},anchorLabel:x,ref:f,dialogProps:{height:"large"},items:w,onSingleSelect:e=>{if("all-commits"===e.id)N({type:"unfiltered"});else if("changes-since-review"===e.id&&a){let e=i[i.length-1]?.oid;e&&N({type:"range",fromPRBase:a===c,baseOid:a,endOid:e})}},onMultiSelect:L,onApply:_,onCancel:I,variant:"modal",title:"Select commits to view"})]})};function nM(e){return e.oid}try{nP.displayName||(nP.displayName="ChangesSelector")}catch{}try{nF.displayName||(nF.displayName="OldChangesSelector")}catch{}try{n$.displayName||(n$.displayName="NewChangesSelector")}catch{}var nB=n(33644),nV=n(2694),nU=n(81070),nG=n(33195);let nH="PullRequestFilesToolbar-module__is-stuck--pCXhL",nq="PullRequestFilesToolbar-module__show-when-stuck--ONyyF",nz="PullRequestFilesToolbar-module__hide-when-stuck-large--jRjpF",nK="PullRequestFilesToolbar-module__pr-title-details--NZamC",nW="PullRequestFilesToolbar-module__pr-sticky-title--Fu24T",nZ="PullRequestFilesToolbar-module__file-controls--XN2fA",nQ="PullRequestFilesToolbar-module__file-controls-navigation--Ti_xo",nX="PullRequestFilesToolbar-module__file-controls-divider--oWuSw",nJ="PullRequestFilesToolbar-module__toolbar--bXrnB",nY="PullRequestFilesToolbar-module__simple-toolbar--q_1hU";var n0=n(21968),n1=n(34261),n2=n(89155);let n3=(0,d.Z6)()?function(){let e,t,n,i=(0,c.c)(7),a=(0,D.Kp)(),{updateWhitespace:r}=(0,D.yo)();return i[0]!==a?(e=async e=>{let{hideWhitespace:t}=e,n=`${a}/page_data/${Y.uT.updateWhitespacePreference}`,i=await (0,en.q$)(n,{method:"POST",body:{w:+!!t}}),r=await (0,en.hp)(i);return(0,en.R)(i,r),r},i[0]=a,i[1]=e):e=i[1],i[2]!==r?(t=e=>{r(e.ignoreWhitespace)},i[2]=r,i[3]=t):t=i[3],i[4]!==e||i[5]!==t?(n={mutationFn:e,onSuccess:t},i[4]=e,i[5]=t,i[6]=n):n=i[6],(0,et.n)(n)}:function(){let e=(0,D.Kp)(),{updateWhitespace:t}=(0,D.yo)();return(0,et.n)({mutationFn:async({hideWhitespace:t})=>{let n=`${e}/page_data/${Y.uT.updateWhitespacePreference}`,i=await (0,en.q$)(n,{method:"POST",body:{w:+!!t}}),a=await (0,en.hp)(i);return(0,en.R)(i,a),a},onSuccess:e=>{t(e.ignoreWhitespace)}})};var n4=n(73783),n5=n(81355),n6=n(61583);let n7=(0,d.Z6)()?function(){let e,t,n,i,a=(0,c.c)(14),r=(0,D.mU)(),s=(0,D.$W)(r),{selectedPathDigest:l}=(0,n5.U)();a[0]!==s||a[1]!==l?(e=l?s.findIndex(e=>e.pathDigest===l):0,a[0]=s,a[1]=l,a[2]=e):e=a[2];let o=e,d=n8;a[3]!==o||a[4]!==s?(t=()=>{if(s.length>0){let e;e=o<=0?s.length-1:o-1;let t=s[e];t&&d(t.pathDigest)}},a[3]=o,a[4]=s,a[5]=t):t=a[5];let u=t;a[6]!==o||a[7]!==s?(n=()=>{if(s.length>0){let e;e=o>=s.length-1||o<0?0:o+1;let t=s[e];t&&d(t.pathDigest)}},a[6]=o,a[7]=s,a[8]=n):n=a[8];let m=n,f=o>=0?o:void 0;return a[9]!==m||a[10]!==u||a[11]!==l||a[12]!==f?(i={navigateToPrevious:u,navigateToNext:m,currentPathDigest:l,currentIndex:f},a[9]=m,a[10]=u,a[11]=l,a[12]=f,a[13]=i):i=a[13],i}:function(){let e=(0,D.mU)(),t=(0,D.$W)(e),{selectedPathDigest:n}=(0,n5.U)(),i=(0,v.useMemo)(()=>n?t.findIndex(e=>e.pathDigest===n):0,[t,n]),a=(0,v.useCallback)(e=>{(0,n6.pk)(`diff-${e}`),(0,S.kd)(window.location.href)},[]);return{navigateToPrevious:(0,v.useCallback)(()=>{if(t.length>0){let e;e=i<=0?t.length-1:i-1;let n=t[e];n&&a(n.pathDigest)}},[i,t,a]),navigateToNext:(0,v.useCallback)(()=>{if(t.length>0){let e;e=i>=t.length-1||i<0?0:i+1;let n=t[e];n&&a(n.pathDigest)}},[i,t,a]),currentPathDigest:n,currentIndex:i>=0?i:void 0}};function n8(e){(0,n6.pk)(`diff-${e}`),(0,S.kd)(window.location.href)}var n9=n(19415);let ie="SingleFileModeOnboardingPopover-module__PopoverContainer--wtwv5",it="SingleFileModeOnboardingPopover-module__PopoverContent--zQnno",ii="SingleFileModeOnboardingPopover-module__Heading--BRcrc";function ia(e){return(e??[]).filter(e=>!e.dismissed)}let ir=(0,d.Z6)()?function(e,t){let n,i=(0,c.c)(5),a=ia(t);if(i[0]!==a||i[1]!==e){let t;i[3]!==e?(t=t=>t.name===e,i[3]=e,i[4]=t):t=i[4],n=a.filter(t),i[0]=a,i[1]=e,i[2]=n}else n=i[2];return 0===n.length}:function(e,t){return 0===ia(t).filter(t=>t.name===e).length},is=(0,d.Z6)()?function(e,t){let n,i,a=(0,c.c)(5),r=ir(e,t);a[0]!==r||a[1]!==e?(n=()=>{(0,e5.M3)()&&!r&&(0,ed.DI)((0,eT.VB1)({noticeName:e}),{method:"POST"})},a[0]=r,a[1]=e,a[2]=n):n=a[2];let s=n;return a[3]!==s?(i={dismissNotice:s},a[3]=s,a[4]=i):i=a[4],i}:function(e,t){let n=ir(e,t);return{dismissNotice:(0,v.useCallback)(()=>{(0,e5.M3)()&&!n&&(0,ed.DI)((0,eT.VB1)({noticeName:e}),{method:"POST"})},[n,e])}},il="single_file_mode",io=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u=(0,c.c)(12),{userNotices:m}=e,f=ir(il,m),h=(0,D.j5)(),[p,g]=(0,v.useState)(!0),{dismissNotice:x}=is(il,m);u[0]!==x?(t=()=>{x(),g(!1)},u[0]=x,u[1]=t):t=u[1];let y=t;return!h||f?null:(u[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)("d-flex flex-column gap-2",it),i=(0,o.jsx)(A.A,{as:"h3",variant:"small",className:ii,children:"You're in single-file mode"}),a=(0,o.jsx)("p",{children:"Due to the large number of changes in this pull request, only one file is being shown at a time."}),u[2]=n,u[3]=i,u[4]=a):(n=u[2],i=u[3],a=u[4]),u[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)("strong",{children:"Previous"}),u[5]=r):r=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsxs)("p",{children:["Use the ",r," and ",(0,o.jsx)("strong",{children:"Next"})," buttons to move between files."]}),u[6]=s):s=u[6],u[7]!==y?(l=(0,o.jsxs)(n9.A.Content,{className:n,children:[i,a,s,(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsx)(Z.Q,{onClick:y,children:"OK, got it"})})]}),u[7]=y,u[8]=l):l=u[8],u[9]!==p||u[10]!==l?(d=(0,o.jsx)(n9.A,{className:ie,open:p,children:l}),u[9]=p,u[10]=l,u[11]=d):d=u[11],d)}:function({userNotices:e}){let t=ir(il,e),n=(0,D.j5)(),[i,a]=(0,v.useState)(!0),{dismissNotice:r}=is(il,e);return!n||t?null:(0,o.jsx)(n9.A,{className:ie,open:i,children:(0,o.jsxs)(n9.A.Content,{className:(0,b.$)("d-flex flex-column gap-2",it),children:[(0,o.jsx)(A.A,{as:"h3",variant:"small",className:ii,children:"You're in single-file mode"}),(0,o.jsx)("p",{children:"Due to the large number of changes in this pull request, only one file is being shown at a time."}),(0,o.jsxs)("p",{children:["Use the ",(0,o.jsx)("strong",{children:"Previous"})," and ",(0,o.jsx)("strong",{children:"Next"})," buttons to move between files."]}),(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsx)(Z.Q,{onClick:()=>{r(),a(!1)},children:"OK, got it"})})]})})};try{io.displayName||(io.displayName="SingleFileModeOnboardingPopover")}catch{}var id=n(44569);let ic=(0,d.Z6)()?function(e){let t,n,i,a,r,s=(0,c.c)(12),{userNotices:l}=e,d=(0,id.zw)(),{navigateToPrevious:u,navigateToNext:m}=n7();return s[0]!==u?(t=(0,o.jsx)(H.K,{icon:G.ChevronUpIcon,"aria-label":d?"Previous file (K)":"Previous file",size:"small",onClick:u,"data-hotkey":"k"}),s[0]=u,s[1]=t):t=s[1],s[2]!==m?(n=(0,o.jsx)(H.K,{icon:G.ChevronDownIcon,"aria-label":d?"Next file (J)":"Next file",size:"small",onClick:m,"data-hotkey":"j"}),s[2]=m,s[3]=n):n=s[3],s[4]!==t||s[5]!==n?(i=(0,o.jsxs)(n4.A,{children:[t,n]}),s[4]=t,s[5]=n,s[6]=i):i=s[6],s[7]!==l?(a=(0,o.jsx)(io,{userNotices:l}),s[7]=l,s[8]=a):a=s[8],s[9]!==i||s[10]!==a?(r=(0,o.jsxs)("div",{className:"position-relative",children:[i,a]}),s[9]=i,s[10]=a,s[11]=r):r=s[11],r}:function({userNotices:e}){let t=(0,id.zw)(),{navigateToPrevious:n,navigateToNext:i}=n7();return(0,o.jsxs)("div",{className:"position-relative",children:[(0,o.jsxs)(n4.A,{children:[(0,o.jsx)(H.K,{icon:G.ChevronUpIcon,"aria-label":t?"Previous file (K)":"Previous file",size:"small",onClick:n,"data-hotkey":"k"}),(0,o.jsx)(H.K,{icon:G.ChevronDownIcon,"aria-label":t?"Next file (J)":"Next file",size:"small",onClick:i,"data-hotkey":"j"})]}),(0,o.jsx)(io,{userNotices:e})]})};try{ic.displayName||(ic.displayName="ReviewNavigationButtonGroup")}catch{}let iu=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,y,j,w,N,S=(0,c.c)(49),{pageLimits:L,pullRequest:_,hideWhitespace:I,onUpdateWhitespace:R,additionalPreferences:k}=e,[A,E]=(0,v.useState)(!1),[T,O]=(0,v.useState)(!1),[P,F]=(0,v.useState)(!1),[$,M]=(0,v.useState)(!1),B=(0,v.useRef)(null),U=(0,D.wI)(),q=(0,D.Qb)(),{sendPullRequestAnalyticsEvent:z}=(0,V.q)();S[0]!==U?(t=U?Object.values(U):[],S[0]=U,S[1]=t):t=S[1];let K=t,W=K.length;S[2]!==z?(n=()=>{z("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),E(!0),F(!1)},S[2]=z,S[3]=n):n=S[3];let Z=n;S[4]!==z?(i=()=>{z("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),O(!0),F(!1)},S[4]=z,S[5]=i):i=S[5];let Q=i;return S[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(H.K,{ref:B,icon:G.KebabHorizontalIcon,variant:"default",size:"small","aria-label":"More options"})}),S[6]=a):a=S[6],S[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CommentDiscussionIcon,{})}),S[7]=r):r=S[7],S[8]!==q?(s=q>0&&(0,o.jsx)(C.l.TrailingVisual,{children:q}),S[8]=q,S[9]=s):s=S[9],S[10]!==Z||S[11]!==s?(l=(0,o.jsxs)(C.l.Item,{onSelect:Z,children:[r,"Comments",s]}),S[10]=Z,S[11]=s,S[12]=l):l=S[12],S[13]!==Q||S[14]!==W?(d=W>0&&(0,o.jsxs)(C.l.Item,{onSelect:Q,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.AlertIcon,{})}),"Alerts",(0,o.jsx)(C.l.TrailingVisual,{children:W})]}),S[13]=Q,S[14]=W,S[15]=d):d=S[15],S[16]!==l||S[17]!==d?(u=(0,o.jsxs)(C.l.Group,{children:[l,d]}),S[16]=l,S[17]=d,S[18]=u):u=S[18],S[19]===Symbol.for("react.memo_cache_sentinel")?(m=(0,o.jsx)(C.l.Divider,{}),S[19]=m):m=S[19],S[20]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.GearIcon,{})}),S[20]=f):f=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsxs)(C.l.Item,{children:[f,"Settings",(0,o.jsx)(C.l.TrailingVisual,{children:(0,o.jsx)(G.ChevronRightIcon,{})})]})}),S[21]=h):h=S[21],S[22]!==k||S[23]!==I||S[24]!==R?(p=(0,o.jsx)(eG.W.Overlay,{side:"outside-bottom",align:"end",children:(0,o.jsx)(C.l,{children:(0,o.jsx)(nr.Q,{reloadOnWhitespaceChange:!0,onUpdateWhitespace:R,defaultHideWhitespace:I,additionalPreferences:k})})}),S[22]=k,S[23]=I,S[24]=R,S[25]=p):p=S[25],S[26]!==$||S[27]!==p?(g=(0,o.jsx)(C.l.Group,{children:(0,o.jsxs)(eG.W,{open:$,onOpenChange:M,children:[h,p]})}),S[26]=$,S[27]=p,S[28]=g):g=S[28],S[29]!==g||S[30]!==u?(x=(0,o.jsx)(eG.W.Overlay,{align:"end",children:(0,o.jsxs)(C.l,{children:[u,m,g]})}),S[29]=g,S[30]=u,S[31]=x):x=S[31],S[32]!==P||S[33]!==x?(b=(0,o.jsxs)(eG.W,{open:P,onOpenChange:F,children:[a,x]}),S[32]=P,S[33]=x,S[34]=b):b=S[34],S[35]===Symbol.for("react.memo_cache_sentinel")?(y=()=>E(!1),S[35]=y):y=S[35],S[36]!==A||S[37]!==L||S[38]!==_.pathName?(j=(0,o.jsx)(tf,{isOpen:A,pageLimits:L,pathName:_.pathName,toggleSidesheetRef:B,onClose:y}),S[36]=A,S[37]=L,S[38]=_.pathName,S[39]=j):j=S[39],S[40]!==T||S[41]!==K||S[42]!==L||S[43]!==W?(w=W>0&&(0,o.jsx)(tj,{annotations:K,isOpen:T,pageLimits:L,returnFocusRef:B,onClose:()=>O(!1)}),S[40]=T,S[41]=K,S[42]=L,S[43]=W,S[44]=w):w=S[44],S[45]!==b||S[46]!==j||S[47]!==w?(N=(0,o.jsxs)(o.Fragment,{children:[b,j,w]}),S[45]=b,S[46]=j,S[47]=w,S[48]=N):N=S[48],N}:function({pageLimits:e,pullRequest:t,hideWhitespace:n,onUpdateWhitespace:i,additionalPreferences:a}){let[r,s]=(0,v.useState)(!1),[l,d]=(0,v.useState)(!1),[c,u]=(0,v.useState)(!1),[m,f]=(0,v.useState)(!1),h=(0,v.useRef)(null),p=(0,D.wI)(),g=(0,D.Qb)(),{sendPullRequestAnalyticsEvent:x}=(0,V.q)(),b=p?Object.values(p):[],y=b.length,j=(0,v.useCallback)(()=>{x("comments_side_panel.open","COMMENTS_SIDE_PANEL_BUTTON"),eV(),s(!0),u(!1)},[x]),w=(0,v.useCallback)(()=>{x("alerts_side_panel.open","ALERTS_SIDE_PANEL_BUTTON"),eV(),d(!0),u(!1)},[x]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eG.W,{open:c,onOpenChange:u,children:[(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(H.K,{ref:h,icon:G.KebabHorizontalIcon,variant:"default",size:"small","aria-label":"More options"})}),(0,o.jsx)(eG.W.Overlay,{align:"end",children:(0,o.jsxs)(C.l,{children:[(0,o.jsxs)(C.l.Group,{children:[(0,o.jsxs)(C.l.Item,{onSelect:j,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CommentDiscussionIcon,{})}),"Comments",g>0&&(0,o.jsx)(C.l.TrailingVisual,{children:g})]}),y>0&&(0,o.jsxs)(C.l.Item,{onSelect:w,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.AlertIcon,{})}),"Alerts",(0,o.jsx)(C.l.TrailingVisual,{children:y})]})]}),(0,o.jsx)(C.l.Divider,{}),(0,o.jsx)(C.l.Group,{children:(0,o.jsxs)(eG.W,{open:m,onOpenChange:f,children:[(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsxs)(C.l.Item,{children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.GearIcon,{})}),"Settings",(0,o.jsx)(C.l.TrailingVisual,{children:(0,o.jsx)(G.ChevronRightIcon,{})})]})}),(0,o.jsx)(eG.W.Overlay,{side:"outside-bottom",align:"end",children:(0,o.jsx)(C.l,{children:(0,o.jsx)(nr.Q,{reloadOnWhitespaceChange:!0,onUpdateWhitespace:i,defaultHideWhitespace:n,additionalPreferences:a})})})]})})]})})]}),(0,o.jsx)(tf,{isOpen:r,pageLimits:e,pathName:t.pathName,toggleSidesheetRef:h,onClose:()=>s(!1)}),y>0&&(0,o.jsx)(tj,{annotations:b,isOpen:l,pageLimits:e,returnFocusRef:h,onClose:()=>d(!1)})]})};try{iu.displayName||(iu.displayName="ToolbarMoreMenu")}catch{}let im=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(9),{changeGroupsPreferenceAvailable:s,showChangeGroups:l,onShowChangeGroupsChange:d}=e,{sendPullRequestAnalyticsEvent:u}=(0,V.q)();if(!s)return;r[0]!==d||r[1]!==u||r[2]!==l?(t=()=>{let e=!l;u(e?"change_group_preference.show":"change_group_preference.hide","CHANGE_GROUP_PREFERENCE_TOGGLE"),d(e)},r[0]=d,r[1]=u,r[2]=l,r[3]=t):t=r[3];let m=t;return r[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)(C.l.Divider,{}),r[4]=n):n=r[4],r[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)(C.l.Description,{variant:"block",children:"Organize changes into groups with Copilot"}),r[5]=i):i=r[5],r[6]!==m||r[7]!==l?(a=(0,o.jsxs)(o.Fragment,{children:[n,(0,o.jsx)(C.l.Group,{"aria-label":"Change Groups",selectionVariant:"single",children:(0,o.jsxs)(C.l.Item,{selected:l,onSelect:m,children:["Show changes by group",i]})})]}),r[6]=m,r[7]=l,r[8]=a):a=r[8],a}:function({changeGroupsPreferenceAvailable:e,showChangeGroups:t,onShowChangeGroupsChange:n}){let{sendPullRequestAnalyticsEvent:i}=(0,V.q)();if(e)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{}),(0,o.jsx)(C.l.Group,{"aria-label":"Change Groups",selectionVariant:"single",children:(0,o.jsxs)(C.l.Item,{selected:t,onSelect:()=>{let e=!t;i(e?"change_group_preference.show":"change_group_preference.hide","CHANGE_GROUP_PREFERENCE_TOGGLE"),n(e)},children:["Show changes by group",(0,o.jsx)(C.l.Description,{variant:"block",children:"Organize changes into groups with Copilot"})]})})]})};try{im.displayName||(im.displayName="ChangeGroupsPreferences")}catch{}var ih=n(3585);function ip(e){let t=new Map;if(!e)return t;for(let[n,i]of Object.entries(e))for(let e of Object.values(i))for(let i of e?.threads??[])for(let e of i.commentsData?.comments??[])void 0!==e.databaseId&&null!==e.databaseId&&t.set(e.databaseId,{comment:e,path:n});return t}function ig(e,t){if(!e||0===t.length)return[];let n=ip(e),i=[];for(let e of t){let t=n.get(e.commentDatabaseId);t&&i.push({commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex,path:t.path,bodyHTML:t.comment.bodyHTML})}return i}var ix=n(3252);function ib(e,t){if(!e||0===t.length)return[];let n=ip(e),i=[];for(let e of t){let t=n.get(e.commentDatabaseId);if(!t)continue;let{comment:a,path:r}=t,s=(0,ix.T)(a.body);s&&!(e.suggestionIndex>=s.length)&&i.push({threadId:String(e.commentDatabaseId),path:r,suggestion:s})}return i}var iv=n(88008);let iy=(0,d.Z6)()?function(e,t){let n,i,a,r=(0,c.c)(11),s=(0,ee.e)(Y.uT.submitSuggestedChanges),l=(0,D.WK)(),o=(0,D.qL)(),{clearSuggestionBatch:d}=(0,D.xJ)();return r[0]!==s||r[1]!==o||r[2]!==l?(n=async e=>{let{currentOid:t,message:n}=e,i=ib(o,l.activeBatch);if(0===i.length)throw Error("No valid suggestions found in batch");let a=await (0,ed.Sr)(s,{method:"POST",headers:{Accept:"application/json"},body:{changes:i,currentOid:t,message:n}}),r=await (0,en.hp)(a);return(0,en.R)(a,r),r},r[0]=s,r[1]=o,r[2]=l,r[3]=n):n=r[3],r[4]!==d||r[5]!==t||r[6]!==e?(i=()=>{d(),(0,iv.hW)(e,t),ex.cg?.location.reload()},r[4]=d,r[5]=t,r[6]=e,r[7]=i):i=r[7],r[8]!==n||r[9]!==i?(a={mutationFn:n,onSuccess:i},r[8]=n,r[9]=i,r[10]=a):a=r[10],(0,et.n)(a)}:function(e,t){let n=(0,ee.e)(Y.uT.submitSuggestedChanges),i=(0,D.WK)(),a=(0,D.qL)(),{clearSuggestionBatch:r}=(0,D.xJ)();return(0,et.n)({mutationFn:async({currentOid:e,message:t})=>{let r=ib(a,i.activeBatch);if(0===r.length)throw Error("No valid suggestions found in batch");let s=await (0,ed.Sr)(n,{method:"POST",headers:{Accept:"application/json"},body:{changes:r,currentOid:e,message:t}}),l=await (0,en.hp)(s);return(0,en.R)(s,l),l},onSuccess:()=>{r(),(0,iv.hW)(e,t),ex.cg?.location.reload()}})},ij=(0,d.Z6)()?function(){let e,t,n,i=(0,c.c)(8),a=(0,D.Kp)(),{updateChangeGroupPreference:r}=(0,D.wL)(),{updateDiffFilter:s}=(0,D.or)();return i[0]!==a?(e=async e=>{let{showChangeGroups:t}=e,n=`${a}/page_data/${Y.uT.updateShowChangeGroupsPreference}`,i=await (0,en.q$)(n,{method:"POST",headers:{"Content-Type":"application/json"},body:{show_change_groups:t?"true":"false"}}),r=await (0,en.hp)(i);return(0,en.R)(i,r),r},i[0]=a,i[1]=e):e=i[1],i[2]!==r||i[3]!==s?(t=e=>{let{showChangeGroups:t}=e;r(t),t||s({activeChangeGroupId:void 0})},i[2]=r,i[3]=s,i[4]=t):t=i[4],i[5]!==e||i[6]!==t?(n={mutationFn:e,onMutate:t},i[5]=e,i[6]=t,i[7]=n):n=i[7],(0,et.n)(n)}:function(){let e=(0,D.Kp)(),{updateChangeGroupPreference:t}=(0,D.wL)(),{updateDiffFilter:n}=(0,D.or)();return(0,et.n)({mutationFn:async({showChangeGroups:t})=>{let n=`${e}/page_data/${Y.uT.updateShowChangeGroupsPreference}`,i=await (0,en.q$)(n,{method:"POST",headers:{"Content-Type":"application/json"},body:{show_change_groups:t?"true":"false"}}),a=await (0,en.hp)(i);return(0,en.R)(i,a),a},onMutate:({showChangeGroups:e})=>{t(e),e||n({activeChangeGroupId:void 0})}})};var iC=n(39837);let iw=(0,d.Z6)()?function(e){let t,n,i,a,r,s=(0,c.c)(13),{bodyHtml:l,isLoading:d,onClose:u}=e,m=(0,v.useRef)(null),f=(0,v.useRef)(null);s[0]!==l?(t=l.includes("No description provided"),s[0]=l,s[1]=t):t=s[1];let h=t;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={narrow:"fullscreen",regular:"right",wide:"right"},s[2]=n):n=s[2],s[3]!==u?(i=e=>{let{dialogLabelId:t}=e;return(0,o.jsx)(g.l.Header,{className:"p-3",children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between flex-items-center width-full",children:[(0,o.jsx)(g.l.Title,{id:t,children:"Overview"}),(0,o.jsx)(H.K,{ref:m,"aria-label":"Close overview panel",icon:G.XIcon,variant:"invisible",onClick:u})]})})},s[3]=u,s[4]=i):i=s[4],s[5]!==l||s[6]!==h||s[7]!==d?(a=(0,o.jsx)("div",{className:"p-4",children:d?(0,o.jsx)("div",{className:"d-flex flex-justify-center",children:(0,o.jsx)(E.A,{})}):(0,o.jsx)("div",{className:h?"d-flex flex-justify-start":"d-flex flex-justify-center",children:(0,o.jsx)(iC.A,{verifiedHTML:l})})}),s[5]=l,s[6]=h,s[7]=d,s[8]=a):a=s[8],s[9]!==u||s[10]!==i||s[11]!==a?(r=(0,o.jsx)(g.l,{initialFocusRef:m,position:n,returnFocusRef:f,onClose:u,renderHeader:i,children:a}),s[9]=u,s[10]=i,s[11]=a,s[12]=r):r=s[12],r}:function({bodyHtml:e,isLoading:t,onClose:n}){let i=(0,v.useRef)(null),a=(0,v.useRef)(null),r=e.includes("No description provided");return(0,o.jsx)(g.l,{initialFocusRef:i,position:{narrow:"fullscreen",regular:"right",wide:"right"},returnFocusRef:a,onClose:n,renderHeader:({dialogLabelId:e})=>(0,o.jsx)(g.l.Header,{className:"p-3",children:(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between flex-items-center width-full",children:[(0,o.jsx)(g.l.Title,{id:e,children:"Overview"}),(0,o.jsx)(H.K,{ref:i,"aria-label":"Close overview panel",icon:G.XIcon,variant:"invisible",onClick:n})]})}),children:(0,o.jsx)("div",{className:"p-4",children:t?(0,o.jsx)("div",{className:"d-flex flex-justify-center",children:(0,o.jsx)(E.A,{})}):(0,o.jsx)("div",{className:r?"d-flex flex-justify-start":"d-flex flex-justify-center",children:(0,o.jsx)(iC.A,{verifiedHTML:e})})})})};try{iw.displayName||(iw.displayName="OverviewSidePanel")}catch{}let iN=(0,d.Z6)()?function(){let e,t=(0,c.c)(2),n=(0,ee.e)(Y.uT.description);return t[0]!==n?(e={queryKey:[Y.uT.description,n],queryFn:async()=>{let e=await (0,ed.QJ)(n);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},staleTime:1/0},t[0]=n,t[1]=e):e=t[1],(0,eo.I)(e)}:function(){let e=(0,ee.e)(Y.uT.description);return(0,eo.I)({queryKey:[Y.uT.description,e],queryFn:async()=>{let t=await (0,ed.QJ)(e);if(!t.ok)throw Error(`HTTP ${t.status}`);return await t.json()},staleTime:1/0})},iS=(0,d.Z6)()?function(e){let t,n=(0,c.c)(1),{refetch:i}=iN();n[0]===Symbol.for("react.memo_cache_sentinel")?(t={body_updated:!0},n[0]=t):t=n[0],(0,ns.og)(e,i,t)}:function(e){let{refetch:t}=iN();(0,ns.og)(e,t,{body_updated:!0})},iL=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(10),{aliveChannel:s}=e,[l,d]=(0,v.useState)(!1),u=(0,v.useRef)(null),{sendPullRequestAnalyticsEvent:m}=(0,V.q)(),{data:f,isLoading:h}=iN();iS(s);let p=f?.bodyHtml||'<p class="text-italic">No description provided.</p>';return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(H.K,{inactive:!0,"aria-label":"The overview side panel cannot currently be opened.",icon:G.InfoIcon,size:"small",variant:"invisible"}),r[0]=t):t=r[0],r[1]!==m?(n=(0,o.jsx)(H.K,{ref:u,"aria-label":"Open overview side panel",icon:G.InfoIcon,size:"small",onClick:()=>{m("overview_side_panel.open","OVERVIEW_SIDE_PANEL_BUTTON"),eV(),d(!0)}}),r[1]=m,r[2]=n):n=r[2],r[3]!==p||r[4]!==h||r[5]!==l?(i=l&&(0,o.jsx)(iw,{bodyHtml:p,isLoading:h,onClose:()=>d(!1)}),r[3]=p,r[4]=h,r[5]=l,r[6]=i):i=r[6],r[7]!==n||r[8]!==i?(a=(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:t,children:[n,i]})}),r[7]=n,r[8]=i,r[9]=a):a=r[9],a}:function({aliveChannel:e}){let[t,n]=(0,v.useState)(!1),i=(0,v.useRef)(null),{sendPullRequestAnalyticsEvent:a}=(0,V.q)(),{data:r,isLoading:s}=iN();iS(e);let l=r?.bodyHtml||'<p class="text-italic">No description provided.</p>';return(0,o.jsx)("div",{className:"d-flex flex-items-center",children:(0,o.jsxs)(k.t,{fallback:(0,o.jsx)(H.K,{inactive:!0,"aria-label":"The overview side panel cannot currently be opened.",icon:G.InfoIcon,size:"small",variant:"invisible"}),children:[(0,o.jsx)(H.K,{ref:i,"aria-label":"Open overview side panel",icon:G.InfoIcon,size:"small",onClick:()=>{a("overview_side_panel.open","OVERVIEW_SIDE_PANEL_BUTTON"),eV(),n(!0)}}),t&&(0,o.jsx)(iw,{bodyHtml:l,isLoading:s,onClose:()=>n(!1)})]})})};try{iL.displayName||(iL.displayName="OpenOverviewSidePanelButton")}catch{}let iD=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h=(0,c.c)(24);h[0]!==e?({aliveChannel:t,repository:r,pullRequest:i,bannersData:n,urls:s,user:l,userNotices:d,...a}=e,h[0]=e,h[1]=t,h[2]=n,h[3]=i,h[4]=a,h[5]=r,h[6]=s,h[7]=l,h[8]=d):(t=h[1],n=h[2],i=h[3],a=h[4],r=h[5],s=h[6],l=h[7],d=h[8]);let{data:p}=(0,n1.W)(),{pullRequest:g}=p;h[9]!==t||h[10]!==n||h[11]!==i||h[12]!==r||h[13]!==s||h[14]!==l?(u={aliveChannel:t,repository:r,pullRequest:i,bannersData:n,urls:s,user:l},h[9]=t,h[10]=n,h[11]=i,h[12]=r,h[13]=s,h[14]=l,h[15]=u):u=h[15],(0,n1.W)(u),(0,n2.F)(t),h[16]!==i||h[17]!==g?(m={...i,...g},h[16]=i,h[17]=g,h[18]=m):m=h[18];let x=m;return h[19]!==a||h[20]!==r||h[21]!==x||h[22]!==d?(f=(0,o.jsx)(i_,{repository:r,pullRequest:x,userNotices:d,...a}),h[19]=a,h[20]=r,h[21]=x,h[22]=d,h[23]=f):f=h[23],f}:function({aliveChannel:e,repository:t,pullRequest:n,bannersData:i,urls:a,user:r,userNotices:s,...l}){let{data:{pullRequest:d}}=(0,n1.W)();(0,n1.W)({aliveChannel:e,repository:t,pullRequest:n,bannersData:i,urls:a,user:r}),(0,n2.F)(e);let c={...n,...d};return(0,o.jsx)(i_,{repository:t,pullRequest:c,userNotices:s,...l})},i_=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,y,j,C,N,S,L,_,I,R,k,A,E,T,P,F,$,M,B,V,U,G,H,q,z,K,W,Q,X=(0,c.c)(149),{changeGroupsPreferenceAvailable:J,commits:Y,currentUserLogin:ee,fileFilter:et,isFileTreeExpanded:en,lastReviewOid:ei,pageLimits:ea,pullRequest:er,repository:es,shouldShowViewedFilesCount:el,totalFilesCount:eo,treeToggleElement:ed,userNotices:ec}=e,eu=(0,no.u)("batch_suggested_changes"),em=(0,no.u)("pull_request_overview_panel"),{mutate:ef}=n3(),{clearSuggestionBatch:eh,removeSuggestionFromBatch:ep}=(0,D.xJ)(),{mutate:eg}=iy(er.pathName,er.comparison.headOid),{mutate:ex}=ij(),eb=(0,D.WA)(),ev=er.pathName,{hideWhitespace:ey,fullDiff:ej}=(0,D.L3)(),[eC,ew]=(0,v.useState)(!1),eN=el||!en,[eS,eL]=(0,v.useState)(!1),eD=(0,D.j5)(),e_=(0,D.RH)(),eI=(0,D.WK)(),eR=(0,D.qL)(),[ek,eA]=(0,v.useState)(!1),eE=(0,D.Kp)(),eT=(0,D.L3)(),eO=ig(eR,eI.activeBatch),eP=eO.length;X[0]!==ef?(t=e=>{ef({hideWhitespace:e})},X[0]=ef,X[1]=t):t=X[1];let eF=t;X[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{e[0]&&ew(!e[0].isIntersecting)},X[2]=n):n=X[2];let[e$,eM]=(0,nV.B)(n);X[3]!==eT.fullDiff.headOid||X[4]!==eE||X[5]!==ep||X[6]!==eI.activeBatch?(i=e=>{ep(e),(0,iv.CE)(eE,eT.fullDiff.headOid,eI.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex))},X[3]=eT.fullDiff.headOid,X[4]=eE,X[5]=ep,X[6]=eI.activeBatch,X[7]=i):i=X[7];let eV=i;X[8]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{eA(!0)},X[8]=a):a=X[8];let eU=a;X[9]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{eA(!1)},X[9]=r):r=X[9];let eG=r;X[10]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{eL(!0)},X[10]=s):s=X[10];let eH=s;X[11]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{eL(!1)},X[11]=l):l=X[11];let eq=l;X[12]!==eh||X[13]!==eT.fullDiff.headOid||X[14]!==eG||X[15]!==eE?(d=()=>{eh(),(0,iv.hW)(eE,eT.fullDiff.headOid),eG(),eL(!1)},X[12]=eh,X[13]=eT.fullDiff.headOid,X[14]=eG,X[15]=eE,X[16]=d):d=X[16];let ez=d;X[17]!==eg||X[18]!==ej.headOid||X[19]!==eG?(u=(e,t,n)=>{eg({message:e,currentOid:ej.headOid},{onSuccess:()=>{eG(),n()},onError:e=>{t(e)}})},X[17]=eg,X[18]=ej.headOid,X[19]=eG,X[20]=u):u=X[20];let eK=u;X[21]!==ex?(m=e=>{ex({showChangeGroups:e})},X[21]=ex,X[22]=m):m=X[22];let eW=m,eZ=eO.map(iI);X[23]===Symbol.for("react.memo_cache_sentinel")?(f={visibility:"hidden",height:"1px"},X[23]=f):f=X[23],X[24]!==e$||X[25]!==eM?(h=(0,o.jsx)(nU.X,{sx:f,onObserve:e$,onUnobserve:eM}),X[24]=e$,X[25]=eM,X[26]=h):h=X[26];let eQ=eC&&nH;X[27]!==eQ?(p=(0,b.$)(nB.A.stickyHeader,nJ,eQ),X[27]=eQ,X[28]=p):p=X[28],X[29]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsx)("h2",{className:"sr-only",children:"Pull Request Toolbar"}),X[29]=g):g=X[29],X[30]!==ed?(x=(0,o.jsx)("div",{children:ed}),X[30]=ed,X[31]=x):x=X[31],X[32]!==er.state?(y=(0,o.jsx)("div",{className:nq,children:(0,o.jsx)(nG.u,{state:er.state})}),X[32]=er.state,X[33]=y):y=X[33],X[34]!==Y||X[35]!==ei||X[36]!==er.number||X[37]!==es.name||X[38]!==es.ownerLogin?(j=(0,o.jsx)("div",{className:nz,children:(0,o.jsx)(nP,{commits:Y,lastReviewOid:ei,ownerLogin:es.ownerLogin,pullRequestNumber:er.number,repositoryName:es.name})}),X[34]=Y,X[35]=ei,X[36]=er.number,X[37]=es.name,X[38]=es.ownerLogin,X[39]=j):j=X[39],X[40]===Symbol.for("react.memo_cache_sentinel")?(C=(0,b.$)(nq,"min-width-0"),N=(0,b.$)("d-flex mb-n1",nK),X[40]=C,X[41]=N):(C=X[40],N=X[41]);let eX=er.title;X[42]===Symbol.for("react.memo_cache_sentinel")?(S=(0,b.$)("f5 text-bold overflow-hidden no-wrap",nW),X[42]=S):S=X[42],X[43]!==er.title?(L=(0,o.jsx)("a",{href:"#top",className:"d-flex overflow-hidden fgColor-default",children:(0,o.jsx)("bdi",{className:S,children:er.title})}),X[43]=er.title,X[44]=L):L=X[44],X[45]!==er.title||X[46]!==L?(_=(0,o.jsx)(O.m,{type:"label",direction:"s",text:eX,children:L}),X[45]=er.title,X[46]=L,X[47]=_):_=X[47],X[48]!==er.number?(I=(0,o.jsxs)("span",{className:"f5 text-normal pl-2 fgColor-muted d-inline",children:["#",er.number]}),X[48]=er.number,X[49]=I):I=X[49],X[50]!==_||X[51]!==I?(R=(0,o.jsxs)("div",{className:N,children:[_,I]}),X[50]=_,X[51]=I,X[52]=R):R=X[52],X[53]!==Y||X[54]!==ei||X[55]!==er.number||X[56]!==es.name||X[57]!==es.ownerLogin?(k=(0,o.jsx)(nP,{commits:Y,lastReviewOid:ei,ownerLogin:es.ownerLogin,pullRequestNumber:er.number,repositoryName:es.name,variant:"condensed"}),X[53]=Y,X[54]=ei,X[55]=er.number,X[56]=es.name,X[57]=es.ownerLogin,X[58]=k):k=X[58],X[59]===Symbol.for("react.memo_cache_sentinel")?(A=(0,b.$)("d-none d-lg-flex flex-items-center min-width-0",nK),X[59]=A):A=X[59],X[60]===Symbol.for("react.memo_cache_sentinel")?(E=(0,o.jsx)("div",{className:"border-left mx-1 pr-1 d-block",style:{width:"1px",height:"16px"}}),X[60]=E):E=X[60],X[61]!==er.author||X[62]!==er.baseBranch||X[63]!==er.commitsCount||X[64]!==er.headBranch||X[65]!==er.headRepositoryName||X[66]!==er.headRepositoryOwnerLogin||X[67]!==er.id||X[68]!==er.isInAdvisoryRepo||X[69]!==er.mergedBy||X[70]!==er.mergedByName||X[71]!==er.number||X[72]!==er.state||X[73]!==es.id||X[74]!==es.name||X[75]!==es.ownerLogin?(T=(0,o.jsxs)("div",{className:A,children:[E,(0,o.jsx)(n0.O,{author:er.author,baseBranch:er.baseBranch,baseRepositoryOwnerLogin:es.ownerLogin,baseRepositoryName:es.name,commitsCount:er.commitsCount,headBranch:er.headBranch,headRepositoryOwnerLogin:er.headRepositoryOwnerLogin,headRepositoryName:er.headRepositoryName,isInAdvisoryRepo:er.isInAdvisoryRepo,mergedBy:er.mergedBy,mergedByName:er.mergedByName,state:er.state,pullRequestId:er.id,pullRequestNumber:er.number,repositoryId:es.id})]}),X[61]=er.author,X[62]=er.baseBranch,X[63]=er.commitsCount,X[64]=er.headBranch,X[65]=er.headRepositoryName,X[66]=er.headRepositoryOwnerLogin,X[67]=er.id,X[68]=er.isInAdvisoryRepo,X[69]=er.mergedBy,X[70]=er.mergedByName,X[71]=er.number,X[72]=er.state,X[73]=es.id,X[74]=es.name,X[75]=es.ownerLogin,X[76]=T):T=X[76],X[77]!==k||X[78]!==T?(P=(0,o.jsxs)("div",{className:"f6 text-normal d-flex flex-items-center ml-n2",children:[k,T]}),X[77]=k,X[78]=T,X[79]=P):P=X[79],X[80]!==R||X[81]!==P?(F=(0,o.jsxs)(tL.B,{direction:"vertical",gap:"none",className:C,children:[R,P]}),X[80]=R,X[81]=P,X[82]=F):F=X[82],X[83]!==x||X[84]!==y||X[85]!==j||X[86]!==F?($=(0,o.jsxs)(tL.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:[x,y,j,F]}),X[83]=x,X[84]=y,X[85]=j,X[86]=F,X[87]=$):$=X[87],X[88]!==ev||X[89]!==er.aliveChannel?(M=(0,o.jsx)(nu,{aliveChannel:er.aliveChannel,pathName:ev}),X[88]=ev,X[89]=er.aliveChannel,X[90]=M):M=X[90],X[91]!==el||X[92]!==eo?(B=el&&(0,o.jsx)(eB,{totalFilesCount:eo}),X[91]=el,X[92]=eo,X[93]=B):B=X[93];let eJ=!en&&et;return X[94]!==eD||X[95]!==eo||X[96]!==ec?(V=eD&&eo>1&&(0,o.jsx)("div",{className:nQ,children:(0,o.jsx)(ic,{userNotices:ec})}),X[94]=eD,X[95]=eo,X[96]=ec,X[97]=V):V=X[97],X[98]!==B||X[99]!==eJ||X[100]!==V?(U=(0,o.jsxs)("div",{className:nZ,children:[B,eJ,V]}),X[98]=B,X[99]=eJ,X[100]=V,X[101]=U):U=X[101],X[102]!==eN?(G=eN&&(0,o.jsx)("div",{className:nX,"data-testid":"file-controls-divider"}),X[102]=eN,X[103]=G):G=X[103],X[104]!==eu||X[105]!==J||X[106]!==ee||X[107]!==eU||X[108]!==eH||X[109]!==ey||X[110]!==en||X[111]!==e_||X[112]!==eW||X[113]!==eF||X[114]!==em||X[115]!==ea||X[116]!==er||X[117]!==es||X[118]!==eb||X[119]!==eP||X[120]!==ec?(H=e_&&eu?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.Q,{variant:"danger",size:"small",onClick:eH,children:"Discard batch"}),(0,o.jsxs)(Z.Q,{variant:"primary",size:"small",onClick:eU,children:["Commit suggestions ",(0,o.jsx)(w.A,{className:"ml-1 color-fg-inherit",children:eP})]})]}):(0,o.jsxs)(o.Fragment,{children:[em&&(0,o.jsx)(iL,{aliveChannel:er.aliveChannel}),(0,o.jsx)("div",{className:"d-none d-sm-flex",children:(0,o.jsx)(tp,{pageLimits:ea,pullRequest:er,isFileTreeExpanded:en})}),(0,o.jsx)(tw,{className:"d-none d-sm-flex",pageLimits:ea,isFileTreeExpanded:en}),ee&&(0,o.jsx)(nt,{currentUserLogin:ee,pullRequest:er,repository:es}),(0,o.jsx)("div",{className:"d-none d-sm-flex",children:(0,o.jsx)(nr.G,{invisible:!1,reloadOnWhitespaceChange:!0,onUpdateWhitespace:eF,defaultHideWhitespace:ey,small:!0,userNotices:ec,additionalPreferences:(0,o.jsx)(im,{changeGroupsPreferenceAvailable:J,showChangeGroups:eb,onShowChangeGroupsChange:eW})})}),(0,o.jsx)("div",{className:"d-flex d-sm-none",children:(0,o.jsx)(iu,{pageLimits:ea,pullRequest:er,hideWhitespace:ey,onUpdateWhitespace:eF,additionalPreferences:(0,o.jsx)(im,{changeGroupsPreferenceAvailable:J,showChangeGroups:eb,onShowChangeGroupsChange:eW})})})]}),X[104]=eu,X[105]=J,X[106]=ee,X[107]=eU,X[108]=eH,X[109]=ey,X[110]=en,X[111]=e_,X[112]=eW,X[113]=eF,X[114]=em,X[115]=ea,X[116]=er,X[117]=es,X[118]=eb,X[119]=eP,X[120]=ec,X[121]=H):H=X[121],X[122]!==M||X[123]!==U||X[124]!==G||X[125]!==H?(q=(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:[M,U,G,H]}),X[122]=M,X[123]=U,X[124]=G,X[125]=H,X[126]=q):q=X[126],X[127]!==p||X[128]!==$||X[129]!==q?(z=(0,o.jsxs)(tL.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:p,children:[g,$,q]}),X[127]=p,X[128]=$,X[129]=q,X[130]=z):z=X[130],X[131]!==eK||X[132]!==eG||X[133]!==ez||X[134]!==eV||X[135]!==ek||X[136]!==eI.activeBatch.length||X[137]!==eZ?(K=ek&&eZ.length>0&&(0,o.jsx)(ih.$,{authorLogins:[],batchSize:eI.activeBatch.length,onClose:eG,onCommit:eK,defaultCommitMessage:"Apply suggestions from code review",suggestions:eZ,onRemoveSuggestion:eV,onDiscardBatch:ez}),X[131]=eK,X[132]=eG,X[133]=ez,X[134]=eV,X[135]=ek,X[136]=eI.activeBatch.length,X[137]=eZ,X[138]=K):K=X[138],X[139]!==ez||X[140]!==eq||X[141]!==eS||X[142]!==eP?(W=(0,o.jsx)(nh.G,{isOpen:eS,onConfirm:ez,onCancel:eq,suggestionsCount:eP}),X[139]=ez,X[140]=eq,X[141]=eS,X[142]=eP,X[143]=W):W=X[143],X[144]!==h||X[145]!==z||X[146]!==K||X[147]!==W?(Q=(0,o.jsxs)(o.Fragment,{children:[h,z,K,W]}),X[144]=h,X[145]=z,X[146]=K,X[147]=W,X[148]=Q):Q=X[148],Q}:function({changeGroupsPreferenceAvailable:e,commits:t,currentUserLogin:n,fileFilter:i,isFileTreeExpanded:a,lastReviewOid:r,pageLimits:s,pullRequest:l,repository:d,shouldShowViewedFilesCount:c,totalFilesCount:u,treeToggleElement:m,userNotices:f}){let h=(0,no.u)("batch_suggested_changes"),p=(0,no.u)("pull_request_overview_panel"),{mutate:g}=n3(),{clearSuggestionBatch:x,removeSuggestionFromBatch:y}=(0,D.xJ)(),{mutate:j}=iy(l.pathName,l.comparison.headOid),{mutate:C}=ij(),N=(0,D.WA)(),S=l.pathName,{hideWhitespace:L,fullDiff:_}=(0,D.L3)(),[I,R]=(0,v.useState)(!1),k=c||!a,[A,E]=(0,v.useState)(!1),T=(0,D.j5)(),P=(0,D.RH)(),F=(0,D.WK)(),$=(0,D.qL)(),[M,B]=(0,v.useState)(!1),V=(0,D.Kp)(),U=(0,D.L3)(),G=ig($,F.activeBatch),H=G.length,q=e=>{g({hideWhitespace:e})},[z,K]=(0,nV.B)(e=>{e[0]&&R(!e[0].isIntersecting)}),W=(0,v.useCallback)(e=>{y(e),(0,iv.CE)(V,U.fullDiff.headOid,F.activeBatch.filter(t=>t.commentDatabaseId!==e.commentDatabaseId||t.suggestionIndex!==e.suggestionIndex))},[y,F,V,U]),Q=(0,v.useCallback)(()=>{B(!0)},[]),X=(0,v.useCallback)(()=>{B(!1)},[]),J=(0,v.useCallback)(()=>{E(!0)},[]),Y=(0,v.useCallback)(()=>{E(!1)},[]),ee=(0,v.useCallback)(()=>{x(),(0,iv.hW)(V,U.fullDiff.headOid),X(),E(!1)},[x,V,U,X]),et=(0,v.useCallback)((e,t,n)=>{j({message:e,currentOid:_.headOid},{onSuccess:()=>{X(),n()},onError:e=>{t(e)}})},[_,j,X]),en=e=>{C({showChangeGroups:e})},ei=G.map(e=>({commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex,path:e.path,bodyHTML:e.bodyHTML}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nU.X,{sx:{visibility:"hidden",height:"1px"},onObserve:z,onUnobserve:K}),(0,o.jsxs)(tL.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:(0,b.$)(nB.A.stickyHeader,nJ,I&&nH),children:[(0,o.jsx)("h2",{className:"sr-only",children:"Pull Request Toolbar"}),(0,o.jsxs)(tL.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:[(0,o.jsx)("div",{children:m}),(0,o.jsx)("div",{className:nq,children:(0,o.jsx)(nG.u,{state:l.state})}),(0,o.jsx)("div",{className:nz,children:(0,o.jsx)(nP,{commits:t,lastReviewOid:r,ownerLogin:d.ownerLogin,pullRequestNumber:l.number,repositoryName:d.name})}),(0,o.jsxs)(tL.B,{direction:"vertical",gap:"none",className:(0,b.$)(nq,"min-width-0"),children:[(0,o.jsxs)("div",{className:(0,b.$)("d-flex mb-n1",nK),children:[(0,o.jsx)(O.m,{type:"label",direction:"s",text:l.title,children:(0,o.jsx)("a",{href:"#top",className:"d-flex overflow-hidden fgColor-default",children:(0,o.jsx)("bdi",{className:(0,b.$)("f5 text-bold overflow-hidden no-wrap",nW),children:l.title})})}),(0,o.jsxs)("span",{className:"f5 text-normal pl-2 fgColor-muted d-inline",children:["#",l.number]})]}),(0,o.jsxs)("div",{className:"f6 text-normal d-flex flex-items-center ml-n2",children:[(0,o.jsx)(nP,{commits:t,lastReviewOid:r,ownerLogin:d.ownerLogin,pullRequestNumber:l.number,repositoryName:d.name,variant:"condensed"}),(0,o.jsxs)("div",{className:(0,b.$)("d-none d-lg-flex flex-items-center min-width-0",nK),children:[(0,o.jsx)("div",{className:"border-left mx-1 pr-1 d-block",style:{width:"1px",height:"16px"}}),(0,o.jsx)(n0.O,{author:l.author,baseBranch:l.baseBranch,baseRepositoryOwnerLogin:d.ownerLogin,baseRepositoryName:d.name,commitsCount:l.commitsCount,headBranch:l.headBranch,headRepositoryOwnerLogin:l.headRepositoryOwnerLogin,headRepositoryName:l.headRepositoryName,isInAdvisoryRepo:l.isInAdvisoryRepo,mergedBy:l.mergedBy,mergedByName:l.mergedByName,state:l.state,pullRequestId:l.id,pullRequestNumber:l.number,repositoryId:d.id})]})]})]})]}),(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:[(0,o.jsx)(nu,{aliveChannel:l.aliveChannel,pathName:S}),(0,o.jsxs)("div",{className:nZ,children:[c&&(0,o.jsx)(eB,{totalFilesCount:u}),!a&&i,T&&u>1&&(0,o.jsx)("div",{className:nQ,children:(0,o.jsx)(ic,{userNotices:f})})]}),k&&(0,o.jsx)("div",{className:nX,"data-testid":"file-controls-divider"}),P&&h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.Q,{variant:"danger",size:"small",onClick:J,children:"Discard batch"}),(0,o.jsxs)(Z.Q,{variant:"primary",size:"small",onClick:Q,children:["Commit suggestions ",(0,o.jsx)(w.A,{className:"ml-1 color-fg-inherit",children:H})]})]}):(0,o.jsxs)(o.Fragment,{children:[p&&(0,o.jsx)(iL,{aliveChannel:l.aliveChannel}),(0,o.jsx)("div",{className:"d-none d-sm-flex",children:(0,o.jsx)(tp,{pageLimits:s,pullRequest:l,isFileTreeExpanded:a})}),(0,o.jsx)(tw,{className:"d-none d-sm-flex",pageLimits:s,isFileTreeExpanded:a}),n&&(0,o.jsx)(nt,{currentUserLogin:n,pullRequest:l,repository:d}),(0,o.jsx)("div",{className:"d-none d-sm-flex",children:(0,o.jsx)(nr.G,{invisible:!1,reloadOnWhitespaceChange:!0,onUpdateWhitespace:q,defaultHideWhitespace:L,small:!0,userNotices:f,additionalPreferences:(0,o.jsx)(im,{changeGroupsPreferenceAvailable:e,showChangeGroups:N,onShowChangeGroupsChange:en})})}),(0,o.jsx)("div",{className:"d-flex d-sm-none",children:(0,o.jsx)(iu,{pageLimits:s,pullRequest:l,hideWhitespace:L,onUpdateWhitespace:q,additionalPreferences:(0,o.jsx)(im,{changeGroupsPreferenceAvailable:e,showChangeGroups:N,onShowChangeGroupsChange:en})})})]})]})]}),M&&ei.length>0&&(0,o.jsx)(ih.$,{authorLogins:[],batchSize:F.activeBatch.length,onClose:X,onCommit:et,defaultCommitMessage:"Apply suggestions from code review",suggestions:ei,onRemoveSuggestion:W,onDiscardBatch:ee}),(0,o.jsx)(nh.G,{isOpen:A,onConfirm:ee,onCancel:Y,suggestionsCount:H})]})};function iI(e){return{commentDatabaseId:e.commentDatabaseId,suggestionIndex:e.suggestionIndex,path:e.path,bodyHTML:e.bodyHTML}}try{iD.displayName||(iD.displayName="LivePullRequestFilesToolbar")}catch{}try{i_.displayName||(i_.displayName="PullRequestFilesToolbar")}catch{}function iR(e,t){(0,v.useMemo)(()=>{if(e&&t){for(let n of t)if(n.markersMap)for(let t in n.markersMap){let i=n.markersMap[t];if(i?.threads)for(let n of i.threads){let i=function(e,t){if("FILE"===e)return;let n=e[0];if(!iA(n))throw Error(`Invalid diff side character: ${n}`);let i=Number(e.slice(1)),a=-1,r="R";if(t.start){a=parseInt(t.start.slice(1));let e=t.start[0];iA(e)&&(r=e)}else a=i,r=n;return{endLine:i,endDiffSide:ik[n],startLine:a,startDiffSide:ik[r],isOutdated:!!t.outdatedReason}}(t,n),a=e.threads[Number(n.id)];if(a&&i){let{isOutdated:e,...t}=i;a.positioning=i,a.subject=t}}}}},[t,e])}let ik={L:"LEFT",R:"RIGHT"};function iA(e){return"L"===e||"R"===e}let iE="DiffComparisonViewer-module__Container--nndHZ",iT="DiffComparisonViewer-module__HiddenPane--pMKU7",iO="DiffComparisonViewer-module__PaneContain--PQMad",iP="DiffComparisonViewer-module__PaneOverflowVisible--fmHF4",iF="DiffComparisonViewer-module__RegularTreeToggle--_Zt7h",i$="DiffComparisonViewer-module__MobileTreeToggle--lAOrS",iM="DiffComparisonViewer-module__Pane--FbQgQ",iB="DiffComparisonViewer-module__WideExpanded--a6hBe",iV="DiffComparisonViewer-module__WideCollapsed--nAjUj",iU="DiffComparisonViewer-module__CompactHidden--NQ1CL",iG="DiffComparisonViewer-module__CompactOverlay--ZnZLv",iH="DiffComparisonViewer-module__CompactInline--jndVg",iq="DiffComparisonViewer-module__Content--Cv2ab",iz="DiffComparisonViewer-module__SkeletonWrapper--eZhhq",iK="DiffComparisonViewer-module__SkeletonIconWrapper--e2YmQ";var iW=n(43645),iZ=n(24798),iQ=n(50129);function iX({basePath:e,selectedRange:t}){return[Y.uT.baseComparisonInfo,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`]}let iJ=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l=(0,c.c)(17),{basePath:o,headSha:d,baseSha:u,shouldFetch:m}=e;if(l[0]!==o||l[1]!==u||l[2]!==d){let e=new URLSearchParams;u===d?e.append("range",d??""):u&&d?e.append("range",`${u}..${d}`):d&&e.append("range",d),t=o,n=Y.uT.baseComparisonInfo,i=e.toString(),l[0]=o,l[1]=u,l[2]=d,l[3]=t,l[4]=n,l[5]=i}else t=l[3],n=l[4],i=l[5];let f=`${t}/page_data/${n}?${i}`,h=u??"base-sha-not-provided";l[6]!==o||l[7]!==d||l[8]!==h?(a=iX({basePath:o,selectedRange:{baseOid:h,headOid:d}}),l[6]=o,l[7]=d,l[8]=h,l[9]=a):a=l[9];let p=a;return l[10]!==f||l[11]!==d?(r=async()=>{if(!d)return;let e=await (0,ed.QJ)(f);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()??void 0},l[10]=f,l[11]=d,l[12]=r):r=l[12],l[13]!==p||l[14]!==m||l[15]!==r?(s={queryKey:p,queryFn:r,staleTime:1/0,enabled:m},l[13]=p,l[14]=m,l[15]=r,l[16]=s):s=l[16],(0,eo.I)(s)}:function({basePath:e,headSha:t,baseSha:n,shouldFetch:i}){let a=new URLSearchParams;n===t?a.append("range",t??""):n&&t?a.append("range",`${n}..${t}`):t&&a.append("range",t);let r=`${e}/page_data/${Y.uT.baseComparisonInfo}?${a.toString()}`,s=iX({basePath:e,selectedRange:{baseOid:n??"base-sha-not-provided",headOid:t}});return(0,eo.I)({queryKey:s,queryFn:async()=>{if(!t)return;let e=await (0,ed.QJ)(r);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()??void 0},staleTime:1/0,enabled:i})},iY=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,y=(0,c.c)(37),{fileFilter:j,isFileTreeExpanded:C,shouldShowViewedFilesCount:w,totalFilesCount:N,treeToggleElement:S,userNotices:L}=e;y[0]===Symbol.for("react.memo_cache_sentinel")?(t=["line-spacing"],y[0]=t):t=y[0];let _=t,[I,R]=(0,v.useState)(!1),k=(0,D.j5)(),A=w||!C;y[1]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{e[0]&&R(!e[0].isIntersecting)},y[1]=n):n=y[1];let[E,T]=(0,nV.B)(n);y[2]===Symbol.for("react.memo_cache_sentinel")?(i={visibility:"hidden",height:"1px"},y[2]=i):i=y[2],y[3]!==E||y[4]!==T?(a=(0,o.jsx)(nU.X,{sx:i,onObserve:E,onUnobserve:T}),y[3]=E,y[4]=T,y[5]=a):a=y[5];let O=I&&nH;y[6]!==O?(r=(0,b.$)(nB.A.stickyHeader,nY,O),y[6]=O,y[7]=r):r=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)("h2",{className:"sr-only",children:"Diff Comparison Toolbar"}),y[8]=s):s=y[8],y[9]!==S?(l=(0,o.jsx)(tL.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:(0,o.jsx)("div",{children:S})}),y[9]=S,y[10]=l):l=y[10],y[11]!==w||y[12]!==N?(d=w&&(0,o.jsx)(eB,{totalFilesCount:N}),y[11]=w,y[12]=N,y[13]=d):d=y[13];let P=!C&&j;return y[14]!==k||y[15]!==N||y[16]!==L?(u=k&&N>1&&(0,o.jsx)("div",{className:nQ,children:(0,o.jsx)(ic,{userNotices:L})}),y[14]=k,y[15]=N,y[16]=L,y[17]=u):u=y[17],y[18]!==P||y[19]!==u||y[20]!==d?(m=(0,o.jsxs)("div",{className:nZ,children:[d,P,u]}),y[18]=P,y[19]=u,y[20]=d,y[21]=m):m=y[21],y[22]!==A?(f=A&&(0,o.jsx)("div",{className:nX,"data-testid":"file-controls-divider"}),y[22]=A,y[23]=f):f=y[23],y[24]!==L?(h=(0,o.jsx)(nr.G,{invisible:!1,small:!0,enabledDiffViewSettings:_,userNotices:L}),y[24]=L,y[25]=h):h=y[25],y[26]!==m||y[27]!==f||y[28]!==h?(p=(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:[m,f,h]}),y[26]=m,y[27]=f,y[28]=h,y[29]=p):p=y[29],y[30]!==p||y[31]!==r||y[32]!==l?(g=(0,o.jsxs)(tL.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:r,children:[s,l,p]}),y[30]=p,y[31]=r,y[32]=l,y[33]=g):g=y[33],y[34]!==g||y[35]!==a?(x=(0,o.jsxs)(o.Fragment,{children:[a,g]}),y[34]=g,y[35]=a,y[36]=x):x=y[36],x}:function({fileFilter:e,isFileTreeExpanded:t,shouldShowViewedFilesCount:n,totalFilesCount:i,treeToggleElement:a,userNotices:r}){let[s,l]=(0,v.useState)(!1),d=(0,D.j5)(),c=n||!t,[u,m]=(0,nV.B)(e=>{e[0]&&l(!e[0].isIntersecting)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nU.X,{sx:{visibility:"hidden",height:"1px"},onObserve:u,onUnobserve:m}),(0,o.jsxs)(tL.B,{as:"section",direction:"horizontal",justify:"space-between",gap:"condensed",align:"center",className:(0,b.$)(nB.A.stickyHeader,nY,s&&nH),children:[(0,o.jsx)("h2",{className:"sr-only",children:"Diff Comparison Toolbar"}),(0,o.jsx)(tL.B,{direction:"horizontal",gap:"condensed",align:"center",className:"min-width-0",children:(0,o.jsx)("div",{children:a})}),(0,o.jsxs)(tL.B,{direction:"horizontal",align:"center",children:[(0,o.jsxs)("div",{className:nZ,children:[n&&(0,o.jsx)(eB,{totalFilesCount:i}),!t&&e,d&&i>1&&(0,o.jsx)("div",{className:nQ,children:(0,o.jsx)(ic,{userNotices:r})})]}),c&&(0,o.jsx)("div",{className:nX,"data-testid":"file-controls-divider"}),(0,o.jsx)(nr.G,{invisible:!1,small:!0,enabledDiffViewSettings:["line-spacing"],userNotices:r})]})]})]})};try{iY.displayName||(iY.displayName="BasicDiffComparisonViewToolbar")}catch{}var i0=n(8624),i1=n(94195),i2=n(54571),i3=n(71833);let i4="diff-comparison-viewer-container",i5=(0,d.Z6)()?function(e,t,n,i){let a,r,s,l,d,u,m,f,h,p,g,x,b,y=(0,c.c)(40);y[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],y[0]=a):a=y[0];let[j]=(0,i2.I)(i8,!0,a),C=(0,v.useRef)(null),w=(0,v.useRef)(null),N=t?"expanded":"collapsed";y[1]!==N?(r={wideMode:N,compactMode:"none"},y[1]=N,y[2]=r):r=y[2];let[S,L]=(0,v.useState)(r);y[3]!==i?(s=()=>{L(i7),(0,i3.B)(!0,i),requestAnimationFrame(()=>C.current?.focus())},y[3]=i,y[4]=s):s=y[4];let D=s;y[5]!==i?(l=()=>{L({wideMode:"collapsed",compactMode:"none"}),(0,i3.B)(!1,i),requestAnimationFrame(()=>C.current?.focus())},y[5]=i,y[6]=l):l=y[6];let _=l;y[7]!==n?(d=()=>{let e="overlay";if(n){let t=window.innerWidth;(0,i1.nn)(t)>i1.Gy.large&&(e="inline")}L(t=>({...t,compactMode:e})),requestAnimationFrame(()=>w.current?.focus())},y[7]=n,y[8]=d):d=y[8];let I=d;y[9]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{L(i6),requestAnimationFrame(()=>w.current?.focus())},y[9]=u):u=y[9];let R=u;y[10]!==I||y[11]!==D||y[12]!==S.compactMode||y[13]!==S.wideMode?(m=()=>{let e=!1,t=document.getElementById(i4);if(t){let n=t.getBoundingClientRect().width;e=0===n&&ex.cg?ex.cg.innerWidth>=1012:n>=1012}else ex.cg&&(e=ex.cg.innerWidth>=1012);e?"collapsed"===S.wideMode&&D():"none"===S.compactMode&&I()},y[10]=I,y[11]=D,y[12]=S.compactMode,y[13]=S.wideMode,y[14]=m):m=y[14];let k=m,A="expanded"===S.wideMode,E="expanded"===S.wideMode?"Collapse file tree":"Expand file tree";y[15]!==_||y[16]!==D||y[17]!==S.wideMode?(f=()=>{"expanded"===S.wideMode?_():D()},y[15]=_,y[16]=D,y[17]=S.wideMode,y[18]=f):f=y[18],y[19]!==e||y[20]!==f||y[21]!==A||y[22]!==E?(h=(0,o.jsx)(i0.L,{expanded:A,alignment:"left",ariaLabel:E,tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:C,className:iF,onToggleExpanded:f,size:"small"}),y[19]=e,y[20]=f,y[21]=A,y[22]=E,y[23]=h):h=y[23];let T=h,O="none"!==S.compactMode,P="none"!==S.compactMode?"Collapse file tree":"Expand file tree";y[24]!==I||y[25]!==S.compactMode?(p=()=>{"none"!==S.compactMode?R():I()},y[24]=I,y[25]=S.compactMode,y[26]=p):p=y[26],y[27]!==e||y[28]!==O||y[29]!==P||y[30]!==p?(g=(0,o.jsx)(i0.L,{expanded:O,alignment:"left",ariaLabel:P,tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:w,className:i$,onToggleExpanded:p,size:"small"}),y[27]=e,y[28]=O,y[29]=P,y[30]=p,y[31]=g):g=y[31];let F=g;y[32]!==F||y[33]!==T?(x=(0,o.jsxs)(o.Fragment,{children:[F,T]}),y[32]=F,y[33]=T,y[34]=x):x=y[34];let $=x,M=j&&!t;return y[35]!==k||y[36]!==M||y[37]!==$||y[38]!==S?(b={splitPagePaneHidden:M,treeViewState:S,collapseMobileTree:R,expandTree:k,treeToggleElement:$},y[35]=k,y[36]=M,y[37]=$,y[38]=S,y[39]=b):b=y[39],b}:function(e,t,n,i){let[a]=(0,i2.I)(()=>!1,!0,[]),r=(0,v.useRef)(null),s=(0,v.useRef)(null),[l,d]=(0,v.useState)({wideMode:t?"expanded":"collapsed",compactMode:"none"}),c=(0,v.useCallback)(()=>{d(e=>({...e,wideMode:"expanded"})),(0,i3.B)(!0,i),requestAnimationFrame(()=>r.current?.focus())},[i]),u=(0,v.useCallback)(()=>{d({wideMode:"collapsed",compactMode:"none"}),(0,i3.B)(!1,i),requestAnimationFrame(()=>r.current?.focus())},[i]),m=(0,v.useCallback)(()=>{let e="overlay";if(n){let t=window.innerWidth;(0,i1.nn)(t)>i1.Gy.large&&(e="inline")}d(t=>({...t,compactMode:e})),requestAnimationFrame(()=>s.current?.focus())},[n]),f=(0,v.useCallback)(()=>{d(e=>({...e,compactMode:"none"})),requestAnimationFrame(()=>s.current?.focus())},[]),h=(0,v.useCallback)(()=>{let e=!1,t=document.getElementById(i4);if(t){let n=t.getBoundingClientRect().width;e=0===n&&ex.cg?ex.cg.innerWidth>=1012:n>=1012}else ex.cg&&(e=ex.cg.innerWidth>=1012);e?"collapsed"===l.wideMode&&c():"none"===l.compactMode&&m()},[l.wideMode,l.compactMode,c,m]),p=(0,v.useMemo)(()=>(0,o.jsx)(i0.L,{expanded:"expanded"===l.wideMode,alignment:"left",ariaLabel:"expanded"===l.wideMode?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:r,className:iF,onToggleExpanded:()=>{"expanded"===l.wideMode?u():c()},size:"small"}),[l.wideMode,e,u,c]),g=(0,v.useMemo)(()=>(0,o.jsx)(i0.L,{expanded:"none"!==l.compactMode,alignment:"left",ariaLabel:"none"!==l.compactMode?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:s,className:i$,onToggleExpanded:()=>{"none"!==l.compactMode?f():m()},size:"small"}),[l.compactMode,e,f,m]);return{splitPagePaneHidden:a&&!t,treeViewState:l,collapseMobileTree:f,expandTree:h,treeToggleElement:(0,v.useMemo)(()=>(0,o.jsxs)(o.Fragment,{children:[g,p]}),[g,p])}};function i6(e){return{...e,compactMode:"none"}}function i7(e){return{...e,wideMode:"expanded"}}function i8(){return!1}let i9=(0,d.Z6)()?function(){let e,t,n,i=(0,c.c)(7),a=(0,ee.e)(Y.uT.generateChangeGroups),{updateChangeGroupGeneration:r}=(0,D.wL)();return i[0]!==a?(e=async()=>{let e=await (0,en.q$)(a,{method:"POST"}),t=await (0,en.hp)(e);return(0,en.R)(e,t),t},i[0]=a,i[1]=e):e=i[1],i[2]!==r?(t=e=>{r(e)},i[2]=r,i[3]=t):t=i[3],i[4]!==e||i[5]!==t?(n={mutationFn:e,onSuccess:t},i[4]=e,i[5]=t,i[6]=n):n=i[6],(0,et.n)(n)}:function(){let e=(0,ee.e)(Y.uT.generateChangeGroups),{updateChangeGroupGeneration:t}=(0,D.wL)();return(0,et.n)({mutationFn:async()=>{let t=await (0,en.q$)(e,{method:"POST"}),n=await (0,en.hp)(t);return(0,en.R)(t,n),n},onSuccess:e=>{t(e)}})},ae=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(11),{changeGroupsEnabled:r}=e,s=(0,D.gt)(),l=(0,D.iY)(),o=!!(l&&l.length>0),d=(0,no.u)("generate_groups_on_files_view"),{mutate:u}=i9(),m=(0,D.Fl)();a[0]!==m?(t=m&&(eu(m.state)||!ec(m.state)),a[0]=m,a[1]=t):t=a[1];let f=t,h=(0,D.ww)(),p=(0,v.useRef)(!1);a[2]!==s||a[3]!==r||a[4]!==u||a[5]!==o||a[6]!==h||a[7]!==f||a[8]!==d?(n=()=>{p.current||!d||!r||!s||o||h||f||(u(),p.current=!0)},i=[s,d,u,o,f,h,r],a[2]=s,a[3]=r,a[4]=u,a[5]=o,a[6]=h,a[7]=f,a[8]=d,a[9]=n,a[10]=i):(n=a[9],i=a[10]),(0,v.useEffect)(n,i)}:function({changeGroupsEnabled:e}){let t=(0,D.gt)(),n=(0,D.iY)(),i=!!(n&&n.length>0),a=(0,no.u)("generate_groups_on_files_view"),{mutate:r}=i9(),s=(0,D.Fl)(),l=s&&(eu(s.state)||!ec(s.state)),o=(0,D.ww)(),d=(0,v.useRef)(!1);(0,v.useEffect)(()=>{d.current||!a||!e||!t||i||o||l||(r(),d.current=!0)},[t,a,r,i,l,o,e])};var at=n(59523),an=n(82590),ai=n(66358);let aa=(0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(17),{pullRequestBasePath:s,className:l,diffPath:d,viewerLogin:u}=e,m=(0,v.useId)();r[0]!==s||r[1]!==d?(t={basePath:s,diffPath:d},r[0]=s,r[1]=d,r[2]=t):t=r[2];let f=(0,L.o5)(t);if(!f)return null;let{isOwnedByViewer:h,owners:p,ruleLineNumber:g,ruleUrl:x}=f.data;if(!(h||p.length>0))return null;r[3]!==h||r[4]!==p||r[5]!==g||r[6]!==u?(n=ar(h,p,g,u),r[3]=h,r[4]=p,r[5]=g,r[6]=u,r[7]=n):n=r[7];let b=n;return r[8]!==l||r[9]!==h||r[10]!==x||r[11]!==m?(i=x?(0,o.jsx)(T.A,{"aria-labelledby":m,href:x,className:l,muted:!h,children:(0,o.jsx)(G.ShieldLockIcon,{})}):(0,o.jsx)(G.ShieldLockIcon,{className:l}),r[8]=l,r[9]=h,r[10]=x,r[11]=m,r[12]=i):i=r[12],r[13]!==i||r[14]!==b||r[15]!==m?(a=(0,o.jsx)(O.m,{id:m,"aria-label":b,text:b,children:i}),r[13]=i,r[14]=b,r[15]=m,r[16]=a):a=r[16],a}:function({pullRequestBasePath:e,className:t,diffPath:n,viewerLogin:i}){let a=(0,v.useId)(),r=(0,L.o5)({basePath:e,diffPath:n});if(!r)return null;let{isOwnedByViewer:s,owners:l,ruleLineNumber:d,ruleUrl:c}=r.data;if(!(s||l.length>0))return null;let u=ar(s,l,d,i);return(0,o.jsx)(O.m,{id:a,"aria-label":u,text:u,children:c?(0,o.jsx)(T.A,{"aria-labelledby":a,href:c,className:t,muted:!s,children:(0,o.jsx)(G.ShieldLockIcon,{})}):(0,o.jsx)(G.ShieldLockIcon,{className:t})})};function ar(e,t,n,i){let a="Owned by ",r=t;return e&&(a+="you",i&&(r=t.filter(e=>e!==`@${i}`)),r.length>0&&(a+=" along with ")),a+=r.join(", "),n&&(a+=` (from CODEOWNERS line ${n})`),a}try{aa.displayName||(aa.displayName="CodeownersBadge")}catch{}var as=n(78252),al=n(31675);let ao="BlobActionsMenu-module__hiddenIcon--EJrTU",ad=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g=(0,c.c)(46),{oid:x,path:b,repo:v,branchName:y,isViewable:j,isDeleteable:w,isEditable:N,shouldShowEditOptions:S,copilotDiffChatProps:L,returnToPullRequestPath:D,onCommentOnFile:_,onCopyPath:I,onExpandLines:R,areLinesExpanded:k,richDiffToggle:A,codeownersText:E,codeownersUrl:T}=e,O=void 0===w||w,P=void 0===N||N,F=void 0===S||S;g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(H.K,{icon:G.KebabHorizontalIcon,"aria-label":"More options",variant:"invisible",size:"small"})}),g[0]=t):t=g[0],g[1]!==A?(n=A?.richDiff?.canToggleRichDiff&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-medium-up"],onSelect:A.onToggle,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)("span",{className:A.isRichDiff?ao:void 0,children:(0,o.jsx)(G.CheckIcon,{})})}),"Source diff"]}),(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-medium-up"],onSelect:A.onToggle,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)("span",{className:A.isRichDiff?void 0:ao,children:(0,o.jsx)(G.CheckIcon,{})})}),"Rich diff"]}),(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-medium-up"]})]}),g[1]=A,g[2]=n):n=g[2],g[3]!==L?(i=L&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(as.$,{...L}),(0,o.jsx)(C.l.Divider,{})]}),g[3]=L,g[4]=i):i=g[4],g[5]!==_?(a=_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:_,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CommentIcon,{})}),"Comment on this file"]}),(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]})]}),g[5]=_,g[6]=a):a=g[6],g[7]!==I?(r=I&&(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:I,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CopyIcon,{})}),"Copy file name"]}),g[7]=I,g[8]=r):r=g[8],g[9]!==k||g[10]!==R?(s=R&&(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:R,children:[(0,o.jsx)(C.l.LeadingVisual,{children:k?(0,o.jsx)(G.FoldIcon,{}):(0,o.jsx)(G.UnfoldIcon,{})}),(0,o.jsx)("span",{children:k?"Collapse non-diff lines":"Expand all lines"})]}),g[9]=k,g[10]=R,g[11]=s):s=g[11],g[12]!==I||g[13]!==R?(l=(I||R)&&(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]}),g[12]=I,g[13]=R,g[14]=l):l=g[14],g[15]!==x||g[16]!==b||g[17]!==v.name||g[18]!==v.ownerLogin?(d=(0,eT.nD_)({repo:v.name,owner:v.ownerLogin,filePath:b,commitish:x}),g[15]=x,g[16]=b,g[17]=v.name,g[18]=v.ownerLogin,g[19]=d):d=g[19];let $=void 0===j||j?void 0:"Action unavailable";return g[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.EyeIcon,{})}),g[20]=u):u=g[20],g[21]!==d||g[22]!==$?(m=(0,o.jsxs)(C.l.LinkItem,{href:d,inactiveText:$,children:[u,"View file"]}),g[21]=d,g[22]=$,g[23]=m):m=g[23],g[24]!==y||g[25]!==O||g[26]!==P||g[27]!==b||g[28]!==v.name||g[29]!==v.ownerLogin||g[30]!==D||g[31]!==F?(f=y&&F&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.LinkItem,{href:(0,eT.Nyd)({repo:v.name,owner:v.ownerLogin,filePath:b,commitish:y,returnToPrPath:D}),inactiveText:P?void 0:"Action unavailable",children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.PencilIcon,{})}),"Edit file"]}),(0,o.jsxs)(C.l.LinkItem,{variant:"danger",href:(0,eT.Y65)({repo:v.name,owner:v.ownerLogin,filePath:b,commitish:y}),inactiveText:O?void 0:"Action unavailable",children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.TrashIcon,{})}),"Delete file"]})]}),g[24]=y,g[25]=O,g[26]=P,g[27]=b,g[28]=v.name,g[29]=v.ownerLogin,g[30]=D,g[31]=F,g[32]=f):f=g[32],g[33]!==E||g[34]!==T?(h=E&&T&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]}),(0,o.jsxs)(C.l.LinkItem,{className:al.A["hide-on-desktop"],href:T,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.ShieldLockIcon,{})}),E]})]}),g[33]=E,g[34]=T,g[35]=h):h=g[35],g[36]!==s||g[37]!==l||g[38]!==m||g[39]!==f||g[40]!==h||g[41]!==n||g[42]!==i||g[43]!==a||g[44]!==r?(p=(0,o.jsxs)(eG.W,{children:[t,(0,o.jsx)(eG.W.Overlay,{children:(0,o.jsxs)(C.l,{children:[n,i,a,r,s,l,m,f,h]})})]}),g[36]=s,g[37]=l,g[38]=m,g[39]=f,g[40]=h,g[41]=n,g[42]=i,g[43]=a,g[44]=r,g[45]=p):p=g[45],p}:function({oid:e,path:t,repo:n,branchName:i,isViewable:a=!0,isDeleteable:r=!0,isEditable:s=!0,shouldShowEditOptions:l=!0,copilotDiffChatProps:d,returnToPullRequestPath:c,onCommentOnFile:u,onCopyPath:m,onExpandLines:f,areLinesExpanded:h,richDiffToggle:p,codeownersText:g,codeownersUrl:x}){return(0,o.jsxs)(eG.W,{children:[(0,o.jsx)(eG.W.Anchor,{children:(0,o.jsx)(H.K,{icon:G.KebabHorizontalIcon,"aria-label":"More options",variant:"invisible",size:"small"})}),(0,o.jsx)(eG.W.Overlay,{children:(0,o.jsxs)(C.l,{children:[p?.richDiff?.canToggleRichDiff&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-medium-up"],onSelect:p.onToggle,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)("span",{className:p.isRichDiff?ao:void 0,children:(0,o.jsx)(G.CheckIcon,{})})}),"Source diff"]}),(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-medium-up"],onSelect:p.onToggle,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)("span",{className:p.isRichDiff?void 0:ao,children:(0,o.jsx)(G.CheckIcon,{})})}),"Rich diff"]}),(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-medium-up"]})]}),d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(as.$,{...d}),(0,o.jsx)(C.l.Divider,{})]}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:u,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CommentIcon,{})}),"Comment on this file"]}),(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]})]}),m&&(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:m,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.CopyIcon,{})}),"Copy file name"]}),f&&(0,o.jsxs)(C.l.Item,{className:al.A["hide-on-desktop"],onSelect:f,children:[(0,o.jsx)(C.l.LeadingVisual,{children:h?(0,o.jsx)(G.FoldIcon,{}):(0,o.jsx)(G.UnfoldIcon,{})}),(0,o.jsx)("span",{children:h?"Collapse non-diff lines":"Expand all lines"})]}),(m||f)&&(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]}),(0,o.jsxs)(C.l.LinkItem,{href:(0,eT.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:a?void 0:"Action unavailable",children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.EyeIcon,{})}),"View file"]}),i&&l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(C.l.LinkItem,{href:(0,eT.Nyd)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:i,returnToPrPath:c}),inactiveText:s?void 0:"Action unavailable",children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.PencilIcon,{})}),"Edit file"]}),(0,o.jsxs)(C.l.LinkItem,{variant:"danger",href:(0,eT.Y65)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:i}),inactiveText:r?void 0:"Action unavailable",children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.TrashIcon,{})}),"Delete file"]})]}),g&&x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.l.Divider,{className:al.A["hide-on-desktop"]}),(0,o.jsxs)(C.l.LinkItem,{className:al.A["hide-on-desktop"],href:x,children:[(0,o.jsx)(C.l.LeadingVisual,{children:(0,o.jsx)(G.ShieldLockIcon,{})}),g]})]})]})})]})};try{ad.displayName||(ad.displayName="BlobActionsMenu")}catch{}let ac="MarkAsViewedButton-module__viewed--czELS",au="MarkAsViewedButton-module__iconOnly--tQ1ah",am=(0,d.Z6)()?function(e,t){let n,i,a,r,s=(0,c.c)(10),{onSuccess:l,onError:o}=t,d=`${e}/file_review`;return s[0]!==d?(n=async e=>{let{viewedStatus:t,path:n}=e,i=await (0,ed.Sr)(`${d}`,{method:t?"POST":"DELETE",headers:{Accept:"application/json"},body:{path:n,viewed:t?"viewed":void 0,_method:t?void 0:"delete"}}),a=await i.json();if(i.ok)return a;throw Error(a.error||"Unknown error occurred",{cause:i.status})},s[0]=d,s[1]=n):n=s[1],s[2]!==l?(i=()=>{l()},s[2]=l,s[3]=i):i=s[3],s[4]!==o?(a=e=>{o(e)},s[4]=o,s[5]=a):a=s[5],s[6]!==n||s[7]!==i||s[8]!==a?(r={mutationFn:n,onSuccess:i,onError:a},s[6]=n,s[7]=i,s[8]=a,s[9]=r):r=s[9],(0,et.n)(r)}:function(e,{onSuccess:t,onError:n}){let i=`${e}/file_review`;return(0,et.n)({mutationFn:async({viewedStatus:e,path:t})=>{let n=await (0,ed.Sr)(`${i}`,{method:e?"POST":"DELETE",headers:{Accept:"application/json"},body:{path:t,viewed:e?"viewed":void 0,_method:e?void 0:"delete"}}),a=await n.json();if(n.ok)return a;throw Error(a.error||"Unknown error occurred",{cause:n.status})},onSuccess:()=>{t()},onError:e=>{n(e)}})},af=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(27),{basePath:u,inactive:m,inactiveTooltip:f,path:h,setIsCollapsed:p}=e,g=void 0!==m&&m,x=(0,D.Mv)(h);d[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:ap,onError:ah},d[0]=t):t=d[0];let{mutate:v}=am(u,t),{setDiffViewed:y}=(0,D.Ud)(),j=(0,D.j5)(),{navigateToNext:C}=n7();d[1]!==g||d[2]!==j||d[3]!==x||d[4]!==C||d[5]!==h||d[6]!==y||d[7]!==p||d[8]!==v?(n=()=>{g||(v({viewedStatus:!x,path:h}),y(h,!x),j?C():p(!x))},d[1]=g,d[2]=j,d[3]=x,d[4]=C,d[5]=h,d[6]=y,d[7]=p,d[8]=v,d[9]=n):n=d[9];let w=n;d[10]!==x?(i=x?(0,o.jsx)(G.CheckboxFillIcon,{className:"color-fg-accent"}):(0,o.jsx)("svg",{"aria-hidden":"true",fill:"none",height:"16",role:"img",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{clipRule:"evenodd",d:"M2.5 2.75C2.5 2.61193 2.61193 2.5 2.75 2.5H13.25C13.3881 2.5 13.5 2.61193 13.5 2.75V13.25C13.5 13.3881 13.3881 13.5 13.25 13.5H2.75C2.61193 13.5 2.5 13.3881 2.5 13.25V2.75ZM2.75 1C1.7835 1 1 1.7835 1 2.75V13.25C1 14.2165 1.7835 15 2.75 15H13.25C14.2165 15 15 14.2165 15 13.25V2.75C15 1.7835 14.2165 1 13.25 1H2.75Z",fill:"currentColor",fillRule:"evenodd"})}),d[10]=x,d[11]=i):i=d[11];let N=i,S=x?"Viewed":"Not Viewed";d[12]!==N?(a=()=>N,d[12]=N,d[13]=a):a=d[13];let L=x&&ac;d[14]!==L?(r=(0,b.$)(L,au),d[14]=L,d[15]=r):r=d[15],d[16]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)("span",{className:al.A["hide-on-mobile"],children:"Viewed"}),d[16]=s):s=d[16],d[17]!==w||d[18]!==g||d[19]!==x||d[20]!==S||d[21]!==a||d[22]!==r?(l=(0,o.jsx)(Z.Q,{"aria-pressed":x,"aria-label":S,inactive:g,size:"small",variant:"default",leadingVisual:a,className:r,onClick:w,children:s}),d[17]=w,d[18]=g,d[19]=x,d[20]=S,d[21]=a,d[22]=r,d[23]=l):l=d[23];let _=l;if(!g||!f)return _;{let e;return d[24]!==_||d[25]!==f?(e=(0,o.jsx)(O.m,{text:f,children:_}),d[24]=_,d[25]=f,d[26]=e):e=d[26],e}}:function({basePath:e,inactive:t=!1,inactiveTooltip:n,path:i,setIsCollapsed:a}){let r=(0,D.Mv)(i),{mutate:s}=am(e,{onSuccess:()=>{},onError:()=>{}}),{setDiffViewed:l}=(0,D.Ud)(),d=(0,D.j5)(),{navigateToNext:c}=n7(),u=(0,v.useCallback)(()=>{t||(s({viewedStatus:!r,path:i}),l(i,!r),d?c():a(!r))},[s,t,r,i,l,d,c,a]),m=(0,v.useMemo)(()=>r?(0,o.jsx)(G.CheckboxFillIcon,{className:"color-fg-accent"}):(0,o.jsx)("svg",{"aria-hidden":"true",fill:"none",height:"16",role:"img",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{clipRule:"evenodd",d:"M2.5 2.75C2.5 2.61193 2.61193 2.5 2.75 2.5H13.25C13.3881 2.5 13.5 2.61193 13.5 2.75V13.25C13.5 13.3881 13.3881 13.5 13.25 13.5H2.75C2.61193 13.5 2.5 13.3881 2.5 13.25V2.75ZM2.75 1C1.7835 1 1 1.7835 1 2.75V13.25C1 14.2165 1.7835 15 2.75 15H13.25C14.2165 15 15 14.2165 15 13.25V2.75C15 1.7835 14.2165 1 13.25 1H2.75Z",fill:"currentColor",fillRule:"evenodd"})}),[r]),f=(0,o.jsx)(Z.Q,{"aria-pressed":r,"aria-label":r?"Viewed":"Not Viewed",inactive:t,size:"small",variant:"default",leadingVisual:()=>m,className:(0,b.$)(r&&ac,au),onClick:u,children:(0,o.jsx)("span",{className:al.A["hide-on-mobile"],children:"Viewed"})});return t&&n?(0,o.jsx)(O.m,{text:n,children:f}):f};function ah(){}function ap(){}try{af.displayName||(af.displayName="MarkAsViewedButton")}catch{}var ag=n(79634);function ax({basePath:e,effectiveRange:t,path:n}){return[Y.uT.richDiff,e,`baseOid:${t.baseOid}`,`headOid:${t.headOid}`,`path:${n}`]}let ab=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(11),{basePath:r,path:s}=e,l=(0,D.L3)();a[0]!==r||a[1]!==l||a[2]!==s?(t=ax({basePath:r,path:s,...l}),a[0]=r,a[1]=l,a[2]=s,a[3]=t):t=a[3];let o=t;a[4]!==r||a[5]!==l||a[6]!==s?(n={path:s,basePath:r,...l,signal:void 0},a[4]=r,a[5]=l,a[6]=s,a[7]=n):n=a[7];let d=n;return a[8]!==d||a[9]!==o?(i={fetcher:av,key:o,args:d},a[8]=d,a[9]=o,a[10]=i):i=a[10],i}:function({basePath:e,path:t}){let n=(0,D.L3)();return{fetcher:av,key:ax({basePath:e,path:t,...n}),args:{path:t,basePath:e,...n,signal:void 0}}};async function av({basePath:e,fullDiff:t,effectiveRange:n,path:i,signal:a}){let r=new URLSearchParams;r.append("path",i),n.baseOid===t.baseOid?r.append("range",n.headOid):r.append("range",`${n.baseOid}..${n.headOid}`);let s=`${e}/page_data/${Y.uT.richDiff}?${r.toString()}`;try{let e=await (0,ed.Sr)(s,{signal:a});if(a?.aborted)return;let t=await (0,en.hp)(e);return(0,en.R)(e,t),t??void 0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}}var ay=n(15697);function aj(e,t){if(e.type!==t.type)return!1;let n="CONTEXT"===e.type||"ADDITION"===e.type,i="DELETION"===e.type;return n&&e.right===t.line||i&&e.left===t.line}function aC({diffSummary:e,commentPreference:t,lineSpacingPreference:n,isCollapsed:i}){let a=n===f.Ud.Compact?20:25,r=e?Math.max(1,Math.ceil(e.linesChanged/5)):1,s=0,l=0;if(i)return 50;if(t===f.sI.Visible){let t=0,n=0;for(let i of Object.values(e?.markersMap||{}))t+=i.threads.length,n+=i.annotations.length;s=500*t,l=300*n}return 50+a*(e?.linesChanged??5)+s+l+6*r*a}function aw({diffManuallyExpanded:e,headBranchName:t,headRepoName:n,headRepoOwner:i,diffLines:a,path:r,isSelected:s=!1,reviewed:l,...d}){let c=(0,D.Kp)(),u=(0,D.JA)(),{fetchContextLines:m}=(0,D.QV)(),f=(0,D.L3)(),h=f.hideWhitespace?"1":"0",p=ab({basePath:c,path:r}),g=(0,v.useRef)(null),x=(0,v.useRef)(null),{helpUrl:y}=(0,ag.X)(),j=(0,D.kN)(r),{updateAllFilesCollapsedStatus:C,updateFileCollapsedStatus:w}=(0,D.JR)(),N=(0,D.GR)(),[_,I]=(0,v.useState)(!1),[R,k]=(0,v.useState)(d.richDiff?.defaultToRichDiff??!1),A=(0,eL.G7)("pr_simple_diffs"),E=(0,D.Fm)(r),T=(0,v.useMemo)(()=>{if(A)return aC({diffSummary:E,commentPreference:d.currentUser.commentsPreference,lineSpacingPreference:d.currentUser.lineSpacing,isCollapsed:j})},[d.currentUser.commentsPreference,d.currentUser.lineSpacing,E,j,A]),O=(0,D.ne)(r),P=(0,L.dG)({basePath:c}),F=(0,L.hG)({diffPath:r,codeownersData:P?.data}),$=(0,v.useMemo)(()=>O?O[te.zW]?.threads??[]:[],[O]),M=(0,v.useMemo)(()=>u?function(e,t,n){let i=[],a=t.hunkPositions[n];if(!a)return i;let r=0,s=a[0];if(!s)return i;let l=!1;for(let t of e)if(l){if(i.push(t),aj(t,s.endLine)&&(l=!1,!(s=a[++r])))break}else aj(t,s.startLine)&&(l=!0,i.push(s.headerLine),i.push(t));return i}(a,u,r):a,[u,r,a]),B=(0,v.useCallback)(()=>{w(r,!1)},[r,w]),V=(0,v.useCallback)(()=>{N()&&j&&B()},[j,B,N]),U=(0,v.useCallback)(()=>{(0,S.K3)(),V()},[V]),q=(0,v.useCallback)(()=>{(0,n6.o9)()===d.pathDigest&&j&&B()},[d.pathDigest,B,j]),z=(0,v.useCallback)(()=>{V(),q()},[V,q]);(0,v.useEffect)(()=>{z()},[]),(0,v.useEffect)(()=>(ex.cg?.addEventListener("hashchange",z),()=>{ex.cg?.removeEventListener("hashchange",z)}),[z]);let K=(0,v.useCallback)((e,t,n)=>{if(n&&n.altKey)C(e);else{if(w(t,e),!e)return;ex.cg?.requestAnimationFrame(()=>{let e=g.current?.getBoundingClientRect();!e||e.top<62&&ex.cg?.scrollTo({top:e.top+ex.cg.scrollY-62})})}},[C,w]),W=(0,v.useRef)((0,ay.B)({diffSummary:E})),[Z,Q]=(0,v.useState)(!1),X=(0,v.useCallback)(async e=>{U(),W.current.push(e),m({contextLineRanges:W.current,path:r,w:h})},[U,m,r,h]),J=(0,v.useCallback)(async()=>{await m({contextLineRanges:[],path:r})},[m,r]),Y=(0,v.useMemo)(()=>{if(d.isBinary||d.isSubmodule||d.isTooBig||(0,at.dK)({linesChanged:d.linesChanged,newTreeEntry:d.newTreeEntry,oldTreeEntry:d.oldTreeEntry,status:d.status,truncatedReason:d.truncatedReason}))return!1;if(Z)return!0;if(0===M.length)return!1;if((M[1]?.blobLineNumber||0)>1)return!0;let e=M.length,t=M[e-1]?.blobLineNumber||0,n=d.newTreeEntry?.lineCount||0;return!!(t<n)||!!(e-1<n)},[d.isBinary,d.isSubmodule,d.isTooBig,d.linesChanged,d.newTreeEntry,d.oldTreeEntry,d.status,d.truncatedReason,M,Z]),ee=(0,v.useCallback)(async()=>{let e,t;W.current=[],Z||W.current.push({start:1,end:Math.max(d.oldTreeEntry?.lineCount??0,d.newTreeEntry?.lineCount??0)});let n=document.activeElement;await m({contextLineRanges:W.current,path:r,w:h}),Q(!Z),n&&(e=null,t=null,n&&(n.hasAttribute("data-grid-cell-id")&&(e=n.getAttribute("data-grid-cell-id")),n.hasAttribute("data-file-path")&&(t=n.getAttribute("data-file-path"))),setTimeout(()=>{if(e){let t=document.querySelector(`[data-grid-cell-id="${e}"]`);if(t)return void t.focus()}if(t){let e=document.querySelector(`button[data-file-path="${t}"]`);e&&e.focus()}},0))},[Z,d.oldTreeEntry?.lineCount,d.newTreeEntry?.lineCount,m,r,h]),et=(0,v.useCallback)(()=>k(!R),[R]),en=(0,v.useMemo)(()=>d.richDiff?.canToggleRichDiff?{richDiff:d.richDiff,isRichDiff:R,onToggle:et}:void 0,[d.richDiff,R,et]),ei=(0,v.useMemo)(()=>F&&(F.isOwnedByViewer||F.owners.length>0)?ar(F.isOwnedByViewer,F.owners,void 0,d.currentUser.login):void 0,[F,d.currentUser.login]),ea=(0,v.useMemo)(()=>F?.ruleUrl,[F]),er=(0,v.useMemo)(()=>d.currentUser.canComment?()=>I(!0):void 0,[d.currentUser.canComment]),es=(0,v.useCallback)(()=>navigator.clipboard?.writeText(r),[r]),el=(0,v.useMemo)(()=>Y?ee:void 0,[Y,ee]),eo=(0,v.useMemo)(()=>({richDiff:d.richDiff,showRichDiff:R,onToggleRichDiff:k,queryConfig:p}),[d.richDiff,R,p]),ed=(0,v.useMemo)(()=>{let e=new Set([]);return u&&e.add(ai.YR.diffStats).add(ai.YR.expandLines),f.fullDiff.headOid!==f.effectiveRange.headOid&&e.add(ai.YR.markAsViewed),e},[u,f.effectiveRange.headOid,f.fullDiff.headOid]),{disabledFeatures:ec,disabledReasons:eu}=(0,v.useMemo)(()=>{let e=new Set([]),t=new Map;return u&&(e.add(ai.YR.markAsViewed),t.set(ai.YR.markAsViewed,"This file can only be marked as viewed on the \u201CAll files\u201D page")),{disabledFeatures:e,disabledReasons:t}},[u]);return(0,o.jsx)(an.oO,{loadDiff:J,...d,addFileCommentButtonRef:x,diffManuallyExpanded:e,estimatedDiffHeight:T,fileComments:$,hiddenFeatures:ed,isAddingFileComment:_,isSelected:s,leftSideContent:(0,o.jsx)(v.Suspense,{children:(0,o.jsx)(aa,{className:(0,b.$)("px-1 flex-items-center flex-order-2 flex-sm-order-1",al.A["hide-on-mobile"]),diffPath:r,pullRequestBasePath:c,viewerLogin:d.currentUser.login})}),rightSideContent:(0,o.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[!ed.has(ai.YR.markAsViewed)&&(0,o.jsx)(af,{path:r,basePath:c,inactive:ec.has(ai.YR.markAsViewed)||!!u,inactiveTooltip:eu.get(ai.YR.markAsViewed),setIsCollapsed:e=>K(e,r)}),d.currentUser.canComment&&(0,o.jsx)(H.K,{ref:x,icon:G.CommentIcon,"aria-label":"Comment on this file","aria-expanded":_,variant:"invisible",size:"small",onClick:()=>I(!0),className:al.A["hide-on-mobile"]}),(0,o.jsx)(ad,{oid:"REMOVED"===d.status&&d.oldCommitOid?d.oldCommitOid:d.newCommitOid||"",path:r,repo:{name:n||d.repository.name,ownerLogin:i||d.repository.ownerLogin},isViewable:!d.isSubmodule,isDeleteable:!d.isSubmodule,isEditable:!d.isSubmodule,shouldShowEditOptions:d.currentUser.shouldDisplayEditOptions,branchName:t,returnToPullRequestPath:c,onCommentOnFile:er,onCopyPath:es,onExpandLines:el,areLinesExpanded:Z,richDiffToggle:en,codeownersText:ei,codeownersUrl:ea})]}),canExpandOrCollapseLines:Y,expandAllContextLines:ee,hasExpandedAllRanges:Z,addInjectedContextLines:X,onToggleCollapse:(e,t)=>K(t,r,e),path:r,ref:g,setIsAddingFileComment:I,collapsed:j,helpUrl:y,linesAdded:E?.linesAdded||d.linesAdded||0,linesChanged:E?.linesChanged||d.linesChanged||0,linesDeleted:E?.linesDeleted||d.linesDeleted||0,diffLines:M,richDiffState:eo})}try{aw.displayName||(aw.displayName="PullRequestDiff")}catch{}let aN=(0,v.memo)((0,d.Z6)()?function(e){let t,n=(0,c.c)(9),{linesAdded:i,linesChanged:a,linesDeleted:r,newTreeEntry:s,oldTreeEntry:l,path:d,pathDigest:u,status:m}=e;return n[0]!==i||n[1]!==a||n[2]!==r||n[3]!==s||n[4]!==l||n[5]!==d||n[6]!==u||n[7]!==m?(t=(0,o.jsx)(an.Ao,{linesAdded:i,linesChanged:a,linesDeleted:r,newTreeEntry:s,oldTreeEntry:l,path:d,pathDigest:u,status:m}),n[0]=i,n[1]=a,n[2]=r,n[3]=s,n[4]=l,n[5]=d,n[6]=u,n[7]=m,n[8]=t):t=n[8],t}:function({linesAdded:e,linesChanged:t,linesDeleted:n,newTreeEntry:i,oldTreeEntry:a,path:r,pathDigest:s,status:l}){return(0,o.jsx)(an.Ao,{linesAdded:e,linesChanged:t,linesDeleted:n,newTreeEntry:i,oldTreeEntry:a,path:r,pathDigest:s,status:l})});try{aN.displayName||(aN.displayName="PullRequestDiffEntryErrorFallback")}catch{}var aS=n(81945),aL=n(29731),aD=n(8431);let a_=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u=(0,c.c)(15),{ariaLabel:f,testId:h,id:p,approximateLineCount:g,approximateDiffHeight:x}=e,{data:b}=(0,m.ID)(),v=b?.lineSpacing==="compact"?20:25,y=x??v*(void 0===g?5:g);return u[0]!==h?(t=(0,aL.G)(h),u[0]=h,u[1]=t):t=u[1],u[2]!==y?(n={minHeight:y},u[2]=y,u[3]=n):n=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),a=(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),r=(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),s=(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),u[4]=i,u[5]=a,u[6]=r,u[7]=s):(i=u[4],a=u[5],r=u[6],s=u[7]),u[8]!==n?(l=(0,o.jsx)("div",{className:"border borderColor-muted",children:(0,o.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",style:n,children:[i,a,r,s]})}),u[8]=n,u[9]=l):l=u[9],u[10]!==f||u[11]!==p||u[12]!==t||u[13]!==l?(d=(0,o.jsx)("div",{className:aD.A.diffTargetable,role:"region","aria-label":f,...t,id:p,children:l}),u[10]=f,u[11]=p,u[12]=t,u[13]=l,u[14]=d):d=u[14],d}:function({ariaLabel:e,testId:t,id:n,approximateLineCount:i=5,approximateDiffHeight:a}){let{data:r}=(0,m.ID)(),s=r?.lineSpacing==="compact"?20:25;return(0,o.jsx)("div",{className:aD.A.diffTargetable,role:"region","aria-label":e,...(0,aL.G)(t),id:n,children:(0,o.jsx)("div",{className:"border borderColor-muted",children:(0,o.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",style:{minHeight:a??s*i},children:[(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"}),(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"})]})})})});try{a_.displayName||(a_.displayName="DiffEntryLoadingSkeleton")}catch{}var aI=n(90047),aR=n(19976),ak=n(73189),aA=n(21132);let aE=(0,d.Z6)()?function(){let e,t=(0,c.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,o.jsx)(td.E,{border:!1,spacious:!0,children:(0,o.jsx)(td.E.Heading,{children:"No files matched your search"})})}),t[0]=e):e=t[0],e}:function(){return(0,o.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,o.jsx)(td.E,{border:!1,spacious:!0,children:(0,o.jsx)(td.E.Heading,{children:"No files matched your search"})})})};try{aE.displayName||(aE.displayName="FilesChangedFilterBlankSlate")}catch{}let aT=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(69),{diffEntryPathDigest:u,currentUser:m,diffManuallyExpanded:f,filteredDiffSummaries:h,headBranchName:p,headRepoName:g,headRepoOwner:x,isSelectingLineOrRange:y,pullRequestGlobalRelayId:j,repository:C,onScrollToAndFocusEntry:w}=e,N=(0,D.m9)()||u,S=(0,D.mY)();if(d[0]!==N||d[1]!==S){let e;d[3]!==N?(e=e=>e.pathDigest===N,d[3]=N,d[4]=e):e=d[4],t=S.find(e),d[0]=N,d[1]=S,d[2]=t}else t=d[2];let L=t,_=(0,D.Fm)(L?.path||""),I=L?.path||"",R=(0,D.jT)(I),A=(0,D.j5)(),E=(0,v.useRef)(!1);d[5]!==w||d[6]!==L?.loadingStatus||d[7]!==N?(n=()=>{E.current||L?.loadingStatus===aA.s.Loaded&&(w(N,{focusPathName:!0}),E.current=!0)},d[5]=w,d[6]=L?.loadingStatus,d[7]=N,d[8]=n):n=d[8];let T=L?.loadingStatus;if(d[9]!==y||d[10]!==w||d[11]!==N||d[12]!==T?(i=[y,w,T,N],d[9]=y,d[10]=w,d[11]=N,d[12]=T,d[13]=i):i=d[13],(0,v.useEffect)(n,i),!h.some(e=>e.path===I)){let e;return d[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(aE,{}),d[14]=e):e=d[14],e}if(L&&L.loadingStatus!==aA.s.Loaded){let e,t,n,i,a=`Loading ${I}`,r=`eager-load-${I}`,s=`diff-${I}`;d[15]!==a||d[16]!==r||d[17]!==s?(e=(0,o.jsx)(a_,{ariaLabel:a,testId:r,approximateLineCount:5,id:s}),d[15]=a,d[16]=r,d[17]=s,d[18]=e):e=d[18];let l=e,c=`diff-${I}`;d[19]===Symbol.for("react.memo_cache_sentinel")?(t=(0,b.$)(aD.A.diffTargetable,aD.A.diff),d[19]=t):t=d[19];let u=`${N}_${I}`,m=`#diff-${N}`,f=_?.linesAdded??0,h=_?.linesChanged??0,p=_?.linesDeleted??0;return d[20]!==I||d[21]!==A||d[22]!==m||d[23]!==f||d[24]!==h||d[25]!==p?(n=(0,o.jsx)("div",{className:aD.A.diffHeaderWrapper,children:(0,o.jsx)(aI.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:m,canToggleRichDiff:!1,linesAdded:f,linesChanged:h,linesDeleted:p,newPath:I,patchStatus:"",path:I,onToggleExpandAllLines:ak.l,onToggleFileCollapsed:ak.l,onToggleDiffDisplay:ak.l,isInSingleFileMode:A})}),d[20]=I,d[21]=A,d[22]=m,d[23]=f,d[24]=h,d[25]=p,d[26]=n):n=d[26],d[27]!==l||d[28]!==c||d[29]!==u||d[30]!==n?(i=(0,o.jsxs)("div",{role:"region",id:c,className:t,"data-targeted":!1,"data-hpc":!0,children:[n,l]},u),d[27]=l,d[28]=c,d[29]=u,d[30]=n,d[31]=i):i=d[31],i}if(!R){let e;return d[32]!==I||d[33]!==u?(e=(0,o.jsx)(aN,{linesAdded:0,linesChanged:0,linesDeleted:0,path:I,pathDigest:u,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"}),d[32]=I,d[33]=u,d[34]=e):e=d[34],e}d[35]!==R?(a=(0,o.jsx)(aN,{...R}),d[35]=R,d[36]=a):a=d[36];let O=R.reviewed??!1;return d[37]!==R.diffLines||d[38]!==R.diffSize||d[39]!==R.helpUrl||d[40]!==R.isBinary||d[41]!==R.isTooBig||d[42]!==R.linesAdded||d[43]!==R.linesChanged||d[44]!==R.linesDeleted||d[45]!==R.newCommitOid||d[46]!==R.newTreeEntry||d[47]!==R.objectId||d[48]!==R.oldCommitOid||d[49]!==R.oldTreeEntry||d[50]!==R.path||d[51]!==R.pathDigest||d[52]!==R.richDiff||d[53]!==R.status||d[54]!==R.submodule||d[55]!==R.truncatedReason||d[56]!==m||d[57]!==f||d[58]!==p||d[59]!==g||d[60]!==x||d[61]!==j||d[62]!==C||d[63]!==O?(r=(0,o.jsx)(aw,{changeType:R.status,currentUser:m,diffLines:R.diffLines,diffManuallyExpanded:f,diffSize:R.diffSize,headBranchName:p,headRepoName:g,headRepoOwner:x,helpUrl:R.helpUrl,isBinary:R.isBinary,isSelected:!1,isTooBig:R.isTooBig,linesAdded:R.linesAdded,linesChanged:R.linesChanged,linesDeleted:R.linesDeleted,newCommitOid:R.newCommitOid,newTreeEntry:R.newTreeEntry,objectId:R.objectId,oldCommitOid:R.oldCommitOid,oldTreeEntry:R.oldTreeEntry,path:R.path,pathDigest:R.pathDigest,pullRequestGlobalRelayId:j,repository:C,reviewed:O,richDiff:R.richDiff,status:R.status,submodule:R.submodule,truncatedReason:R.truncatedReason}),d[37]=R.diffLines,d[38]=R.diffSize,d[39]=R.helpUrl,d[40]=R.isBinary,d[41]=R.isTooBig,d[42]=R.linesAdded,d[43]=R.linesChanged,d[44]=R.linesDeleted,d[45]=R.newCommitOid,d[46]=R.newTreeEntry,d[47]=R.objectId,d[48]=R.oldCommitOid,d[49]=R.oldTreeEntry,d[50]=R.path,d[51]=R.pathDigest,d[52]=R.richDiff,d[53]=R.status,d[54]=R.submodule,d[55]=R.truncatedReason,d[56]=m,d[57]=f,d[58]=p,d[59]=g,d[60]=x,d[61]=j,d[62]=C,d[63]=O,d[64]=r):r=d[64],d[65]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(aR.nq,{}),d[65]=s):s=d[65],d[66]!==a||d[67]!==r?(l=(0,o.jsxs)(k.t,{fallback:a,children:[r,s]}),d[66]=a,d[67]=r,d[68]=l):l=d[68],l}:function({diffEntryPathDigest:e,currentUser:t,diffManuallyExpanded:n,filteredDiffSummaries:i,headBranchName:a,headRepoName:r,headRepoOwner:s,isSelectingLineOrRange:l,pullRequestGlobalRelayId:d,repository:c,onScrollToAndFocusEntry:u}){let m=(0,D.m9)()||e,f=(0,D.mY)().find(e=>e.pathDigest===m),h=(0,D.Fm)(f?.path||""),p=f?.path||"",g=(0,D.jT)(p),x=(0,D.j5)(),y=(0,v.useRef)(!1);if((0,v.useEffect)(()=>{y.current||f?.loadingStatus===aA.s.Loaded&&(u(m,{focusPathName:!0}),y.current=!0)},[l,u,f?.loadingStatus,m]),!i.some(e=>e.path===p))return(0,o.jsx)(aE,{});if(f&&f.loadingStatus!==aA.s.Loaded){let e=(0,o.jsx)(a_,{ariaLabel:`Loading ${p}`,testId:`eager-load-${p}`,approximateLineCount:5,id:`diff-${p}`});return(0,o.jsxs)("div",{role:"region",id:`diff-${p}`,className:(0,b.$)(aD.A.diffTargetable,aD.A.diff),"data-targeted":!1,"data-hpc":!0,children:[(0,o.jsx)("div",{className:aD.A.diffHeaderWrapper,children:(0,o.jsx)(aI.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:`#diff-${m}`,canToggleRichDiff:!1,linesAdded:h?.linesAdded??0,linesChanged:h?.linesChanged??0,linesDeleted:h?.linesDeleted??0,newPath:p,patchStatus:"",path:p,onToggleExpandAllLines:ak.l,onToggleFileCollapsed:ak.l,onToggleDiffDisplay:ak.l,isInSingleFileMode:x})}),e]},`${m}_${p}`)}return g?(0,o.jsxs)(k.t,{fallback:(0,o.jsx)(aN,{...g}),children:[(0,o.jsx)(aw,{changeType:g.status,currentUser:t,diffLines:g.diffLines,diffManuallyExpanded:n,diffSize:g.diffSize,headBranchName:a,headRepoName:r,headRepoOwner:s,helpUrl:g.helpUrl,isBinary:g.isBinary,isSelected:!1,isTooBig:g.isTooBig,linesAdded:g.linesAdded,linesChanged:g.linesChanged,linesDeleted:g.linesDeleted,newCommitOid:g.newCommitOid,newTreeEntry:g.newTreeEntry,objectId:g.objectId,oldCommitOid:g.oldCommitOid,oldTreeEntry:g.oldTreeEntry,path:g.path,pathDigest:g.pathDigest,pullRequestGlobalRelayId:d,repository:c,reviewed:g.reviewed??!1,richDiff:g.richDiff,status:g.status,submodule:g.submodule,truncatedReason:g.truncatedReason}),(0,o.jsx)(aR.nq,{})]}):(0,o.jsx)(aN,{linesAdded:0,linesChanged:0,linesDeleted:0,path:p,pathDigest:e,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"})});try{aT.displayName||(aT.displayName="SingleFileModePullRequestDiffEntry")}catch{}let aO=(0,d.Z6)()?function(){let e,t=(0,c.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,o.jsxs)(td.E,{border:!1,spacious:!0,children:[(0,o.jsx)(td.E.Heading,{children:"No changes to show"}),(0,o.jsx)(td.E.Description,{children:"This commit does not include any file changes"})]})}),t[0]=e):e=t[0],e}:function(){return(0,o.jsx)("div",{className:"color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",children:(0,o.jsxs)(td.E,{border:!1,spacious:!0,children:[(0,o.jsx)(td.E.Heading,{children:"No changes to show"}),(0,o.jsx)(td.E.Description,{children:"This commit does not include any file changes"})]})})};try{aO.displayName||(aO.displayName="EmptyPullRequestBlankSlate")}catch{}let aP=(0,d.Z6)()?function(){let e,t,n,i,a,r,s=(0,c.c)(14),l=(0,v.useRef)(!0),{selectedFullDiffHash:o}=(0,n5.U)();s[0]!==o?(e=(0,n6.jU)(o)??void 0,s[0]=o,s[1]=e):e=s[1];let d=e;s[2]!==o?(t=(0,n6.yI)(o),s[2]=o,s[3]=t):t=s[3];let u=t;s[4]===Symbol.for("react.memo_cache_sentinel")?(n=new Map,s[4]=n):n=s[4];let m=(0,v.useRef)(n);s[5]===Symbol.for("react.memo_cache_sentinel")?(i=()=>m.current,s[5]=i):i=s[5];let f=i;s[6]!==u||s[7]!==o?(a=(e,t)=>{let{focusPathName:n}=void 0===t?{}:t,i=f().get(e);if(!i)return;let a=i,r=i.querySelector("button");if(n&&(r=i.querySelector("a")),u){let e=o.split("-")[0],t=i.querySelector(`[data-line-anchor=diff-${e}]`);t&&(r=a=t)}else l.current||(a=null);if(a){let e=ex.cg?.scrollY??0,t=a.getBoundingClientRect().top+e-57-60;ex.cg?.scrollTo({top:t,left:0})}r&&r.focus(),l.current=!1},s[6]=u,s[7]=o,s[8]=a):a=s[8];let h=a;return s[9]!==u||s[10]!==h||s[11]!==o||s[12]!==d?(r={onScrollToAndFocusEntry:h,selectedFullDiffHash:o,selectedPathDigest:d,isSelectingLineOrRange:u,getTargetableEntriesMap:f},s[9]=u,s[10]=h,s[11]=o,s[12]=d,s[13]=r):r=s[13],r}:function(){let e=(0,v.useRef)(!0),{selectedFullDiffHash:t}=(0,n5.U)(),n=(0,n6.jU)(t)??void 0,i=(0,n6.yI)(t),a=(0,v.useRef)(new Map),r=(0,v.useCallback)(()=>a.current,[]);return{onScrollToAndFocusEntry:(0,v.useCallback)((n,{focusPathName:a}={})=>{let s=r().get(n);if(!s)return;let l=s,o=s.querySelector("button");if(a&&(o=s.querySelector("a")),i){let e=t.split("-")[0],n=s.querySelector(`[data-line-anchor=diff-${e}]`);n&&(o=l=n)}else e.current||(l=null);if(l){let e=ex.cg?.scrollY??0,t=l.getBoundingClientRect().top+e-57-60;ex.cg?.scrollTo({top:t,left:0})}o&&o.focus(),e.current=!1},[r,i,t]),selectedFullDiffHash:t,selectedPathDigest:n,isSelectingLineOrRange:i,getTargetableEntriesMap:r}},aF=(0,v.memo)(function({currentUser:e,filteredDiffSummaries:t,headBranchName:n,headRepoName:i,headRepoOwner:a,pullRequestGlobalRelayId:r,repository:s}){let l=(0,D.HZ)(),d=(0,v.useMemo)(()=>Object.values(l??{}).filter(e=>null!==e),[l])[0],c=(0,D.m9)(),{onScrollToAndFocusEntry:u,getTargetableEntriesMap:m,isSelectingLineOrRange:f}=aP(),h=(0,D.qg)(),p=(0,D.uh)()[0],g=(0,D.zK)(),x=(0,D.mF)(),{navigateToSelectedComment:b,navigateToSelectedAnnotation:y,handleHashUpdate:j}=(0,D.Lh)(),{setSelectedHash:C}=(0,n5.U)(),w=(0,v.useRef)(!0),N=(0,D.mY)().find(e=>e.pathDigest===c),{loadMore:L}=(0,D.pV)(),_=(0,v.useCallback)(()=>{g?b(g):x&&!isNaN(Number(x))?y(Number(x)):c&&N?L(N):!c&&p?.pathDigest&&(C(p.pathDigest),(0,S.Zu)(`diff-${p.pathDigest}`))},[p?.pathDigest,L,y,b,x,g,c,N,C]);if((0,v.useEffect)(()=>{w.current&&(_(),w.current=!1)},[]),(0,v.useEffect)(()=>{let e=()=>{j()};return j(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[j]),0===h)return(0,o.jsx)(aO,{});if(0===t.length)return(0,o.jsx)(aE,{});let I=c||d?.pathDigest||p?.pathDigest;return I?(0,o.jsx)("div",{ref:e=>{let t=m();e?t.set(I,e):t.delete(I)},children:(0,o.jsx)(aT,{diffEntryPathDigest:I,currentUser:e,diffManuallyExpanded:!1,filteredDiffSummaries:t,headBranchName:n,headRepoName:i,headRepoOwner:a,pullRequestGlobalRelayId:r,repository:s,onScrollToAndFocusEntry:u,isSelectingLineOrRange:f})}):null});try{aF.displayName||(aF.displayName="SingleFileModeDiffEntryNavigator")}catch{}let a$=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(4),{lines:r}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={padding:"var(--base-size-6) var(--base-size-8)",borderColor:"var(--borderColor-muted)"},a[0]=t):t=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("div",{className:"border-bottom bgColor-muted rounded-top-2",style:t,children:(0,o.jsx)("div",{className:"d-flex flex-items-center",style:{height:"var(--control-small-size)"},children:(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"})})}),a[1]=n):n=a[1],a[2]!==r?(i=(0,o.jsxs)("div",{className:"border borderColor-muted rounded",children:[n,(0,o.jsx)("div",{className:"d-flex flex-column gap-2 p-3",children:Array.from({length:r||5}).map(aM)})]}),a[2]=r,a[3]=i):i=a[3],i}:function({lines:e}){return(0,o.jsxs)("div",{className:"border borderColor-muted rounded",children:[(0,o.jsx)("div",{className:"border-bottom bgColor-muted rounded-top-2",style:{padding:"var(--base-size-6) var(--base-size-8)",borderColor:"var(--borderColor-muted)"},children:(0,o.jsx)("div",{className:"d-flex flex-items-center",style:{height:"var(--control-small-size)"},children:(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"})})}),(0,o.jsx)("div",{className:"d-flex flex-column gap-2 p-3",children:Array.from({length:e||5}).map((e,t)=>(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"},`loading-skeleton-${t}`))})]})};function aM(e,t){return(0,o.jsx)(aS.O,{height:"sm",variant:"rounded",width:"random"},`loading-skeleton-${t}`)}try{a$.displayName||(a$.displayName="EntireDiffLoadingSkeleton")}catch{}let aB=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a,r=(0,c.c)(15),{progressiveDiffEntry:s,approximateLineCount:l}=e,d=void 0===l?5:l,{loadMore:u}=(0,D.pV)(),m=(0,no.u)("pulls-files-skip-prefer-any-solo-entry"),[f,h]=(0,v.useState)(!1);r[0]!==f||r[1]!==u||r[2]!==s||r[3]!==m?(t=e=>{e[0]?.isIntersecting&&!f&&(h(!0),u(s,{preferAnySoloEntry:!m}))},r[0]=f,r[1]=u,r[2]=s,r[3]=m,r[4]=t):t=r[4],r[5]===Symbol.for("react.memo_cache_sentinel")?(n={rootMargin:"-72px"},r[5]=n):n=r[5];let[p,g]=(0,nV.B)(t,n),x=`Loading ${s.path}`,b=`lazy-load-${s.path}`,y=`diff-${s.pathDigest}`;return r[6]!==d||r[7]!==x||r[8]!==b||r[9]!==y?(i=(0,o.jsx)(a_,{ariaLabel:x,testId:b,id:y,approximateLineCount:d}),r[6]=d,r[7]=x,r[8]=b,r[9]=y,r[10]=i):i=r[10],r[11]!==p||r[12]!==i||r[13]!==g?(a=(0,o.jsx)(nU.X,{onObserve:p,onUnobserve:g,children:i}),r[11]=p,r[12]=i,r[13]=g,r[14]=a):a=r[14],a}:function({progressiveDiffEntry:e,approximateLineCount:t=5}){let{loadMore:n}=(0,D.pV)(),i=(0,no.u)("pulls-files-skip-prefer-any-solo-entry"),[a,r]=(0,v.useState)(!1),[s,l]=(0,nV.B)(t=>{t[0]?.isIntersecting&&!a&&(r(!0),n(e,{preferAnySoloEntry:!i}))},{rootMargin:"-72px"});return(0,o.jsx)(nU.X,{onObserve:s,onUnobserve:l,children:(0,o.jsx)(a_,{ariaLabel:`Loading ${e.path}`,testId:`lazy-load-${e.path}`,id:`diff-${e.pathDigest}`,approximateLineCount:t})})});try{aB.displayName||(aB.displayName="LazyDiffEntryLoadingSkeleton")}catch{}let aV=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(10),{progressiveDiffEntry:r,approximateLineCount:s}=e,l=void 0===s?5:s,{loadMore:d}=(0,D.pV)(),u=(0,no.u)("pulls-files-skip-prefer-any-solo-entry");a[0]!==d||a[1]!==r||a[2]!==u?(t=()=>{d(r,{preferAnySoloEntry:!u})},n=[d,r,u],a[0]=d,a[1]=r,a[2]=u,a[3]=t,a[4]=n):(t=a[3],n=a[4]),(0,v.useEffect)(t,n);let m=`Loading ${r.path}`,f=`eager-load-${r.path}`,h=`diff-${r.pathDigest}`;return a[5]!==l||a[6]!==m||a[7]!==f||a[8]!==h?(i=(0,o.jsx)(a_,{ariaLabel:m,testId:f,id:h,approximateLineCount:l}),a[5]=l,a[6]=m,a[7]=f,a[8]=h,a[9]=i):i=a[9],i}:function({progressiveDiffEntry:e,approximateLineCount:t=5}){let{loadMore:n}=(0,D.pV)(),i=(0,no.u)("pulls-files-skip-prefer-any-solo-entry");return(0,v.useEffect)(()=>{n(e,{preferAnySoloEntry:!i})},[n,e,i]),(0,o.jsx)(a_,{ariaLabel:`Loading ${e.path}`,testId:`eager-load-${e.path}`,id:`diff-${e.pathDigest}`,approximateLineCount:t})});try{aV.displayName||(aV.displayName="EagerDiffEntryLoadingSkeleton")}catch{}let aU=(0,v.memo)((0,d.Z6)()?function(e){let t,n=(0,c.c)(5),{progressiveDiffEntry:i,approximateLineCount:a}=e,r=void 0===a?5:a,s=`Loading ${i.path}`,l=`hidden-load-${i.path}`,d=`diff-${i.pathDigest}`;return n[0]!==r||n[1]!==s||n[2]!==l||n[3]!==d?(t=(0,o.jsx)(a_,{ariaLabel:s,testId:l,id:d,approximateLineCount:r}),n[0]=r,n[1]=s,n[2]=l,n[3]=d,n[4]=t):t=n[4],t}:function({progressiveDiffEntry:e,approximateLineCount:t=5}){return(0,o.jsx)(a_,{ariaLabel:`Loading ${e.path}`,testId:`hidden-load-${e.path}`,id:`diff-${e.pathDigest}`,approximateLineCount:t})});try{aU.displayName||(aU.displayName="HiddenDiffEntryLoadingSkeleton")}catch{}let aG=(0,v.memo)(aq,(e,t)=>e.progressiveDiffEntry.pathDigest===t.progressiveDiffEntry.pathDigest&&e.progressiveDiffEntry.renderMode===t.progressiveDiffEntry.renderMode&&e.isSelected===t.isSelected&&e.currentUser.splitPreference===t.currentUser.splitPreference&&e.currentUser.commentsPreference===t.currentUser.commentsPreference&&e.currentUser.lineSpacing===t.currentUser.lineSpacing),aH=(0,d.Z6)();function aq(e){return aH?function(e){let t,n,i,a,r,s=(0,c.c)(69),{currentUser:l,diffManuallyExpanded:d,headBranchName:u,headRepoName:m,headRepoOwner:f,isSelected:h,isSelectingLineOrRange:p,onScrollToAndFocusEntry:g,progressiveDiffEntry:x,pullRequestGlobalRelayId:y,repository:j,testRenderFn:C}=e,w=void 0!==p&&p,N=(0,D.jT)(x.path),S=(0,D.Fm)(x.path),L=(0,D.j5)();C&&C();let _=(0,v.useRef)(!1);if(s[0]!==h||s[1]!==w||s[2]!==g||s[3]!==x.pathDigest||s[4]!==x.renderMode?(t=()=>{if(!_.current){if(!_.current&&void 0===h){let e=ex.fV.hash??"",t=(0,n6.pd)(e)??"";(t=t.replace("diff-","").replace("#",""))!==x.pathDigest&&(_.current=!0)}if(h&&"HIDE"!==x.renderMode&&(!w||"RENDER"===x.renderMode)){let e=ex.cg?.document.activeElement;if(e?.closest("#diff-file-tree-filter"))return;_.current=!0,g(x.pathDigest)}}},n=[h,w,g,x.pathDigest,x.renderMode],s[0]=h,s[1]=w,s[2]=g,s[3]=x.pathDigest,s[4]=x.renderMode,s[5]=t,s[6]=n):(t=s[5],n=s[6]),(0,v.useEffect)(t,n),"HIDE"===x.renderMode||"LAZY_AUTO_LOAD"===x.renderMode||"EAGER_AUTO_LOAD"===x.renderMode){let e,t,n,i;s[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(o.Fragment,{}),s[7]=e):e=s[7];let a=e,r=S?.linesChanged??5;if((S?.changeType==="REMOVED"||S?.changeType==="DELETED")&&(r=5),"HIDE"===x.renderMode){let e;s[8]!==r||s[9]!==x?(e=(0,o.jsx)(aU,{progressiveDiffEntry:x,approximateLineCount:r}),s[8]=r,s[9]=x,s[10]=e):e=s[10],a=e}else if("LAZY_AUTO_LOAD"===x.renderMode){let e;s[11]!==r||s[12]!==x?(e=(0,o.jsx)(aB,{progressiveDiffEntry:x,approximateLineCount:r}),s[11]=r,s[12]=x,s[13]=e):e=s[13],a=e}else if("EAGER_AUTO_LOAD"===x.renderMode){let e;s[14]!==r||s[15]!==x?(e=(0,o.jsx)(aV,{progressiveDiffEntry:x,approximateLineCount:r}),s[14]=r,s[15]=x,s[16]=e):e=s[16],a=e}let l=`diff-${x.pathDigest}`;s[17]===Symbol.for("react.memo_cache_sentinel")?(t=(0,b.$)(aD.A.diffTargetable,aD.A.diff),s[17]=t):t=s[17];let d=h??!1,c=`${x.pathDigest}_${x.path}`,u=`#diff-${x.pathDigest}`,m=S?.linesAdded??0,f=S?.linesChanged??0,p=S?.linesDeleted??0;return s[18]!==L||s[19]!==x.path||s[20]!==m||s[21]!==f||s[22]!==p||s[23]!==u?(n=(0,o.jsx)("div",{className:aD.A.diffHeaderWrapper,children:(0,o.jsx)(aI.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:u,canToggleRichDiff:!1,linesAdded:m,linesChanged:f,linesDeleted:p,newPath:x.path,patchStatus:"",path:x.path,onToggleExpandAllLines:ak.l,onToggleFileCollapsed:ak.l,onToggleDiffDisplay:ak.l,isInSingleFileMode:L})}),s[18]=L,s[19]=x.path,s[20]=m,s[21]=f,s[22]=p,s[23]=u,s[24]=n):n=s[24],s[25]!==a||s[26]!==n||s[27]!==l||s[28]!==d||s[29]!==c?(i=(0,o.jsxs)("div",{role:"region",id:l,className:t,"data-targeted":d,children:[n,a]},c),s[25]=a,s[26]=n,s[27]=l,s[28]=d,s[29]=c,s[30]=i):i=s[30],i}if(!N){let e;return s[31]!==x.path||s[32]!==x.pathDigest?(e=(0,o.jsx)(aN,{linesAdded:0,linesChanged:0,linesDeleted:0,path:x.path,pathDigest:x.pathDigest,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"}),s[31]=x.path,s[32]=x.pathDigest,s[33]=e):e=s[33],e}s[34]!==N?(i=(0,o.jsx)(aN,{...N}),s[34]=N,s[35]=i):i=s[35];let I=h??!1,R=N.reviewed??!1;return s[36]!==l||s[37]!==N.diffLines||s[38]!==N.diffSize||s[39]!==N.helpUrl||s[40]!==N.isBinary||s[41]!==N.isSubmodule||s[42]!==N.isTooBig||s[43]!==N.linesAdded||s[44]!==N.linesChanged||s[45]!==N.linesDeleted||s[46]!==N.newCommitOid||s[47]!==N.newTreeEntry||s[48]!==N.objectId||s[49]!==N.oldCommitOid||s[50]!==N.oldTreeEntry||s[51]!==N.path||s[52]!==N.pathDigest||s[53]!==N.richDiff||s[54]!==N.status||s[55]!==N.submodule||s[56]!==N.truncatedReason||s[57]!==d||s[58]!==u||s[59]!==m||s[60]!==f||s[61]!==y||s[62]!==j||s[63]!==I||s[64]!==R?(a=(0,o.jsx)(aw,{changeType:N.status,currentUser:l,diffLines:N.diffLines,diffManuallyExpanded:d,diffSize:N.diffSize,headBranchName:u,headRepoName:m,headRepoOwner:f,helpUrl:N.helpUrl,isBinary:N.isBinary,isSelected:I,isSubmodule:N.isSubmodule,isTooBig:N.isTooBig,linesAdded:N.linesAdded,linesChanged:N.linesChanged,linesDeleted:N.linesDeleted,newCommitOid:N.newCommitOid,newTreeEntry:N.newTreeEntry,objectId:N.objectId,oldCommitOid:N.oldCommitOid,oldTreeEntry:N.oldTreeEntry,path:N.path,pathDigest:N.pathDigest,pullRequestGlobalRelayId:y,repository:j,reviewed:R,richDiff:N.richDiff,status:N.status,submodule:N.submodule,truncatedReason:N.truncatedReason}),s[36]=l,s[37]=N.diffLines,s[38]=N.diffSize,s[39]=N.helpUrl,s[40]=N.isBinary,s[41]=N.isSubmodule,s[42]=N.isTooBig,s[43]=N.linesAdded,s[44]=N.linesChanged,s[45]=N.linesDeleted,s[46]=N.newCommitOid,s[47]=N.newTreeEntry,s[48]=N.objectId,s[49]=N.oldCommitOid,s[50]=N.oldTreeEntry,s[51]=N.path,s[52]=N.pathDigest,s[53]=N.richDiff,s[54]=N.status,s[55]=N.submodule,s[56]=N.truncatedReason,s[57]=d,s[58]=u,s[59]=m,s[60]=f,s[61]=y,s[62]=j,s[63]=I,s[64]=R,s[65]=a):a=s[65],s[66]!==i||s[67]!==a?(r=(0,o.jsx)(k.t,{fallback:i,children:a}),s[66]=i,s[67]=a,s[68]=r):r=s[68],r}(e):function({currentUser:e,diffManuallyExpanded:t,headBranchName:n,headRepoName:i,headRepoOwner:a,isSelected:r,isSelectingLineOrRange:s=!1,onScrollToAndFocusEntry:l,progressiveDiffEntry:d,pullRequestGlobalRelayId:c,repository:u,testRenderFn:m}){let f=(0,D.jT)(d.path),h=(0,D.Fm)(d.path),p=(0,D.j5)();m&&m();let g=(0,v.useRef)(!1);if((0,v.useEffect)(()=>{if(!g.current){if(!g.current&&void 0===r){let e=ex.fV.hash??"",t=(0,n6.pd)(e)??"";(t=t.replace("diff-","").replace("#",""))!==d.pathDigest&&(g.current=!0)}if(r&&"HIDE"!==d.renderMode&&(!s||"RENDER"===d.renderMode)){let e=ex.cg?.document.activeElement;if(e?.closest("#diff-file-tree-filter"))return;g.current=!0,l(d.pathDigest)}}},[r,s,l,d.pathDigest,d.renderMode]),"HIDE"===d.renderMode||"LAZY_AUTO_LOAD"===d.renderMode||"EAGER_AUTO_LOAD"===d.renderMode){let e=(0,o.jsx)(o.Fragment,{}),t=h?.linesChanged??5;return(h?.changeType==="REMOVED"||h?.changeType==="DELETED")&&(t=5),"HIDE"===d.renderMode?e=(0,o.jsx)(aU,{progressiveDiffEntry:d,approximateLineCount:t}):"LAZY_AUTO_LOAD"===d.renderMode?e=(0,o.jsx)(aB,{progressiveDiffEntry:d,approximateLineCount:t}):"EAGER_AUTO_LOAD"===d.renderMode&&(e=(0,o.jsx)(aV,{progressiveDiffEntry:d,approximateLineCount:t})),(0,o.jsxs)("div",{role:"region",id:`diff-${d.pathDigest}`,className:(0,b.$)(aD.A.diffTargetable,aD.A.diff),"data-targeted":r??!1,children:[(0,o.jsx)("div",{className:aD.A.diffHeaderWrapper,children:(0,o.jsx)(aI.B,{areLinesExpanded:!1,canExpandOrCollapseLines:!1,fileLinkHref:`#diff-${d.pathDigest}`,canToggleRichDiff:!1,linesAdded:h?.linesAdded??0,linesChanged:h?.linesChanged??0,linesDeleted:h?.linesDeleted??0,newPath:d.path,patchStatus:"",path:d.path,onToggleExpandAllLines:ak.l,onToggleFileCollapsed:ak.l,onToggleDiffDisplay:ak.l,isInSingleFileMode:p})}),e]},`${d.pathDigest}_${d.path}`)}return f?(0,o.jsx)(k.t,{fallback:(0,o.jsx)(aN,{...f}),children:(0,o.jsx)(aw,{changeType:f.status,currentUser:e,diffLines:f.diffLines,diffManuallyExpanded:t,diffSize:f.diffSize,headBranchName:n,headRepoName:i,headRepoOwner:a,helpUrl:f.helpUrl,isBinary:f.isBinary,isSelected:r??!1,isSubmodule:f.isSubmodule,isTooBig:f.isTooBig,linesAdded:f.linesAdded,linesChanged:f.linesChanged,linesDeleted:f.linesDeleted,newCommitOid:f.newCommitOid,newTreeEntry:f.newTreeEntry,objectId:f.objectId,oldCommitOid:f.oldCommitOid,oldTreeEntry:f.oldTreeEntry,path:f.path,pathDigest:f.pathDigest,pullRequestGlobalRelayId:c,repository:u,reviewed:f.reviewed??!1,richDiff:f.richDiff,status:f.status,submodule:f.submodule,truncatedReason:f.truncatedReason})}):(0,o.jsx)(aN,{linesAdded:0,linesChanged:0,linesDeleted:0,path:d.path,pathDigest:d.pathDigest,newTreeEntry:void 0,oldTreeEntry:void 0,status:"MODIFIED"})}(e)}try{aG.displayName||(aG.displayName="ProgressivePullRequestDiffEntry")}catch{}try{aq.displayName||(aq.displayName="ProgressivePullRequestDiffEntryUnmemoized")}catch{}let az="PullRequestDiffsAnimation-module__wrapper--j5QjR",aK="PullRequestDiffsAnimation-module__imageContainer--ISOgX",aW="PullRequestDiffsAnimation-module__image--MMHno",aZ="PullRequestDiffsAnimation-module__firstFrameImage--DV3ZK",aQ="PullRequestDiffsAnimation-module__animatedImage--yjDlC",aX="PullRequestDiffsAnimation-module__reducedMotionImage--cBS3Y";var aJ=n(69895);let aY=n.p+"mona-hifive-first-frame-0d428028d4d7.png",a0=n.p+"mona-hifive-reduced-motion-3a22d8eb870c.png",a1=n.p+"mona-hifive-loop-once-8c78f1af57d0.gif",a2=(0,d.Z6)()?()=>{let e,t,n,i,a,r,s,l,d=(0,c.c)(12),u=(0,aJ.j)(),m=(0,v.useRef)(null),f=(0,v.useRef)(null);d[0]!==u?(e=e=>{e?(e=>{let t;if(u)return;let n=new IntersectionObserver((e,n)=>{for(let i of e)i.isIntersecting&&(t=setTimeout(()=>{i.target.style.display="none",m.current&&(m.current.style.opacity="1"),n.unobserve(i.target)},1e3))},{threshold:1});return f.current=n,n.observe(e),()=>{n.disconnect(),t&&clearTimeout(t)}})(e):f.current&&(f.current.disconnect(),f.current=null)},d[0]=u,d[1]=e):e=d[1];let h=e;return d[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)("img",{src:a1,alt:"GIF of two octocats high fiving each other",className:(0,b.$)(aW,aQ),ref:m}),d[2]=t):t=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)(aW,aZ),d[3]=n):n=d[3],d[4]!==h?(i=(0,o.jsx)("img",{src:aY,alt:"Two octocats",className:n,ref:h}),d[4]=h,d[5]=i):i=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)("img",{src:a0,alt:"Two octocats high fiving each other",className:(0,b.$)(aW,aX)}),d[6]=a):a=d[6],d[7]!==i?(r=(0,o.jsxs)("div",{className:aK,children:[t,i,a]}),d[7]=i,d[8]=r):r=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)("span",{className:"fgColor-muted",children:"You made it to the end!"}),d[9]=s):s=d[9],d[10]!==r?(l=(0,o.jsxs)("div",{className:az,children:[r,s]}),d[10]=r,d[11]=l):l=d[11],l}:()=>{let e=(0,aJ.j)(),t=(0,v.useRef)(null),n=(0,v.useRef)(null);return(0,o.jsxs)("div",{className:az,children:[(0,o.jsxs)("div",{className:aK,children:[(0,o.jsx)("img",{src:a1,alt:"GIF of two octocats high fiving each other",className:(0,b.$)(aW,aQ),ref:t}),(0,o.jsx)("img",{src:aY,alt:"Two octocats",className:(0,b.$)(aW,aZ),ref:i=>{i?(i=>{let a;if(e)return;let r=new IntersectionObserver((e,n)=>{for(let i of e)i.isIntersecting&&(a=setTimeout(()=>{i.target.style.display="none",t.current&&(t.current.style.opacity="1"),n.unobserve(i.target)},1e3))},{threshold:1});return n.current=r,r.observe(i),()=>{r.disconnect(),a&&clearTimeout(a)}})(i):n.current&&(n.current.disconnect(),n.current=null)}}),(0,o.jsx)("img",{src:a0,alt:"Two octocats high fiving each other",className:(0,b.$)(aW,aX)})]}),(0,o.jsx)("span",{className:"fgColor-muted",children:"You made it to the end!"})]})},a3=(0,v.memo)(a2);try{a2.displayName||(a2.displayName="PullRequestDiffsAnimationComponent")}catch{}try{a3.displayName||(a3.displayName="PullRequestDiffsAnimation")}catch{}let a4=(0,v.memo)(a6),a5=(0,d.Z6)();function a6(e){return a5?function(e){let t,n,i,a,r,s,l,d=(0,c.c)(41),{currentUser:u,filteredDiffSummaries:m,headBranchName:f,headRepoName:h,headRepoOwner:p,onSetFilterState:g,pullRequestGlobalRelayId:x,repository:b,showPullRequestGroups:y}=e,[j]=(0,v.useState)(!1),C=(0,v.useRef)(null),w=(0,D.$W)(m),N=(0,D.JA)(),{startQueue:S}=(0,D.pV)();d[0]!==S?(t=()=>{S()},n=[S],d[0]=S,d[1]=t,d[2]=n):(t=d[1],n=d[2]),(0,v.useEffect)(t,n);let{onScrollToAndFocusEntry:L,getTargetableEntriesMap:_,selectedPathDigest:I,isSelectingLineOrRange:R}=aP(),k=(0,D.qg)(),A=w.length>=15;if(0===k){let e;return d[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(aO,{}),d[3]=e):e=d[3],e}if(0===m.length){let e;return d[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(aE,{}),d[4]=e):e=d[4],e}if(d[5]!==N||d[6]!==g||d[7]!==y?(i=y&&N?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"f4 text-bold mb-0",children:[(0,o.jsx)("span",{className:"fgColor-accent",children:(0,o.jsx)(T.A,{href:"",onClick:e=>{e.preventDefault(),g({activeChangeGroupId:void 0})},children:"All files"})})," ",(0,o.jsx)("span",{className:"fgColor-muted text-normal",children:"/"})," ",N.name]}),N.description?.trim()?(0,o.jsx)("p",{children:N.description}):null]}):null,d[5]=N,d[6]=g,d[7]=y,d[8]=i):i=d[8],d[9]!==u||d[10]!==w||d[11]!==j||d[12]!==_||d[13]!==f||d[14]!==h||d[15]!==p||d[16]!==R||d[17]!==L||d[18]!==x||d[19]!==b||d[20]!==I){let e;d[22]!==u||d[23]!==j||d[24]!==_||d[25]!==f||d[26]!==h||d[27]!==p||d[28]!==R||d[29]!==L||d[30]!==x||d[31]!==b||d[32]!==I?(e=e=>(0,o.jsx)("div",{ref:t=>{let n=_();t?n.set(e.pathDigest,t):n.delete(e.pathDigest)},children:(0,o.jsx)(aG,{currentUser:u,diffManuallyExpanded:j,headBranchName:f,headRepoName:h,headRepoOwner:p,pullRequestGlobalRelayId:x,isSelected:void 0===I?void 0:e.pathDigest===I,isSelectingLineOrRange:R,onScrollToAndFocusEntry:L,progressiveDiffEntry:e,repository:b})},e.pathDigest),d[22]=u,d[23]=j,d[24]=_,d[25]=f,d[26]=h,d[27]=p,d[28]=R,d[29]=L,d[30]=x,d[31]=b,d[32]=I,d[33]=e):e=d[33],a=w.map(e),d[9]=u,d[10]=w,d[11]=j,d[12]=_,d[13]=f,d[14]=h,d[15]=p,d[16]=R,d[17]=L,d[18]=x,d[19]=b,d[20]=I,d[21]=a}else a=d[21];return d[34]!==A?(r=A&&(0,o.jsx)(a3,{}),d[34]=A,d[35]=r):r=d[35],d[36]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(aR.nq,{}),d[36]=s):s=d[36],d[37]!==i||d[38]!==a||d[39]!==r?(l=(0,o.jsxs)("div",{ref:C,"data-hpc":!0,className:"d-flex flex-column gap-3",children:[i,a,r,s]}),d[37]=i,d[38]=a,d[39]=r,d[40]=l):l=d[40],l}(e):function({currentUser:e,filteredDiffSummaries:t,headBranchName:n,headRepoName:i,headRepoOwner:a,onSetFilterState:r,pullRequestGlobalRelayId:s,repository:l,showPullRequestGroups:d}){let[c,u]=(0,v.useState)(!1),m=(0,v.useRef)(null),f=(0,D.$W)(t),h=(0,D.JA)(),{startQueue:p}=(0,D.pV)();(0,v.useEffect)(()=>{p()},[p]);let{onScrollToAndFocusEntry:g,getTargetableEntriesMap:x,selectedPathDigest:b,isSelectingLineOrRange:y}=aP(),j=(0,D.qg)(),C=f.length;return 0===j?(0,o.jsx)(aO,{}):0===t.length?(0,o.jsx)(aE,{}):(0,o.jsxs)("div",{ref:m,"data-hpc":!0,className:"d-flex flex-column gap-3",children:[d&&h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"f4 text-bold mb-0",children:[(0,o.jsx)("span",{className:"fgColor-accent",children:(0,o.jsx)(T.A,{href:"",onClick:e=>{e.preventDefault(),r({activeChangeGroupId:void 0})},children:"All files"})})," ",(0,o.jsx)("span",{className:"fgColor-muted text-normal",children:"/"})," ",h.name]}),h.description?.trim()?(0,o.jsx)("p",{children:h.description}):null]}):null,f.map(t=>(0,o.jsx)("div",{ref:e=>{let n=x();e?n.set(t.pathDigest,e):n.delete(t.pathDigest)},children:(0,o.jsx)(aG,{currentUser:e,diffManuallyExpanded:c,headBranchName:n,headRepoName:i,headRepoOwner:a,pullRequestGlobalRelayId:s,isSelected:void 0===b?void 0:t.pathDigest===b,isSelectingLineOrRange:y,onScrollToAndFocusEntry:g,progressiveDiffEntry:t,repository:l})},t.pathDigest)),C>=15&&(0,o.jsx)(a3,{}),(0,o.jsx)(aR.nq,{})]})}(e)}try{a4.displayName||(a4.displayName="PullRequestDiffsList")}catch{}try{a6.displayName||(a6.displayName="PullRequestDiffsListUnmemoized")}catch{}var a7=n(51220);let a8="PullRequestVirtualizedDiffRow-module__virtualizedDiffRow--mhuB6",a9=(0,v.memo)((0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(53),{virtualRow:r,virtualizedDiffEntry:s,diffEntry:l,diffSummary:d,scrollMargin:u,measureElement:m,currentUser:f,headBranchName:h,headRepoName:p,headRepoOwner:g,pullRequestGlobalRelayId:x,repository:b,selectedPathDigest:v}=e,y=(0,D.y)();if(!s)return null;let j=`translateY(${r.start-u}px)`;a[0]!==j?(t={transform:j},a[0]=j,a[1]=t):t=a[1];let C=t;if("NotLoaded"===s.loadingStatus){let e,t,n,i=s.path??"";if(a[2]!==f.commentsPreference||a[3]!==f.lineSpacing||a[4]!==d||a[5]!==y||a[6]!==i){let t=y(i);e=aC({diffSummary:d,commentPreference:f.commentsPreference,lineSpacingPreference:f.lineSpacing,isCollapsed:t}),a[2]=f.commentsPreference,a[3]=f.lineSpacing,a[4]=d,a[5]=y,a[6]=i,a[7]=e}else e=a[7];let l=e,c=`Loading ${s.path}`,u=`lazy-load-${s.path}`,h=`diff-${s.pathDigest}`;return a[8]!==l||a[9]!==c||a[10]!==u||a[11]!==h?(t=(0,o.jsx)(a_,{ariaLabel:c,testId:u,id:h,approximateDiffHeight:l}),a[8]=l,a[9]=c,a[10]=u,a[11]=h,a[12]=t):t=a[12],a[13]!==m||a[14]!==t||a[15]!==r.index||a[16]!==C?(n=(0,o.jsx)("div",{style:C,className:a8,ref:m,"data-index":r.index,children:t}),a[13]=m,a[14]=t,a[15]=r.index,a[16]=C,a[17]=n):n=a[17],n}if(!l)return null;let w=-(r.start-u),N=void 0===v?void 0:l.pathDigest===v,S=l.reviewed??!1;return a[18]!==f||a[19]!==l.diffLines||a[20]!==l.diffSize||a[21]!==l.helpUrl||a[22]!==l.isBinary||a[23]!==l.isSubmodule||a[24]!==l.isTooBig||a[25]!==l.linesAdded||a[26]!==l.linesChanged||a[27]!==l.linesDeleted||a[28]!==l.newCommitOid||a[29]!==l.newTreeEntry||a[30]!==l.objectId||a[31]!==l.oldCommitOid||a[32]!==l.oldTreeEntry||a[33]!==l.path||a[34]!==l.pathDigest||a[35]!==l.richDiff||a[36]!==l.status||a[37]!==l.submodule||a[38]!==l.truncatedReason||a[39]!==h||a[40]!==p||a[41]!==g||a[42]!==x||a[43]!==b||a[44]!==w||a[45]!==N||a[46]!==S?(n=(0,o.jsx)(aw,{changeType:l.status,currentUser:f,diffLines:l.diffLines,diffManuallyExpanded:!1,diffSize:l.diffSize,headerStickyOffset:w,headBranchName:h,headRepoName:p,headRepoOwner:g,helpUrl:l.helpUrl,isBinary:l.isBinary,isSelected:N,isSubmodule:l.isSubmodule,isTooBig:l.isTooBig,linesAdded:l.linesAdded,linesChanged:l.linesChanged,linesDeleted:l.linesDeleted,newCommitOid:l.newCommitOid,newTreeEntry:l.newTreeEntry,objectId:l.objectId,oldCommitOid:l.oldCommitOid,oldTreeEntry:l.oldTreeEntry,path:l.path,pathDigest:l.pathDigest,pullRequestGlobalRelayId:x,repository:b,reviewed:S,richDiff:l.richDiff,status:l.status,submodule:l.submodule,truncatedReason:l.truncatedReason}),a[18]=f,a[19]=l.diffLines,a[20]=l.diffSize,a[21]=l.helpUrl,a[22]=l.isBinary,a[23]=l.isSubmodule,a[24]=l.isTooBig,a[25]=l.linesAdded,a[26]=l.linesChanged,a[27]=l.linesDeleted,a[28]=l.newCommitOid,a[29]=l.newTreeEntry,a[30]=l.objectId,a[31]=l.oldCommitOid,a[32]=l.oldTreeEntry,a[33]=l.path,a[34]=l.pathDigest,a[35]=l.richDiff,a[36]=l.status,a[37]=l.submodule,a[38]=l.truncatedReason,a[39]=h,a[40]=p,a[41]=g,a[42]=x,a[43]=b,a[44]=w,a[45]=N,a[46]=S,a[47]=n):n=a[47],a[48]!==m||a[49]!==n||a[50]!==r.index||a[51]!==C?(i=(0,o.jsx)("div",{style:C,className:a8,ref:m,"data-index":r.index,children:n}),a[48]=m,a[49]=n,a[50]=r.index,a[51]=C,a[52]=i):i=a[52],i}:function({virtualRow:e,virtualizedDiffEntry:t,diffEntry:n,diffSummary:i,scrollMargin:a,measureElement:r,currentUser:s,headBranchName:l,headRepoName:d,headRepoOwner:c,pullRequestGlobalRelayId:u,repository:m,selectedPathDigest:f}){let h=(0,D.y)();if(!t)return null;let p={transform:`translateY(${e.start-a}px)`};if("NotLoaded"===t.loadingStatus){let n=h(t.path??""),a=aC({diffSummary:i,commentPreference:s.commentsPreference,lineSpacingPreference:s.lineSpacing,isCollapsed:n});return(0,o.jsx)("div",{style:p,className:a8,ref:r,"data-index":e.index,children:(0,o.jsx)(a_,{ariaLabel:`Loading ${t.path}`,testId:`lazy-load-${t.path}`,id:`diff-${t.pathDigest}`,approximateDiffHeight:a})})}return n?(0,o.jsx)("div",{style:p,className:a8,ref:r,"data-index":e.index,children:(0,o.jsx)(aw,{changeType:n.status,currentUser:s,diffLines:n.diffLines,diffManuallyExpanded:!1,diffSize:n.diffSize,headerStickyOffset:-(e.start-a),headBranchName:l,headRepoName:d,headRepoOwner:c,helpUrl:n.helpUrl,isBinary:n.isBinary,isSelected:void 0===f?void 0:n.pathDigest===f,isSubmodule:n.isSubmodule,isTooBig:n.isTooBig,linesAdded:n.linesAdded,linesChanged:n.linesChanged,linesDeleted:n.linesDeleted,newCommitOid:n.newCommitOid,newTreeEntry:n.newTreeEntry,objectId:n.objectId,oldCommitOid:n.oldCommitOid,oldTreeEntry:n.oldTreeEntry,path:n.path,pathDigest:n.pathDigest,pullRequestGlobalRelayId:u,repository:m,reviewed:n.reviewed??!1,richDiff:n.richDiff,status:n.status,submodule:n.submodule,truncatedReason:n.truncatedReason})}):null});try{a9.displayName||(a9.displayName="MemoizedVirtualizedDiffRow")}catch{}function re({basePath:e,currentUser:t,filteredDiffSummaries:n,headBranchName:i,headRepoName:a,headRepoOwner:r,onSetFilterState:s,pullRequestGlobalRelayId:l,repository:d,showPullRequestGroups:c}){let u=(0,v.useRef)(null),[m,h]=(0,v.useState)(0),p=(0,D.$W)(n),g=(0,D.JA)(),{startQueue:x,loadMore:b}=(0,D.pV)(),{selectedPathDigest:y}=aP(),j=(0,D.qg)(),C=(0,D.l0)(),w=(0,D.HZ)(),N=p.length,S=(0,D.y)();(0,v.useEffect)(()=>{x()},[x]);let L=(0,v.useCallback)(e=>{let n=p[e];if(!n)return 0;let i=C[n.path??""],a=S(n.path??"");return aC({diffSummary:i,commentPreference:t?.commentsPreference??f.sI.Visible,lineSpacingPreference:t?.lineSpacing??f.Ud.Relaxed,isCollapsed:a})},[p,C,S,t?.commentsPreference,t?.lineSpacing]),_=(0,v.useCallback)(e=>p[e]?.pathDigest??e,[p]);(0,v.useEffect)(()=>{u.current&&h(u.current.offsetTop)},[]);let I=(0,a7.XW)({count:p.length,estimateSize:L,getItemKey:_,overscan:5,scrollMargin:m,gap:16}),R=I.getVirtualItems(),k=(0,v.useMemo)(()=>{for(let e of R){let t=p[e.index];if(t?.loadingStatus==="NotLoaded")return e.index}return -1},[R,p]);return((0,v.useEffect)(()=>{if(-1===k)return;let e=p[k];e&&b(e)},[k,p,b]),0===j)?(0,o.jsx)(aO,{}):0===p.length?(0,o.jsx)(aE,{}):(0,o.jsxs)("div",{ref:u,"data-hpc":!0,className:"d-flex flex-column gap-3",children:[c&&g?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"f4 text-bold mb-0",children:[(0,o.jsx)("span",{className:"fgColor-accent",children:(0,o.jsx)(T.A,{href:"",onClick:e=>{e.preventDefault(),s({activeChangeGroupId:void 0})},children:"All files"})})," ",(0,o.jsx)("span",{className:"fgColor-muted text-normal",children:"/"})," ",g.name]}),g.description?.trim()?(0,o.jsx)("p",{children:g.description}):null]}):null,(0,o.jsx)("div",{className:"PullRequestVirtualizedDiffsList-module__virtualized-diff-row--khMB_",style:{height:`${I.getTotalSize()}px`},children:R.map(n=>{let s=p[n.index];return(0,o.jsx)(a9,{virtualRow:n,virtualizedDiffEntry:s,diffEntry:w[s?.path??""],diffSummary:C[s?.path??""],scrollMargin:I.options.scrollMargin,measureElement:I.measureElement,basePath:e,currentUser:t,headBranchName:i,headRepoName:a,headRepoOwner:r,pullRequestGlobalRelayId:l,repository:d,selectedPathDigest:y},n.key)})}),N>=15&&(0,o.jsx)(a3,{}),(0,o.jsx)(aR.nq,{})]})}try{re.displayName||(re.displayName="PullRequestVirtualizedDiffsList")}catch{}var rt=n(48926),rn=n(43147),ri=n(13071),ra=n(3536),rr=n(66108);let rs=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,u,m,f,h,p,g,x,b,v,y,j,C,w,N,S,L=(0,c.c)(73),{commit:D,pullRequest:_,commits:I,repository:R}=e;L[0]!==I?(t=void 0===I?[]:I,L[0]=I,L[1]=t):t=L[1];let k=t,{helpUrl:A}=(0,ag.X)();e:{let e,t,i;if(0===k.length){let e;L[2]===Symbol.for("react.memo_cache_sentinel")?(e={prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1},L[2]=e):e=L[2],n=e;break e}let a=D.oid,r=k.findIndex(e=>e.oid===a);if(-1===r){let e;L[3]===Symbol.for("react.memo_cache_sentinel")?(e={prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1},L[3]=e):e=L[3],n=e;break e}let s=r>0?k[r-1]:null,l=r<k.length-1?k[r+1]:null,o=_?.number||0;if(L[4]!==l||L[5]!==s||L[6]!==R.name||L[7]!==R.ownerLogin||L[8]!==o){let n={owner:R.ownerLogin,repo:R.name,number:o};e=s?(0,eT.zLJ)({...n,head:s.oid}):null,t=l?(0,eT.zLJ)({...n,head:l.oid}):null,L[4]=l,L[5]=s,L[6]=R.name,L[7]=R.ownerLogin,L[8]=o,L[9]=e,L[10]=t}else e=L[9],t=L[10];let d=t;L[11]!==d||L[12]!==e?(i={prevCommitUrl:e,nextCommitUrl:d,canNavigate:!0},L[11]=d,L[12]=e,L[13]=i):i=L[13],n=i}let{prevCommitUrl:E,nextCommitUrl:O,canNavigate:P}=n,F=D.oid;L[14]!==F||L[15]!==R.name||L[16]!==R.ownerLogin?(i=(0,eT.$Qz)({owner:R.ownerLogin,repo:R.name,commitish:F}),L[14]=F,L[15]=R.name,L[16]=R.ownerLogin,L[17]=i):i=L[17];let $=(0,ra.I)(`${i}/deferred_commit_data`);return L[18]!==D.shortMessageMarkdown?(a=(0,o.jsx)(tt.JR,{html:D.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word"}),L[18]=D.shortMessageMarkdown,L[19]=a):a=L[19],L[20]!==D.bodyMessageHtml?(r=D.bodyMessageHtml&&(0,o.jsx)(tt.JR,{html:D.bodyMessageHtml,className:"ws-pre-wrap f6 wb-break-word text-mono mt-2"}),L[20]=D.bodyMessageHtml,L[21]=r):r=L[21],L[22]!==a||L[23]!==r?(s=(0,o.jsxs)("div",{className:"flex-1",children:[a,r]}),L[22]=a,L[23]=r,L[24]=s):s=L[24],L[25]!==P||L[26]!==O||L[27]!==E?(l=P&&(0,o.jsx)("div",{className:"d-flex",children:(0,o.jsxs)(n4.A,{children:[(0,o.jsx)(Z.Q,{as:rr.N,"aria-label":E?"Previous commit":"No previous commit",to:E??"",inactive:!E,size:"small",leadingVisual:G.ChevronLeftIcon,children:"Prev"}),(0,o.jsx)(Z.Q,{as:rr.N,"aria-label":O?"Next commit":"No next commit",to:O??"",inactive:!O,size:"small",trailingVisual:G.ChevronRightIcon,children:"Next"})]})}),L[25]=P,L[26]=O,L[27]=E,L[28]=l):l=L[28],L[29]!==F||L[30]!==R?(d=(0,eT.IO9)({repo:R,action:"tree",commitish:F}),L[29]=F,L[30]=R,L[31]=d):d=L[31],L[32]!==d?(u=(0,o.jsx)(Z.Q,{as:T.A,href:d,leadingVisual:G.FileCodeIcon,size:"small",children:"Browse files"}),L[32]=d,L[33]=u):u=L[33],L[34]!==u||L[35]!==l?(m=(0,o.jsxs)("div",{className:"d-flex flex-items-center flex-self-start gap-2 ml-2",children:[l,u]}),L[34]=u,L[35]=l,L[36]=m):m=L[36],L[37]!==m||L[38]!==s?(f=(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between border-bottom p-3 bgColor-inset flex-items-center",children:[s,m]}),L[37]=m,L[38]=s,L[39]=f):f=L[39],L[40]===Symbol.for("react.memo_cache_sentinel")?(h={fontColor:"fg.default"},L[40]=h):h=L[40],L[41]!==D.oid||L[42]!==$||L[43]!==A||L[44]!==R?(p=(0,o.jsx)(ri.C,{deferredData:$,oid:D.oid,repo:R,helpUrl:A}),L[41]=D.oid,L[42]=$,L[43]=A,L[44]=R,L[45]=p):p=L[45],L[46]!==D||L[47]!==R||L[48]!==p?(g=(0,o.jsx)(rt.j,{commit:D,repo:R,settings:h,textVariant:"muted",children:p}),L[46]=D,L[47]=R,L[48]=p,L[49]=g):g=L[49],L[50]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)("span",{className:"color-fg-muted",children:"commit"}),L[50]=x):x=L[50],L[51]!==F||L[52]!==R.name||L[53]!==R.ownerLogin?(b=(0,eT.$Qz)({owner:R.ownerLogin,repo:R.name,commitish:F}),L[51]=F,L[52]=R.name,L[53]=R.ownerLogin,L[54]=b):b=L[54],L[55]!==F?(v=(0,nO.F)(F),L[55]=F,L[56]=v):v=L[56],L[57]!==v?(y=(0,o.jsx)("code",{children:v}),L[57]=v,L[58]=y):y=L[58],L[59]!==b||L[60]!==y?(j=(0,o.jsx)(T.A,{href:b,className:"Link--primary",children:y}),L[59]=b,L[60]=y,L[61]=j):j=L[61],L[62]!==F?(C=(0,o.jsx)(rn.w,{sha:F,direction:"sw"}),L[62]=F,L[63]=C):C=L[63],L[64]!==j||L[65]!==C?(w=(0,o.jsxs)("div",{className:"d-flex flex-items-center gap-2 text-mono",children:[x,j,C]}),L[64]=j,L[65]=C,L[66]=w):w=L[66],L[67]!==g||L[68]!==w?(N=(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between px-3 py-2 f5",children:[g,w]}),L[67]=g,L[68]=w,L[69]=N):N=L[69],L[70]!==f||L[71]!==N?(S=(0,o.jsxs)("div",{className:"d-flex flex-column border rounded-2 overflow-hidden mb-3",children:[f,N]}),L[70]=f,L[71]=N,L[72]=S):S=L[72],S}:function({commit:e,pullRequest:t,commits:n=[],repository:i}){let{helpUrl:a}=(0,ag.X)(),{prevCommitUrl:r,nextCommitUrl:s,canNavigate:l}=(0,v.useMemo)(()=>{if(0===n.length)return{prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1};let a=e.oid,r=n.findIndex(e=>e.oid===a);if(-1===r)return{prevCommitUrl:null,nextCommitUrl:null,canNavigate:!1};let s=r>0?n[r-1]:null,l=r<n.length-1?n[r+1]:null,o={owner:i.ownerLogin,repo:i.name,number:t?.number||0};return{prevCommitUrl:s?(0,eT.zLJ)({...o,head:s.oid}):null,nextCommitUrl:l?(0,eT.zLJ)({...o,head:l.oid}):null,canNavigate:!0}},[n,e,t,i]),d=e.oid,c=(0,ra.I)(`${(0,eT.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:d})}/deferred_commit_data`);return(0,o.jsxs)("div",{className:"d-flex flex-column border rounded-2 overflow-hidden mb-3",children:[(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between border-bottom p-3 bgColor-inset flex-items-center",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)(tt.JR,{html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word"}),e.bodyMessageHtml&&(0,o.jsx)(tt.JR,{html:e.bodyMessageHtml,className:"ws-pre-wrap f6 wb-break-word text-mono mt-2"})]}),(0,o.jsxs)("div",{className:"d-flex flex-items-center flex-self-start gap-2 ml-2",children:[l&&(0,o.jsx)("div",{className:"d-flex",children:(0,o.jsxs)(n4.A,{children:[(0,o.jsx)(Z.Q,{as:rr.N,"aria-label":r?"Previous commit":"No previous commit",to:r??"",inactive:!r,size:"small",leadingVisual:G.ChevronLeftIcon,children:"Prev"}),(0,o.jsx)(Z.Q,{as:rr.N,"aria-label":s?"Next commit":"No next commit",to:s??"",inactive:!s,size:"small",trailingVisual:G.ChevronRightIcon,children:"Next"})]})}),(0,o.jsx)(Z.Q,{as:T.A,href:(0,eT.IO9)({repo:i,action:"tree",commitish:d}),leadingVisual:G.FileCodeIcon,size:"small",children:"Browse files"})]})]}),(0,o.jsxs)("div",{className:"d-flex flex-row flex-justify-between px-3 py-2 f5",children:[(0,o.jsx)(rt.j,{commit:e,repo:i,settings:{fontColor:"fg.default"},textVariant:"muted",children:(0,o.jsx)(ri.C,{deferredData:c,oid:e.oid,repo:i,helpUrl:a})}),(0,o.jsxs)("div",{className:"d-flex flex-items-center gap-2 text-mono",children:[(0,o.jsx)("span",{className:"color-fg-muted",children:"commit"}),(0,o.jsx)(T.A,{href:(0,eT.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:d}),className:"Link--primary",children:(0,o.jsx)("code",{children:(0,nO.F)(d)})}),(0,o.jsx)(rn.w,{sha:d,direction:"sw"})]})]})]})};try{rs.displayName||(rs.displayName="PullRequestCommitHeader")}catch{}let rl=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(20),{basePath:r,baseSha:s,forceUnifiedView:l,headSha:d,initialData:u,treeCollapsedByDefault:m,treeEnableInlineCompactMode:f,userCanComment:h,useChangeGroups:p,useInlineComments:g,useEditOptions:x,useFileTree:b,useAdvancedToolbar:v,useBasicToolbar:y}=e,j=p??!1,C=g??!1,w=x??!1,N=b??!1,S=v??!1,L=y??!1,D=h??!0,_=l??!1,I=m??!1,R=f??!1;a[0]!==j||a[1]!==R||a[2]!==C||a[3]!==w||a[4]!==N||a[5]!==S||a[6]!==L||a[7]!==D||a[8]!==_||a[9]!==I?(t={useChangeGroups:j,useInlineComments:C,useEditOptions:w,useFileTree:N,useAdvancedToolbar:S,useBasicToolbar:L,userCanComment:D,forceUnifiedView:_,treeCollapsedByDefault:I,treeEnableInlineCompactMode:R},a[0]=j,a[1]=R,a[2]=C,a[3]=w,a[4]=N,a[5]=S,a[6]=L,a[7]=D,a[8]=_,a[9]=I,a[10]=t):t=a[10];let k=t,A=u?u.pullRequest.comparison.headOid:d,E=u?u.pullRequest.comparison.baseOid:s;if(!A)throw Error("DiffComparisonViewer: headSha is required if initialData is not provided");let T=!u;a[11]!==r||a[12]!==E||a[13]!==A||a[14]!==T?(n={basePath:r,headSha:A,baseSha:E,shouldFetch:T},a[11]=r,a[12]=E,a[13]=A,a[14]=T,a[15]=n):n=a[15];let{data:O,isLoading:P}=iJ(n),F=u??O;return a[16]!==k||a[17]!==F||a[18]!==P?(i=(0,o.jsx)(o.Fragment,{children:F&&!P?(0,o.jsx)(iQ.Kg,{basePageDataUrl:F.pullRequest.pathName,children:(0,o.jsx)(iW.v,{initData:F,children:(0,o.jsx)(ro,{...F,configOpts:k})})}):(0,o.jsxs)("div",{className:"width-full",children:[(0,o.jsx)("div",{className:iz,children:(0,o.jsx)("div",{className:iK,children:(0,o.jsx)(aS.O,{width:"lg",height:"lg",variant:"rounded"})})}),(0,o.jsxs)("div",{className:"d-flex flex-column gap-3 p-3",children:[(0,o.jsx)(a$,{lines:4}),(0,o.jsx)(a$,{lines:8}),(0,o.jsx)(a$,{lines:5})]})]})}),a[16]=k,a[17]=F,a[18]=P,a[19]=i):i=a[19],i}:function({basePath:e,baseSha:t,forceUnifiedView:n,headSha:i,initialData:a,treeCollapsedByDefault:r,treeEnableInlineCompactMode:s,userCanComment:l,useChangeGroups:d,useInlineComments:c,useEditOptions:u,useFileTree:m,useAdvancedToolbar:f,useBasicToolbar:h}){let p=(0,v.useMemo)(()=>({useChangeGroups:d??!1,useInlineComments:c??!1,useEditOptions:u??!1,useFileTree:m??!1,useAdvancedToolbar:f??!1,useBasicToolbar:h??!1,userCanComment:l??!0,forceUnifiedView:n??!1,treeCollapsedByDefault:r??!1,treeEnableInlineCompactMode:s??!1}),[d,c,u,m,f,h,l,n,r,s]),g=a?a.pullRequest.comparison.headOid:i,x=a?a.pullRequest.comparison.baseOid:t;if(!g)throw Error("DiffComparisonViewer: headSha is required if initialData is not provided");let{data:b,isLoading:y}=iJ({basePath:e,headSha:g,baseSha:x,shouldFetch:!a}),j=a??b;return(0,o.jsx)(o.Fragment,{children:j&&!y?(0,o.jsx)(iQ.Kg,{basePageDataUrl:j.pullRequest.pathName,children:(0,o.jsx)(iW.v,{initData:j,children:(0,o.jsx)(ro,{...j,configOpts:p})})}):(0,o.jsxs)("div",{className:"width-full",children:[(0,o.jsx)("div",{className:iz,children:(0,o.jsx)("div",{className:iK,children:(0,o.jsx)(aS.O,{width:"lg",height:"lg",variant:"rounded"})})}),(0,o.jsxs)("div",{className:"d-flex flex-column gap-3 p-3",children:[(0,o.jsx)(a$,{lines:4}),(0,o.jsx)(a$,{lines:8}),(0,o.jsx)(a$,{lines:5})]})]})})},ro=(0,d.Z6)()?function(e){let t,n,i,a,r,s,l,d,y,j,C,w,N,S,I,R,k,A,E,T,O,P,F,$,M,B=(0,c.c)(120),{codeowners:V,commit:U,commits:G,configOpts:H,diffSummaries:q,fileFilter:z,pullRequest:K,repository:W,markers:Z,pageLimits:Q,urls:X,user:J,isSingleFileMode:Y}=e;iR(Z,q),(0,p.L)(!0);let ee=ru(J),et=(0,no.u)("pull_request_files_virtualization");B[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:rc,onError:rd},B[0]=t):t=B[0];let{mutate:en}=(0,u.U)(t),{data:ei}=(0,m.ID)(ee);B[1]!==ei?.commentsPreference||B[2]!==en?(n=()=>{en({commentsPreference:ei?.commentsPreference===f.sI.Visible?f.sI.Collapsed:f.sI.Visible})},B[1]=ei?.commentsPreference,B[2]=en,B[3]=n):n=B[3],ei?.commentsPreference;let ea=n;ei?.commentsPreference,ei?.lineSpacing,ei?.splitPreference;let er=J.currentUserAvatarUrl||"",es=J.currentUserLogin||"",el=H.forceUnifiedView?"unified":ei?.splitPreference??"unified",eo=H.useInlineComments??!1,ed=H.useEditOptions??!1,ec=ei?.lineSpacing??"relaxed",eu=H.userCanComment&&J.canComment,em=ei?.commentsPreference??"visible";B[4]!==em||B[5]!==er||B[6]!==es||B[7]!==el||B[8]!==eo||B[9]!==ed||B[10]!==ec||B[11]!==eu||B[12]!==J.canApplySuggestion||B[13]!==J.hasCopilotAccess||B[14]!==J.tabSize?(i={avatarURL:er,login:es,tabSize:J.tabSize,splitPreference:el,shouldDisplayComments:eo,shouldDisplayEditOptions:ed,lineSpacing:ec,canComment:eu,canApplySuggestion:J.canApplySuggestion,commentsPreference:em,hasCopilotAccess:J.hasCopilotAccess},B[4]=em,B[5]=er,B[6]=es,B[7]=el,B[8]=eo,B[9]=ed,B[10]=ec,B[11]=eu,B[12]=J.canApplySuggestion,B[13]=J.hasCopilotAccess,B[14]=J.tabSize,B[15]=i):i=B[15];let ef=i,{updateCommentsPreference:eh}=(0,D.CQ)();B[16]!==ei?.commentsPreference||B[17]!==eh?(a=()=>{eh(ei?.commentsPreference??f.sI.Visible)},B[16]=ei?.commentsPreference,B[17]=eh,B[18]=a):a=B[18];let ep=ei?.commentsPreference;B[19]!==ep||B[20]!==eh?(r=[ep,eh],B[19]=ep,B[20]=eh,B[21]=r):r=B[21],(0,v.useEffect)(a,r);let{splitPagePaneHidden:eg,treeViewState:ex,treeToggleElement:eb,collapseMobileTree:ev,expandTree:ey}=i5(eD,J.isFileTreeExpanded&&!H.treeCollapsedByDefault,H.treeEnableInlineCompactMode,ef);B[22]!==V||B[23]!==K.pathName?(s={basePath:K.pathName},V&&(s.initialData=V),B[22]=V,B[23]=K.pathName,B[24]=s):s=B[24];let{data:ej}=(0,L.dG)(s),{setCodeowners:eC}=(0,D.wh)();B[25]!==ej||B[26]!==eC?(l=()=>{eC(ej)},d=[ej,eC],B[25]=ej,B[26]=eC,B[27]=l,B[28]=d):(l=B[27],d=B[28]),(0,v.useEffect)(l,d);let ew=(0,D.qg)(),eS=(0,D.I8)(),{updateDiffFilter:eL}=(0,D.or)();B[29]!==z.initialState||B[30]!==eL?(y=()=>{eL({...z.initialState,unselectedFileExtensions:new Set(z.initialState.unselectedFileExtensions)})},j=[eL,z.initialState],B[29]=z.initialState,B[30]=eL,B[31]=y,B[32]=j):(y=B[31],j=B[32]),(0,v.useEffect)(y,j);let eI=(0,D.mU)();B[33]!==eL?(C=e=>{eL(e,!0)},B[33]=eL,B[34]=C):C=B[34];let eR=C;B[35]!==ev||B[36]!==ex.compactMode?(w=()=>{"none"!==ex.compactMode&&ev()},B[35]=ev,B[36]=ex.compactMode,B[37]=w):w=B[37];let ek=w,eA=(0,v.useRef)(null),eE="expanded"!==ex.wideMode?"small":"medium";B[38]!==ef.login||B[39]!==eS||B[40]!==z.menuOptions||B[41]!==eR||B[42]!==K.pathName||B[43]!==eE?(N=(0,o.jsx)(_,{ref:eA,basePath:K.pathName,fileFilterMenuOptions:z.menuOptions,fileFilterState:eS,setFileFilterState:eR,viewerLogin:ef.login,filterSize:eE}),B[38]=ef.login,B[39]=eS,B[40]=z.menuOptions,B[41]=eR,B[42]=K.pathName,B[43]=eE,B[44]=N):N=B[44];let eT=N,eP=(0,D.gt)(),eF=q.length>0,e$=H.useChangeGroups&&eP&&eF;B[45]!==e$?(S={changeGroupsEnabled:e$},B[45]=e$,B[46]=S):S=B[46],ae(S);let{aliveChannel:eM,bannersData:eB}=(0,iZ.o)();B[47]!==ey?(I=()=>{ey(),window.requestAnimationFrame(()=>{eA.current?.focus()})},B[47]=ey,B[48]=I):I=B[48];let eV=I;B[49]!==eV||B[50]!==ea?(R=(0,o.jsx)(h.ak,{commands:{"pull-request-files-changed:collapse-expand-comments":ea,"pull-request-files-changed:focus-file-tree-filter":eV}}),B[49]=eV,B[50]=ea,B[51]=R):R=B[51],B[52]!==eT||B[53]!==eM||B[54]!==e$||B[55]!==eB||B[56]!==ev||B[57]!==G||B[58]!==H.useAdvancedToolbar||B[59]!==H.useBasicToolbar||B[60]!==ew||B[61]!==eI||B[62]!==ek||B[63]!==eR||B[64]!==Q||B[65]!==K||B[66]!==W||B[67]!==eb||B[68]!==ex.compactMode||B[69]!==ex.wideMode||B[70]!==X||B[71]!==J?(k=H.useAdvancedToolbar||H.useBasicToolbar?(0,o.jsxs)(o.Fragment,{children:[H.useAdvancedToolbar&&(0,o.jsx)(iD,{changeGroupsPreferenceAvailable:e$,commits:G,currentUserLogin:J.currentUserLogin,fileFilter:eT,isFileTreeExpanded:"expanded"===ex.wideMode,lastReviewOid:J.lastReviewOid,pageLimits:Q,pullRequest:K,repository:W,shouldShowViewedFilesCount:J.shouldShowViewedFilesCount,totalFilesCount:ew,treeToggleElement:eb,bannersData:eB,urls:X,user:J,aliveChannel:eM}),H.useBasicToolbar&&(0,o.jsx)(iY,{fileFilter:eT,isFileTreeExpanded:"expanded"===ex.wideMode,shouldShowViewedFilesCount:J.shouldShowViewedFilesCount,totalFilesCount:ew,treeToggleElement:eb,userNotices:J.userNotices}),"overlay"===ex.compactMode&&(0,o.jsx)(g.l,{onClose:()=>ev(),position:{narrow:"fullscreen",regular:"left",wide:"left"},title:"Files",className:"p-0",children:(0,o.jsx)(e_,{allowPullRequestGroups:e$,fileFilter:eT,filteredDiffs:eI,onFileSelected:ek,onSetFilterState:eR})})]}):null,B[52]=eT,B[53]=eM,B[54]=e$,B[55]=eB,B[56]=ev,B[57]=G,B[58]=H.useAdvancedToolbar,B[59]=H.useBasicToolbar,B[60]=ew,B[61]=eI,B[62]=ek,B[63]=eR,B[64]=Q,B[65]=K,B[66]=W,B[67]=eb,B[68]=ex.compactMode,B[69]=ex.wideMode,B[70]=X,B[71]=J,B[72]=k):k=B[72],B[73]!==eT||B[74]!==e$||B[75]!==H.useBasicToolbar||B[76]!==H.useFileTree||B[77]!==eI||B[78]!==ek||B[79]!==eR||B[80]!==eg||B[81]!==ex.compactMode||B[82]!==ex.wideMode?(A=H.useFileTree?(0,o.jsx)(x.O7.Pane,{position:"start",sticky:!0,offsetHeader:H.useBasicToolbar?"50px":"60px","aria-label":"File tree",padding:"none",className:(0,b.$)(iM,eg&&iT,"expanded"===ex.wideMode&&iB,"collapsed"===ex.wideMode&&iV,"none"===ex.compactMode&&iU,"overlay"===ex.compactMode&&iG,"inline"===ex.compactMode&&iH,iP),divider:{regular:"inline"===ex.compactMode?"none":"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:"inline"!==ex.compactMode,children:(0,o.jsx)(e_,{allowPullRequestGroups:e$,className:(0,b.$)(eN,iO),fileFilter:eT,filteredDiffs:eI,onFileSelected:ek,onSetFilterState:eR})}):null,B[73]=eT,B[74]=e$,B[75]=H.useBasicToolbar,B[76]=H.useFileTree,B[77]=eI,B[78]=ek,B[79]=eR,B[80]=eg,B[81]=ex.compactMode,B[82]=ex.wideMode,B[83]=A):A=B[83];let eU="inline"===ex.compactMode;B[84]!==eU?(E={narrow:!1,regular:eU},B[84]=eU,B[85]=E):E=B[85];let eG="expanded"===ex.wideMode&&iB;return B[86]!==eG?(T=(0,b.$)(iq,eG),B[86]=eG,B[87]=T):T=B[87],B[88]!==U||B[89]!==G||B[90]!==K||B[91]!==W?(O=U&&(0,o.jsx)(rs,{commit:U,pullRequest:K,commits:G,repository:W}),B[88]=U,B[89]=G,B[90]=K,B[91]=W,B[92]=O):O=B[92],B[93]!==Q||B[94]!==W||B[95]!==X?(P=(0,o.jsx)(eO,{pageLimits:Q,repository:W,urls:X}),B[93]=Q,B[94]=W,B[95]=X,B[96]=P):P=B[96],B[97]!==ef||B[98]!==eI||B[99]!==eR||B[100]!==et||B[101]!==Y||B[102]!==K.globalRelayId||B[103]!==K.headBranch||B[104]!==K.headRepositoryName||B[105]!==K.headRepositoryOwnerLogin||B[106]!==K.pathName||B[107]!==W?(F=et?(0,o.jsx)(re,{basePath:K.pathName,currentUser:ef,headBranchName:K.headBranch,headRepoName:K.headRepositoryName,headRepoOwner:K.headRepositoryOwnerLogin,onSetFilterState:eR,pullRequestGlobalRelayId:K.globalRelayId,filteredDiffSummaries:eI,repository:W,showPullRequestGroups:!0}):(0,o.jsx)(o.Fragment,{children:Y?(0,o.jsx)(aF,{currentUser:ef,filteredDiffSummaries:eI,headBranchName:K.headBranch,headRepoName:K.headRepositoryName,headRepoOwner:K.headRepositoryOwnerLogin,pullRequestGlobalRelayId:K.globalRelayId,repository:W}):(0,o.jsx)(a4,{currentUser:ef,headBranchName:K.headBranch,headRepoName:K.headRepositoryName,headRepoOwner:K.headRepositoryOwnerLogin,onSetFilterState:eR,pullRequestGlobalRelayId:K.globalRelayId,filteredDiffSummaries:eI,repository:W,showPullRequestGroups:!0})}),B[97]=ef,B[98]=eI,B[99]=eR,B[100]=et,B[101]=Y,B[102]=K.globalRelayId,B[103]=K.headBranch,B[104]=K.headRepositoryName,B[105]=K.headRepositoryOwnerLogin,B[106]=K.pathName,B[107]=W,B[108]=F):F=B[108],B[109]!==E||B[110]!==T||B[111]!==O||B[112]!==P||B[113]!==F?($=(0,o.jsxs)(x.O7.Content,{as:"div",width:"full",hidden:E,padding:"none",className:T,children:[O,P,F]}),B[109]=E,B[110]=T,B[111]=O,B[112]=P,B[113]=F,B[114]=$):$=B[114],B[115]!==R||B[116]!==k||B[117]!==A||B[118]!==$?(M=(0,o.jsxs)(o.Fragment,{children:[R,k,A,$]}),B[115]=R,B[116]=k,B[117]=A,B[118]=$,B[119]=M):M=B[119],M}:function({codeowners:e,commit:t,commits:n,configOpts:i,diffSummaries:a,fileFilter:r,pullRequest:s,repository:l,markers:d,pageLimits:c,urls:y,user:j,isSingleFileMode:C}){iR(d,a),(0,p.L)(!0);let w=ru(j),N=(0,no.u)("pull_request_files_virtualization"),{mutate:S}=(0,u.U)({onSuccess:()=>{},onError:()=>{}}),{data:I}=(0,m.ID)(w),R=(0,v.useCallback)(()=>{S({commentsPreference:I?.commentsPreference===f.sI.Visible?f.sI.Collapsed:f.sI.Visible})},[I?.commentsPreference,S]),k=(0,v.useMemo)(()=>({avatarURL:j.currentUserAvatarUrl||"",login:j.currentUserLogin||"",tabSize:j.tabSize,splitPreference:i.forceUnifiedView?"unified":I?.splitPreference??"unified",shouldDisplayComments:i.useInlineComments??!1,shouldDisplayEditOptions:i.useEditOptions??!1,lineSpacing:I?.lineSpacing??"relaxed",canComment:i.userCanComment&&j.canComment,canApplySuggestion:j.canApplySuggestion,commentsPreference:I?.commentsPreference??"visible",hasCopilotAccess:j.hasCopilotAccess}),[i.forceUnifiedView,i.useEditOptions,i.useInlineComments,i.userCanComment,I?.commentsPreference,I?.lineSpacing,I?.splitPreference,j.canApplySuggestion,j.canComment,j.currentUserAvatarUrl,j.currentUserLogin,j.hasCopilotAccess,j.tabSize]),{updateCommentsPreference:A}=(0,D.CQ)();(0,v.useEffect)(()=>{A(I?.commentsPreference??f.sI.Visible)},[I?.commentsPreference,A]);let{splitPagePaneHidden:E,treeViewState:T,treeToggleElement:O,collapseMobileTree:P,expandTree:F}=i5(eD,j.isFileTreeExpanded&&!i.treeCollapsedByDefault,i.treeEnableInlineCompactMode,k),$={basePath:s.pathName};e&&($.initialData=e);let{data:M}=(0,L.dG)($),{setCodeowners:B}=(0,D.wh)();(0,v.useEffect)(()=>{B(M)},[M,B]);let V=(0,D.qg)(),U=(0,D.I8)(),{updateDiffFilter:G}=(0,D.or)();(0,v.useEffect)(()=>{G({...r.initialState,unselectedFileExtensions:new Set(r.initialState.unselectedFileExtensions)})},[G,r.initialState]);let H=(0,D.mU)(),q=(0,v.useCallback)(e=>{G(e,!0)},[G]),z=(0,v.useCallback)(()=>{"none"!==T.compactMode&&P()},[P,T.compactMode]),K=(0,v.useRef)(null),W=(0,v.useMemo)(()=>(0,o.jsx)(_,{ref:K,basePath:s.pathName,fileFilterMenuOptions:r.menuOptions,fileFilterState:U,setFileFilterState:q,viewerLogin:k.login,filterSize:"expanded"!==T.wideMode?"small":"medium"}),[s.pathName,r.menuOptions,U,q,k.login,T.wideMode]),Z=(0,D.gt)(),Q=a.length>0,X=i.useChangeGroups&&Z&&Q;ae({changeGroupsEnabled:X});let{aliveChannel:J,bannersData:Y}=(0,iZ.o)(),ee=(0,v.useCallback)(()=>{F(),window.requestAnimationFrame(()=>{K.current?.focus()})},[F]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.ak,{commands:{"pull-request-files-changed:collapse-expand-comments":R,"pull-request-files-changed:focus-file-tree-filter":ee}}),i.useAdvancedToolbar||i.useBasicToolbar?(0,o.jsxs)(o.Fragment,{children:[i.useAdvancedToolbar&&(0,o.jsx)(iD,{changeGroupsPreferenceAvailable:X,commits:n,currentUserLogin:j.currentUserLogin,fileFilter:W,isFileTreeExpanded:"expanded"===T.wideMode,lastReviewOid:j.lastReviewOid,pageLimits:c,pullRequest:s,repository:l,shouldShowViewedFilesCount:j.shouldShowViewedFilesCount,totalFilesCount:V,treeToggleElement:O,bannersData:Y,urls:y,user:j,aliveChannel:J}),i.useBasicToolbar&&(0,o.jsx)(iY,{fileFilter:W,isFileTreeExpanded:"expanded"===T.wideMode,shouldShowViewedFilesCount:j.shouldShowViewedFilesCount,totalFilesCount:V,treeToggleElement:O,userNotices:j.userNotices}),"overlay"===T.compactMode&&(0,o.jsx)(g.l,{onClose:()=>P(),position:{narrow:"fullscreen",regular:"left",wide:"left"},title:"Files",className:"p-0",children:(0,o.jsx)(e_,{allowPullRequestGroups:X,fileFilter:W,filteredDiffs:H,onFileSelected:z,onSetFilterState:q})})]}):null,i.useFileTree?(0,o.jsx)(x.O7.Pane,{position:"start",sticky:!0,offsetHeader:i.useBasicToolbar?"50px":"60px","aria-label":"File tree",padding:"none",className:(0,b.$)(iM,E&&iT,"expanded"===T.wideMode&&iB,"collapsed"===T.wideMode&&iV,"none"===T.compactMode&&iU,"overlay"===T.compactMode&&iG,"inline"===T.compactMode&&iH,iP),divider:{regular:"inline"===T.compactMode?"none":"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:"inline"!==T.compactMode,children:(0,o.jsx)(e_,{allowPullRequestGroups:X,className:(0,b.$)(eN,iO),fileFilter:W,filteredDiffs:H,onFileSelected:z,onSetFilterState:q})}):null,(0,o.jsxs)(x.O7.Content,{as:"div",width:"full",hidden:{narrow:!1,regular:"inline"===T.compactMode},padding:"none",className:(0,b.$)(iq,"expanded"===T.wideMode&&iB),children:[t&&(0,o.jsx)(rs,{commit:t,pullRequest:s,commits:n,repository:l}),(0,o.jsx)(eO,{pageLimits:c,repository:l,urls:y}),N?(0,o.jsx)(re,{basePath:s.pathName,currentUser:k,headBranchName:s.headBranch,headRepoName:s.headRepositoryName,headRepoOwner:s.headRepositoryOwnerLogin,onSetFilterState:q,pullRequestGlobalRelayId:s.globalRelayId,filteredDiffSummaries:H,repository:l,showPullRequestGroups:!0}):(0,o.jsx)(o.Fragment,{children:C?(0,o.jsx)(aF,{currentUser:k,filteredDiffSummaries:H,headBranchName:s.headBranch,headRepoName:s.headRepositoryName,headRepoOwner:s.headRepositoryOwnerLogin,pullRequestGlobalRelayId:s.globalRelayId,repository:l}):(0,o.jsx)(a4,{currentUser:k,headBranchName:s.headBranch,headRepoName:s.headRepositoryName,headRepoOwner:s.headRepositoryOwnerLogin,onSetFilterState:q,pullRequestGlobalRelayId:s.globalRelayId,filteredDiffSummaries:H,repository:l,showPullRequestGroups:!0})})]})]})};function rd(){}function rc(){}let ru=(0,d.Z6)()?function(e){let t,n=(0,c.c)(5),i=(0,m.C0)(e.viewSettings.splitPreference),a=(0,m.Qn)(e.viewSettings.hideWhitespace);return n[0]!==e.viewSettings.commentsPreference||n[1]!==e.viewSettings.lineSpacing||n[2]!==i||n[3]!==a?(t={hideWhitespace:a,splitPreference:i,lineSpacing:e.viewSettings.lineSpacing,commentsPreference:e.viewSettings.commentsPreference},n[0]=e.viewSettings.commentsPreference,n[1]=e.viewSettings.lineSpacing,n[2]=i,n[3]=a,n[4]=t):t=n[4],t}:function(e){let t=(0,m.C0)(e.viewSettings.splitPreference),n=(0,m.Qn)(e.viewSettings.hideWhitespace);return(0,v.useMemo)(()=>({hideWhitespace:n,splitPreference:t,lineSpacing:e.viewSettings.lineSpacing,commentsPreference:e.viewSettings.commentsPreference}),[e.viewSettings.commentsPreference,e.viewSettings.lineSpacing,t,n])},rm=(0,d.Z6)()?function(e){let t,n,i,a=(0,c.c)(7);return a[0]!==e.className?(t=(0,b.$)(iE,e.className),a[0]=e.className,a[1]=t):t=a[1],a[2]!==e.children?(n=(0,o.jsx)(x.O7,{children:e.children}),a[2]=e.children,a[3]=n):n=a[3],a[4]!==t||a[5]!==n?(i=(0,o.jsx)("div",{id:i4,className:t,children:n}),a[4]=t,a[5]=n,a[6]=i):i=a[6],i}:function(e){return(0,o.jsx)("div",{id:i4,className:(0,b.$)(iE,e.className),children:(0,o.jsx)(x.O7,{children:e.children})})},rf=Object.assign({},{Container:rm,Header:x.O7.Header,Viewer:rl});try{(r=Some).displayName||(r.displayName="Some")}catch{}try{(s=Some).displayName||(s.displayName="Some")}catch{}try{rl.displayName||(rl.displayName="BaseDiffComparisonViewer")}catch{}try{ro.displayName||(ro.displayName="InternalDiffComparisonViewer")}catch{}try{(l=FilterFilterComponent).displayName||(l.displayName="FilterFilterComponent")}catch{}try{rm.displayName||(rm.displayName="Container")}catch{}try{rf.displayName||(rf.displayName="DiffComparisonViewer")}catch{}},68874:(e,t,n)=>{n.d(t,{o:()=>u,V:()=>c});var i=n(74848),a=n(69497),r=n(12683);let s=[{unit:"month",ms:2592e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}],l=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:void 0,timeZoneName:"short"}),o=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}),d=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"});function c(e,t=!0){let n="",i=new Date,a=i.getTime()-e.getTime(),r=s.find(e=>e.ms<a);if(r&&"month"!==r.unit){let e=Math.floor(a/r.ms);n="day"===r.unit&&1===e?"yesterday":`${e} ${r.unit}${e>1?"s":""} ago`}else{let a=e.getFullYear()===i.getFullYear()?d:o;n=`${t?"on ":""}${a.format(e)}`}return n}function u({timestamp:e,usePreposition:t=!0,linkUrl:n,sx:s}){let o=c(e,t),d=l.format(e);return n?(0,i.jsx)(r.N_,{sx:{...s},href:n,target:"_blank",className:"Ago-module__AgoTimestampLink--cfwj_",children:(0,i.jsx)(a.A,{inline:!0,title:d,children:(0,i.jsx)("span",{title:d,className:"Ago-module__timestampText--rtBsS",children:o})})}):(0,i.jsx)(a.A,{inline:!0,title:d,children:(0,i.jsx)(r.EY,{title:d,sx:s,children:o})})}try{u.displayName||(u.displayName="Ago")}catch{}},69510:(e,t,n)=>{n.d(t,{XG:()=>c,_l:()=>m});var i=n(68273),a=n(21728),r=n(65510),s=n(20622),l=n(96379);function o(e){return null!==e&&"object"==typeof e&&"previewInfo"in e}function d(e){return{thread:{id:e.threadId,isResolved:e.isResolved,isOutdated:e.isOutdated,line:e.line,subjectType:e.subjectType,subject:e.subject,commentsData:e.commentsData},previewInfo:{threadId:e.threadId,commentId:e.commentId,path:e.path,threadPreviewComments:e.threadPreviewComments,originalDiffPathUri:e.originalDiffPathUri,firstComment:e.firstComment,subject:e.subject}}}function c(e){return[s.uT.threadPreviews,e]}function u(e){let t=`${e}/page_data/${s.uT.threadPreviews}`;return{queryKey:c(e),queryFn:async()=>{let e=await (0,l.QJ)(t);if(!e.ok)throw Error(`HTTP ${e.status}`);let n=await e.json();return n.length>0&&!o(n[0])?n.map(d):n}}}let m=(0,i.Z6)()?function(e){let t,n,i,s=(0,a.c)(8),{pathName:l,initialData:c}=e;s[0]!==l?(t=u(l),s[0]=l,s[1]=t):t=s[1];let{queryFn:m,queryKey:f}=t;s[2]!==c?(n=c&&c.length>0&&!o(c[0])?c.map(d):c,s[2]=c,s[3]=n):n=s[3];let h=n;return s[4]!==m||s[5]!==f||s[6]!==h?(i={queryKey:f,queryFn:m,initialData:h,staleTime:1/0},s[4]=m,s[5]=f,s[6]=h,s[7]=i):i=s[7],(0,r.U)(i)}:function({pathName:e,initialData:t}){let{queryFn:n,queryKey:i}=u(e),a=t&&t.length>0&&!o(t[0])?t.map(d):t;return(0,r.U)({queryKey:i,queryFn:n,initialData:a,staleTime:1/0})}},69759:(e,t,n)=>{n.d(t,{B:()=>i});function i(e,t){let n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}},70109:(e,t,n)=>{n.d(t,{S:()=>d});var i=n(74848),a=n(68273),r=n(21728),s=n(42118),l=n(96540),o=n(27011);let d=(0,l.forwardRef)((0,a.GV)()?(e,t)=>{let n,a,l,d,c,u,m,f=(0,r.c)(21);f[0]!==e?({children:n,...a}=e,f[0]=e,f[1]=n,f[2]=a):(n=f[1],a=f[2]);let h=(0,o.Yp)(),{baseRepository:p}=(0,o.GK)(),g=(0,o.L3)();f[3]!==h.id?(l={id:h.id},f[3]=h.id,f[4]=l):l=f[4];let x=`${p.ownerLogin}/${p.name}`;f[5]!==p.id||f[6]!==x?(d={databaseId:p.id,nwo:x,slashCommandsEnabled:!1},f[5]=p.id,f[6]=x,f[7]=d):d=f[7],f[8]!==g.effectiveRange.baseOid||f[9]!==g.effectiveRange.headOid?(c={startCommitOid:g.effectiveRange.baseOid,endCommitOid:g.effectiveRange.headOid},f[8]=g.effectiveRange.baseOid,f[9]=g.effectiveRange.headOid,f[10]=c):c=f[10],f[11]!==h.number||f[12]!==l||f[13]!==d||f[14]!==c?(u={type:"pull_request",id:l,pullRequestNumber:h.number,repository:d,comparison:c},f[11]=h.number,f[12]=l,f[13]=d,f[14]=c,f[15]=u):u=f[15];let b=u;return f[16]!==n||f[17]!==t||f[18]!==a||f[19]!==b?(m=(0,i.jsx)(s.hF,{...a,ref:t,placeholder:"Leave a comment",actions:n,subject:b,showLabel:!1}),f[16]=n,f[17]=t,f[18]=a,f[19]=b,f[20]=m):m=f[20],m}:({children:e,...t},n)=>{let a=(0,o.Yp)(),{baseRepository:r}=(0,o.GK)(),l=(0,o.L3)(),d={type:"pull_request",id:{id:a.id},pullRequestNumber:a.number,repository:{databaseId:r.id,nwo:`${r.ownerLogin}/${r.name}`,slashCommandsEnabled:!1},comparison:{startCommitOid:l.effectiveRange.baseOid,endCommitOid:l.effectiveRange.headOid}};return(0,i.jsx)(s.hF,{...t,ref:n,placeholder:"Leave a comment",actions:e,subject:d,showLabel:!1})});d.displayName="ConversationCommentBox"},71317:(e,t,n)=>{n.d(t,{k:()=>a});var i=n(71315);function a(e,t=0){if(void 0===i.XC)return;let n=i.XC.getElementById("screenReaderAnnouncementDiv")??void 0;if(n||(n=function(){if(void 0===i.XC)return;let e=i.XC.createElement("div");return e.classList.add("sr-only","mt-n1"),e.id="screenReaderAnnouncementDiv",e.setAttribute("role","alert"),e.setAttribute("data-testid","screenReaderAnnouncement"),e.setAttribute("aria-live","assertive"),i.XC.body.appendChild(e),e}()),!n)return;let r=n.textContent===e?`${e}\u00A0`:e;setTimeout(()=>{n&&(n.textContent=r)},t)}},72501:(e,t,n)=>{n.d(t,{V:()=>s,c:()=>r});var i=n(99279),a=n(86320);let r=i.G.createQueryRouteConfig("pullRequestsFilesRoute",{path:"/:owner/:repo/pull/:pr_number/files",queries:[(0,a.Y)()]}),s=i.G.createQueryRouteConfig("pullRequestsFilesWithRangeRoute",{path:"/:owner/:repo/pull/:pr_number/files/:range",queries:[(0,a.Y)()]})},73262:(e,t,n)=>{n.d(t,{K:()=>c});var i=n(74848),a=n(21728),r=n(96540),s=n(21373),l=n(34164),o=n(48505),d=n(18373);function c(e){let t,n,c,u,m,f,h,p,g,x,b=(0,a.c)(21),{automatedComment:v,isButtonDisabled:y,dismissError:j,onDismiss:C,onReopen:w,className:N}=e,[S,L]=(0,r.useState)(!1),{isDismissable:D,isReopenable:_,resourceName:I,toggleButtonLabel:R}=(f=(0,a.c)(6),p=!(h=v.isDismissed),g="alert",v.source===o.vk.CodeQuality&&(g="finding"),x=h?`Reopen ${g}`:`Dismiss ${g}`,f[0]!==p||f[1]!==h||f[2]!==h||f[3]!==g||f[4]!==x?(m={isDismissed:h,isDismissable:p,isReopenable:h,resourceName:g,toggleButtonLabel:x},f[0]=p,f[1]=h,f[2]=h,f[3]=g,f[4]=x,f[5]=m):m=f[5],m),k=y||!v.viewerCanDismiss,A=y||!v.viewerCanReopen;return b[0]!==v||b[1]!==S||b[2]!==j||b[3]!==C?(t=S&&(0,i.jsx)(d.U,{setOpen:L,count:1,error:j,dismissalOptions:v.dismissalOptions,onSubmit:e=>{let{resolution:t,dismissalComment:n}=e;return C({reason:t,resolutionNote:n},{onSuccess:()=>L(!1)})},delegatedAlertDismissalEnabled:!1,codeSecurity:v.source===o.vk.CodeScanning}),b[0]=v,b[1]=S,b[2]=j,b[3]=C,b[4]=t):t=b[4],b[5]!==N||b[6]!==k||b[7]!==D||b[8]!==I||b[9]!==R?(n=D&&(0,i.jsxs)("div",{className:(0,l.$)("d-flex flex-items-center flex-wrap",N),children:[(0,i.jsx)(s.Q,{"aria-label":R,className:"mr-2",onClick:()=>L(!0),disabled:k,children:R}),(0,i.jsxs)("span",{className:"fgColor-muted f6",children:["Dismissing the ",I," will mark this conversation as resolved."]})]}),b[5]=N,b[6]=k,b[7]=D,b[8]=I,b[9]=R,b[10]=n):n=b[10],b[11]!==N||b[12]!==A||b[13]!==_||b[14]!==w||b[15]!==R?(c=_&&(0,i.jsx)("div",{className:(0,l.$)("d-flex flex-items-center flex-wrap",N),children:(0,i.jsx)(s.Q,{"aria-label":R,onClick:w,disabled:A,children:R})}),b[11]=N,b[12]=A,b[13]=_,b[14]=w,b[15]=R,b[16]=c):c=b[16],b[17]!==t||b[18]!==n||b[19]!==c?(u=(0,i.jsxs)(i.Fragment,{children:[t,n,c]}),b[17]=t,b[18]=n,b[19]=c,b[20]=u):u=b[20],u}try{c.displayName||(c.displayName="BaseAutomatedReviewCommentActions")}catch{}},73870:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(55514),a=n(99279),r=n(86320);let s=a.G.createQueryRouteConfig("pullRequestsConversationsRoute",{path:"/:owner/:repo/pull/:pr_number",queries:[(0,r.Y)(),(0,i.D)({partialName:"Conversation",queryDeps:({pathname:e})=>({pathname:`${e}/partials/conversation`})}),(0,i.D)({partialName:"Sidebar",queryDeps:({pathname:e})=>({pathname:`${e}/partials/sidebar`})})],index:!0})},75735:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(5570),a=n(37351),r=n(44953);function s(e,t,n,s){return(0,a._)(e,t),(0,r._)(n,"set"),(0,i._)(e,n,s),s}},79036:(e,t,n)=>{n.d(t,{S:()=>c,Xh:()=>d,GF:()=>u});var i=n(74848),a=n(68273),r=n(21728),s=n(34164),l=n(48505);let o="AnnotationIcon-module__AnimatedAnnotationIcon--rXSEJ";function d({annotationLevel:e,...t}){let{icon:n,...a}=u[e];return function({fill:e,stroke:t,ariaLabel:n,svgHtml:a,className:r}){return(0,i.jsx)("svg",{"aria-label":n,className:r,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:a})}({...n,...a,...t})}let c=(0,a.GV)()?function(e){let t,n,a,l,c=(0,r.c)(8);return c[0]!==e?({className:t,...n}=e,c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(a=(0,s.$)(o,t),c[3]=t,c[4]=a):a=c[4],c[5]!==n||c[6]!==a?(l=(0,i.jsx)(d,{...n,className:a}),c[5]=n,c[6]=a,c[7]=l):l=c[7],l}:function({className:e,...t}){return(0,i.jsx)(d,{...t,className:(0,s.$)(o,e)})},u={[l.UZ.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",primaryColorClass:"fgColor-danger",borderColor:"borderColor-danger-emphasis",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[l.UZ.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",primaryColorClass:"fgColor-attention",borderColor:"borderColor-attention-emphasis",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[l.UZ.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",primaryColorClass:"fgColor-muted",borderColor:"fgColor-muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{d.displayName||(d.displayName="AnnotationIcon")}catch{}try{c.displayName||(c.displayName="AnimatedAnnotationIcon")}catch{}},80081:(e,t,n)=>{n.d(t,{EJ:()=>a,Lm:()=>r,o_:()=>i});function i({suggestedChange:e,hasCommitRange:t,isOutdated:n,isPending:i,isResolved:a,pullRequestIsClosed:r,pullRequestIsInMergeQueue:s,userCanApplySuggestion:l,applySuggestedChangesValidationData:o,suggestedChangesConfig:d}){let{lineRange:c}=o;if(n)return{isValid:!1,reason:"This suggestion is outdated and cannot be applied."};if(i)return{isValid:!1,reason:"This suggestion is part of a pending comment and cannot be applied."};if(a)return{isValid:!1,reason:"This suggestion is part of a resolved comment and cannot be applied."};if(r)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is closed."};if(s)return{isValid:!1,reason:"This suggestion cannot be applied because the pull request is queued to merge."};if(!l)return{isValid:!1,reason:"You do not have permission to apply this suggestion."};if(!c)return{isValid:!1,reason:"This suggestion does not have a valid line range."};if(t)return{isValid:!1,reason:"Unable to apply suggestions when viewing a specific commit range."};if(!d)return{isValid:!1,reason:"Unable to determine the validity of this suggestion."};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:"Unable to apply suggestions on deleted lines."};let u=d?.sourceContentFromDiffLines,m=e.suggestion.join(`
`);return 0!==e.suggestion.length&&m===u?{isValid:!1,reason:"This suggestion is invalid because no changes were made to the code."}:{isValid:!0}}function a(e,t){return t.length>=50?{isValid:!1,reason:"Unable to commit due to too many changes in the batch."}:t.find(t=>t.threadId===e.threadId)||function(e,t){for(let a of t)if(e.path===a.path){var n,i;return n=e.lineRange,i=a.lineRange,n.endLineNumber>=i.startLineNumber&&n.startLineNumber<=i.endLineNumber}return!1}(e,t)?{isValid:!1,reason:"Unable to commit due to other pending changes affecting this line."}:{isValid:!0}}function r(e){if(!e||e.subjectType?.toUpperCase()!=="LINE")return;let t=e.positioning??e.subject;if(!t)return;let n=t.startDiffSide??t.endDiffSide;if(!n||"isOutdated"in t&&t.isOutdated||!t.endLine||!t.endDiffSide)return;let i=t.startLine??t.endLine;return{endLineNumber:t.endLine,endOrientation:t.endDiffSide,startLineNumber:i,startOrientation:n||"RIGHT"}}},80430:(e,t,n)=>{n.d(t,{Bh:()=>b,vT:()=>g,L2:()=>x});var i=n(74848),a=n(68273),r=n(21728),s=n(16051),l=n(28199),o=n(33195),d=n(21968),c=n(33644),u=n(34164),m=n(81070);let f="StickyPullRequestHeader-module__prHeader--oDVxB",h="StickyPullRequestHeader-module__is-stuck--g4KyZ",p="StickyPullRequestHeader-module__prTitleArea--myAMX",g="container-xl px-3 px-md-4 px-lg-5",x="px-3 px-md-4 px-lg-5",b=(0,a.Z6)()?function(e){let t,n,a,b,v,y,j,C,w,N,S,L,D=(0,r.c)(44),{repository:_,pullRequest:I,pageVariant:R}=e,{isSticky:k,observe:A,unobserve:E}=(0,l.a)(),T="condensed"===R?g:x,O=k&&h;return D[0]!==O?(t=(0,u.$)(c.A.stickyHeader,f,O,"color-shadow-small"),D[0]=O,D[1]=t):t=D[1],D[2]!==T?(n=(0,u.$)("flex-items-center justify-center",T,p),D[2]=T,D[3]=n):n=D[3],D[4]!==I.state?(a=(0,i.jsx)(s.z.LeadingVisual,{children:(0,i.jsx)(o.u,{state:I.state})}),D[4]=I.state,D[5]=a):a=D[5],D[6]!==I.title?(b=(0,i.jsx)("a",{href:"#top",className:"fgColor-default",children:(0,i.jsx)("bdi",{className:"f5 text-bold",children:I.title})}),D[6]=I.title,D[7]=b):b=D[7],D[8]!==I.number?(v=(0,i.jsxs)("span",{className:"f5 text-normal pl-2 fgColor-muted d-inline",children:["#",I.number]}),D[8]=I.number,D[9]=v):v=D[9],D[10]!==I.author||D[11]!==I.baseBranch||D[12]!==I.commitsCount||D[13]!==I.headBranch||D[14]!==I.headRepositoryName||D[15]!==I.headRepositoryOwnerLogin||D[16]!==I.id||D[17]!==I.isInAdvisoryRepo||D[18]!==I.mergedBy||D[19]!==I.mergedByName||D[20]!==I.number||D[21]!==I.state||D[22]!==_.id||D[23]!==_.name||D[24]!==_.ownerLogin?(y=(0,i.jsx)("div",{className:"f6 text-normal",children:(0,i.jsx)(d.O,{author:I.author,baseBranch:I.baseBranch,baseRepositoryOwnerLogin:_.ownerLogin,baseRepositoryName:_.name,commitsCount:I.commitsCount,headBranch:I.headBranch,headRepositoryOwnerLogin:I.headRepositoryOwnerLogin,headRepositoryName:I.headRepositoryName,isInAdvisoryRepo:I.isInAdvisoryRepo,mergedBy:I.mergedBy,mergedByName:I.mergedByName,pullRequestId:I.id,pullRequestNumber:I.number,repositoryId:_.id,state:I.state})}),D[10]=I.author,D[11]=I.baseBranch,D[12]=I.commitsCount,D[13]=I.headBranch,D[14]=I.headRepositoryName,D[15]=I.headRepositoryOwnerLogin,D[16]=I.id,D[17]=I.isInAdvisoryRepo,D[18]=I.mergedBy,D[19]=I.mergedByName,D[20]=I.number,D[21]=I.state,D[22]=_.id,D[23]=_.name,D[24]=_.ownerLogin,D[25]=y):y=D[25],D[26]!==b||D[27]!==v||D[28]!==y?(j=(0,i.jsx)(s.z.Title,{className:"lh-condensed",children:(0,i.jsxs)("div",{children:[b,v,y]})}),D[26]=b,D[27]=v,D[28]=y,D[29]=j):j=D[29],D[30]!==n||D[31]!==a||D[32]!==j?(C=(0,i.jsxs)(s.z.TitleArea,{className:n,children:[a,j]}),D[30]=n,D[31]=a,D[32]=j,D[33]=C):C=D[33],D[34]!==t||D[35]!==C?(w=(0,i.jsx)(s.z,{className:t,children:C}),D[34]=t,D[35]=C,D[36]=w):w=D[36],D[37]===Symbol.for("react.memo_cache_sentinel")?(N={visibility:"hidden",height:"1px"},D[37]=N):N=D[37],D[38]!==A||D[39]!==E?(S=(0,i.jsx)(m.X,{sx:N,onObserve:A,onUnobserve:E}),D[38]=A,D[39]=E,D[40]=S):S=D[40],D[41]!==w||D[42]!==S?(L=(0,i.jsxs)(i.Fragment,{children:[w,S]}),D[41]=w,D[42]=S,D[43]=L):L=D[43],L}:function({repository:e,pullRequest:t,pageVariant:n}){let{isSticky:a,observe:r,unobserve:b}=(0,l.a)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.z,{className:(0,u.$)(c.A.stickyHeader,f,a&&h,"color-shadow-small"),children:(0,i.jsxs)(s.z.TitleArea,{className:(0,u.$)("flex-items-center justify-center","condensed"===n?g:x,p),children:[(0,i.jsx)(s.z.LeadingVisual,{children:(0,i.jsx)(o.u,{state:t.state})}),(0,i.jsx)(s.z.Title,{className:"lh-condensed",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("a",{href:"#top",className:"fgColor-default",children:(0,i.jsx)("bdi",{className:"f5 text-bold",children:t.title})}),(0,i.jsxs)("span",{className:"f5 text-normal pl-2 fgColor-muted d-inline",children:["#",t.number]}),(0,i.jsx)("div",{className:"f6 text-normal",children:(0,i.jsx)(d.O,{author:t.author,baseBranch:t.baseBranch,baseRepositoryOwnerLogin:e.ownerLogin,baseRepositoryName:e.name,commitsCount:t.commitsCount,headBranch:t.headBranch,headRepositoryOwnerLogin:t.headRepositoryOwnerLogin,headRepositoryName:t.headRepositoryName,isInAdvisoryRepo:t.isInAdvisoryRepo,mergedBy:t.mergedBy,mergedByName:t.mergedByName,pullRequestId:t.id,pullRequestNumber:t.number,repositoryId:e.id,state:t.state})})]})})]})}),(0,i.jsx)(m.X,{sx:{visibility:"hidden",height:"1px"},onObserve:r,onUnobserve:b})]})};try{b.displayName||(b.displayName="StickyPullRequestHeader")}catch{}},81070:(e,t,n)=>{n.d(t,{X:()=>s});var i=n(74848),a=n(12683),r=n(96540);function s({children:e,onObserve:t,onUnobserve:n,sx:s,...l}){let o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(o.current){let e=o.current;return t?.(e),()=>n?.(e)}},[o,t,n]),(0,i.jsx)(a.az,{sx:s,...l,ref:o,children:e})}try{s.displayName||(s.displayName="ObservableBox")}catch{}},81075:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(50894),a=n(37351),r=n(44953);function s(e,t,n){return(0,a._)(e,t),(0,r._)(n,"get"),(0,i._)(e,n)}},82130:(e,t,n)=>{n.d(t,{q:()=>l});var i=n(68273),a=n(21728),r=n(30459),s=n(96540);let l=(0,i.Z6)()?function(){let e,t,n=(0,a.c)(4),{sendAnalyticsEvent:i}=(0,r.s)();n[0]!==i?(e=(e,t,n)=>{i(e,t,void 0===n?{}:n)},n[0]=i,n[1]=e):e=n[1];let s=e;return n[2]!==s?(t={sendPullRequestAnalyticsEvent:s},n[2]=s,n[3]=t):t=n[3],t}:function(){let{sendAnalyticsEvent:e}=(0,r.s)();return{sendPullRequestAnalyticsEvent:(0,s.useCallback)((t,n,i={})=>{e(t,n,i)},[e])}}},82590:(e,t,n)=>{n.d(t,{oO:()=>rX,Ao:()=>rQ,Yf:()=>E.Yf});var i=n(74848),a=n(68273),r=n(21728),s=n(90047),l=n(96540),o=n(36729),d=n(77430),c=n(38621),u=n(81960),m=n(26108),f=n(53627);function h(e,t="r"){(0,f.Zu)(`#${t}${e}`)}var p=n(91835),g=n(71315),x=n(83494),b=n(34164),v=n(50625),y=n(93642);let j="AddCommentEditor-module__AddCommentEditor--JFfip",C="AddCommentEditor-module__ConversationCommentBox--Q4U7y",w="AddCommentEditor-module__hideMarkdownFooter--sfStq",N="AddCommentEditor-module__showMarkdownFooter--ZyiXk",S="AddCommentEditor-module__isReplying--DYCp6",L="AddCommentEditor-module__condensed--cPcHQ";var D=n(70109),_=n(27011),I=n(71323),R=n(97283),k=n(87134),A=n(36472),E=n(3038),T=n(51391),O=n(13814);let P=(0,l.createContext)(null),F=(0,a.GV)()?function(e){let t=(0,l.useContext)(P);if(!t)throw Error("Missing DiffStoreProvider in the tree");return(0,I.P)(t,e)}:function(e){let t=(0,l.useContext)(P);if(!t)throw Error("Missing DiffStoreProvider in the tree");return(0,I.P)(t,e)},$=({children:e,...t})=>{let n=(0,l.useRef)(null),a=(0,l.useRef)(t.diffLines),r=(0,l.useRef)(t.isSplitView),s=(0,l.useRef)(t.hiddenFeatures);return n.current||(n.current=M(t)),(0,l.useEffect)(()=>{n.current&&a.current.length!==t.diffLines.length&&(n.current.getState().diffLinesSliceUpdates.updateDiffLinesHash(t.diffLines),a.current=t.diffLines)},[t,t.diffLines]),(0,l.useEffect)(()=>{n.current&&r.current!==t.isSplitView&&(n.current.getState().diffLinesSliceUpdates.updateDiffView(t.isSplitView),r.current=t.isSplitView)},[t,t.isSplitView]),(0,l.useEffect)(()=>{n.current&&!function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(s.current,t.hiddenFeatures)&&(n.current.setState({hiddenFeatures:t.hiddenFeatures}),s.current=t.hiddenFeatures)},[t,t.hiddenFeatures]),(0,i.jsx)(P.Provider,{value:n.current,children:e})},M=e=>(0,R.y)()((0,k.lt)((...t)=>({...(e=>({dialogMode:{activeGridCellId:null},dialogModeActions:{enableDialogMode:t=>e(()=>({dialogMode:{activeGridCellId:t}}),void 0,"dialogMode#enabled"),disableDialogMode:()=>e(()=>({dialogMode:{activeGridCellId:null}}),void 0,"dialogMode#disabled")}}))(...t),...(({diffAnchor:e,path:t,diffLines:n,fileLineCount:i,isSplitView:a})=>(r,s)=>{let l=n.reduce((e,t)=>(e[(0,T.bo)(t)]=t,e),{}),{selectedLineKeys:o,selectedLineRange:d,startOrientation:c}=(0,T.EV)({diffAnchor:e,diffLines:n,isSplitView:a,lineRange:(0,T.KV)(e)}),u=(0,T.Aj)(o),m=(0,T.sB)(o),f=n.reduce((e,t)=>{let n=(0,T.bo)(t);return o.has((0,T.bo)(t))&&(e[n]={isSelected:!0,isFirstSelected:u===n,isLastSelected:m===n}),e},{}),h=null;if(u){let e=l[u];if(e&&c){let t="left"===c?e.left:e.right;t&&(h={lineNumber:t,orientation:c,shouldStartConversation:!1,lineKey:(0,T.bo)(e)})}}return{diffLines:{diffAnchor:e,_diffLines:n,_diffLinesHash:l,selectedLinesInfo:f,fileLineCount:i,firstLineSelectionOnDrag:h,_firstSelectedLineInfo:h?{lineKey:h.lineKey,lineNumber:h.lineNumber,orientation:h.orientation}:null,getDiffLinesInfo:()=>s().diffLines._diffLines,getSplitDiffLinesFromLineRange:e=>{let t=(0,E.Mk)(s().diffLines._diffLines),n=t.leftLines,i=t.rightLines;return(0,A.A)({selectedLineRange:e,leftLines:n,rightLines:i})},getSelectedDiffLines:()=>{let e=[];for(let t of s().diffLines.selectedLineKeys){let n=s().diffLines._diffLinesHash[t];n&&e.push(n)}return e},getfirstLineSelectionOnDrag:()=>s().diffLines.firstLineSelectionOnDrag,getSelectedLineRange:()=>s().diffLines.selectedLineRange,hasSelectedLines:()=>s().diffLines.selectedLineKeys.size>0,isSplitView:a,selectedLineKeys:o,selectedLineRange:d},diffLinesSliceUpdates:{updateDiffLinesHash:e=>{let t=e.reduce((e,t)=>(e[(0,T.bo)(t)]=t,e),{});r(n=>({diffLines:{...n.diffLines,_diffLines:e,_diffLinesHash:t}}),void 0,"updateDiffLines")},updateDiffView:e=>r(t=>({diffLines:{...t.diffLines,isSplitView:e}}),void 0,"update diff view settings")},diffLinesActions:{clearFirstLineSelectionOnDrag:()=>r(e=>({diffLines:{...e.diffLines,firstLineSelectionOnDrag:null}}),void 0,"clearFirstLineSelectionOnDrag"),addLineToSelection:({lineKey:n,orientation:i},a)=>{let l;if(!n)return;let o=s().diffLines._diffLinesHash[n];if(!o)return;let d=s().diffLines.firstLineSelectionOnDrag,c=s().diffLines._firstSelectedLineInfo,u=s().diffLines.selectedLineRange;if(d&&n===d.lineKey||!u){let e="right"===i?o.right:o.left;if(!e)return;s().diffLinesActions.selectLine({lineKey:n,firstLineSelectionOnDrag:{lineNumber:e,orientation:i,lineKey:n,shouldStartConversation:!1}},a);return}if(!c)return;let m=s().diffLines._diffLinesHash[c.lineKey];l=(0,T.M6)({current:o,currentOrientation:i,previous:m,previousOrientation:c.orientation})?{...u,startLineNumber:("left"===i?o?.left:o?.right)??-1,startOrientation:i,endLineNumber:c.lineNumber,endOrientation:c.orientation}:{...u,startLineNumber:c.lineNumber,startOrientation:c.orientation,endLineNumber:("left"===i?o?.left:o?.right)??-1,endOrientation:i};let{selectedLineKeys:f,selectedLineRange:h}=(0,T.EV)({diffAnchor:e,diffLines:s().diffLines._diffLines,isSplitView:s().diffLines.isSplitView,lineRange:l}),p=(0,T.Aj)(f),x=(0,T.sB)(f),b=Array.from(f).reduce((e,t)=>(e[t]={isFirstSelected:t===p,isLastSelected:t===x,isSelected:!0},e),{});if(!h?.endLineNumber||!h?.startLineNumber)return;let v=new O.J(h,t);g.cg?.dispatchEvent(v),r(e=>({diffLines:{...e.diffLines,selectedLineKeys:f,selectedLinesInfo:b,selectedLineRange:h}}),void 0,"addLineToSelection"),a(h)},clearSelectedLines:()=>{r(e=>({diffLines:{...e.diffLines,firstLineSelectionOnDrag:null,selectedLineKeys:new Set([]),selectedLinesInfo:{},selectedLineRange:void 0,_firstSelectedLineInfo:null}}),void 0,"clearSelectedLines")},selectLine:({lineKey:e,firstLineSelectionOnDrag:n},i)=>{if(!e)return;s().diffLinesActions.clearSelectedLines();let a=s().diffLines._diffLinesHash[e];if(!a)return;let l={[e]:{isFirstSelected:!0,isLastSelected:!0,isSelected:!0}},o="left"===n.orientation?a.left:a.right;if(!o)return;let d={diffAnchor:s().diffLines.diffAnchor,endLineNumber:o,endOrientation:n.orientation,startLineNumber:o,startOrientation:n.orientation},c=new O.J(d,t);g.cg?.dispatchEvent(c),r(t=>({diffLines:{...t.diffLines,firstLineSelectionOnDrag:{...n,lineKey:e},selectedLineKeys:new Set([e]),selectedLinesInfo:l,selectedLineRange:d,_firstSelectedLineInfo:{lineKey:e,lineNumber:n.lineNumber,orientation:n.orientation}}}),void 0,"selectLine"),i(d)},selectMultipleLines:({startLineKey:n,endLineKey:i,startOrientation:a,endOrientation:l,firstLineSelectionOnDrag:o},d)=>{if(!n||!i||!o)return;let c=s().diffLines._diffLinesHash[n],u=s().diffLines._diffLinesHash[i];if(!c||!u||!c.left&&!c.right||!u.left&&!u.right)return;let m={diffAnchor:e,endLineNumber:("right"===l?u.right:u.left)??-1,endOrientation:l,startLineNumber:("right"===a?c.right:c.left)??-1,startOrientation:a},{selectedLineKeys:f,selectedLineRange:h}=(0,T.EV)({diffAnchor:e,diffLines:s().diffLines._diffLines,isSplitView:s().diffLines.isSplitView,lineRange:m}),p=(0,T.Aj)(f),x=(0,T.sB)(f),b=Array.from(f).reduce((e,t)=>(e[t]={isFirstSelected:t===p,isLastSelected:t===x,isSelected:!0},e),{});if(!h?.endLineNumber||!h?.startLineNumber)return;let v=new O.J(h,t);g.cg?.dispatchEvent(v),r(e=>({diffLines:{...e.diffLines,selectedLinesInfo:b,selectedLineKeys:f,firstLineSelectionOnDrag:o,selectedLineRange:h,_firstSelectedLineInfo:{lineNumber:o.lineNumber,orientation:o.orientation,lineKey:o.lineKey}}}),void 0,"selectMultipleLines"),d(h)}}}})(e)(...t),...(({hiddenFeatures:e})=>()=>({hiddenFeatures:e}))(e)(...t),...(({addInjectedContextLines:e})=>()=>({injectedContextLinesActions:{addInjectedContextLines:e}}))(e)(...t),...(({startNewConversationForLineOrFileMap:e})=>(t,n)=>({startNewConversationForLineOrFileMap:e,getMoveNewCommentDataForLine:e=>n().startNewConversationForLineOrFileMap[e],addStartNewCommentOnLine:(t,n,i)=>{e[t]={diffLineKey:i,startNewComment:n}}}))(e)(...t),...(({newTreeEntry:e,oldTreeEntry:t})=>()=>({treeEntries:{newTreeEntry:e,oldTreeEntry:t}}))(e)(...t)}),{name:`diff-store-${e.diffAnchor}`}));try{P.displayName||(P.displayName="DiffStoreContext")}catch{}try{$.displayName||($.displayName="DiffStoreProvider")}catch{}let B=(0,a.GV)()?()=>F(ea):()=>F(e=>e.diffLines.getSplitDiffLinesFromLineRange),V=(0,a.GV)()?()=>F(er):()=>F(e=>e.diffLines.getSelectedDiffLines),U=(0,a.GV)()?()=>F(es):()=>F(e=>e.diffLines.getDiffLinesInfo),G=(0,a.GV)()?()=>F(el):()=>F(e=>e.diffLines.getfirstLineSelectionOnDrag),H=(0,a.GV)()?()=>F(eo):()=>F(e=>e.diffLines.getSelectedLineRange),q=(0,a.GV)()?()=>F(ed):()=>F(e=>e.diffLines.hasSelectedLines),z=(0,a.GV)()?()=>F(ec):()=>F(e=>e.hiddenFeatures),K=(0,a.GV)()?e=>{let t,n=(0,r.c)(2);return n[0]!==e?(t=t=>!!e&&t.dialogMode.activeGridCellId===e,n[0]=e,n[1]=t):t=n[1],F(t)}:e=>F(t=>!!e&&t.dialogMode.activeGridCellId===e),W=(0,a.GV)()?()=>F(eu):()=>F(e=>e.dialogModeActions),Z=(0,a.GV)()?()=>F(em):()=>F(e=>e.diffLines.diffAnchor),Q=(0,a.GV)()?()=>F(ef):()=>F(e=>e.diffLines.fileLineCount),X={isSelected:!1,isFirstSelected:!1,isLastSelected:!1},J=(0,a.GV)()?e=>{let t,n=(0,r.c)(2);return n[0]!==e?(t=t=>e&&t.diffLines.selectedLinesInfo[(0,T.bo)(e)]||X,n[0]=e,n[1]=t):t=n[1],F(t)}:e=>F(t=>e&&t.diffLines.selectedLinesInfo[(0,T.bo)(e)]||X),Y=(0,a.GV)()?()=>F(eh):()=>F(e=>e.diffLinesActions),ee=(0,a.GV)()?()=>F(ep):()=>F(e=>e.injectedContextLinesActions),et=(0,a.GV)()?()=>F(eg):()=>F(e=>e.treeEntries),en=(0,a.GV)()?()=>F(ex):()=>F(e=>e.getMoveNewCommentDataForLine),ei=(0,a.GV)()?()=>F(eb):()=>F(e=>e.addStartNewCommentOnLine);function ea(e){return e.diffLines.getSplitDiffLinesFromLineRange}function er(e){return e.diffLines.getSelectedDiffLines}function es(e){return e.diffLines.getDiffLinesInfo}function el(e){return e.diffLines.getfirstLineSelectionOnDrag}function eo(e){return e.diffLines.getSelectedLineRange}function ed(e){return e.diffLines.hasSelectedLines}function ec(e){return e.hiddenFeatures}function eu(e){return e.dialogModeActions}function em(e){return e.diffLines.diffAnchor}function ef(e){return e.diffLines.fileLineCount}function eh(e){return e.diffLinesActions}function ep(e){return e.injectedContextLinesActions}function eg(e){return e.treeEntries}function ex(e){return e.getMoveNewCommentDataForLine}function eb(e){return e.addStartNewCommentOnLine}var ev=n(61583),ey=n(4559);function ej(){(0,ey.i)("Selection Cleared")}function eC({diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:i,startOrientation:a}){if(i&&t){var r;(0,ev.i8)({diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:i,startOrientation:a}),(r={diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:i,startOrientation:a}).startLineNumber===r.endLineNumber&&r.startOrientation===r.endOrientation?(0,ey.i)(`${"left"===r.startOrientation?"L":"R"}${r.startLineNumber} selected.`):(0,ey.i)(`${"left"===r.startOrientation?"L":"R"}${r.startLineNumber} to ${"left"===r.endOrientation?"L":"R"}${r.endLineNumber} selected.`)}}var ew=n(3252),eN=n(71317);let eS="comment",eL="review",eD=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,f,h,I,R,k,A,E,T,O,P,F,$=(0,r.c)(78),{batchingEnabled:M,condensed:B,fileLevelComment:V,filePath:U,focusOnMount:G,isReplying:H,lineNumber:q,onAddComment:z,onCancelComment:K,onPersistedCommentExists:W,quotedText:Z,side:Q,startLineNumber:X,threadId:J,suggestedChangesConfig:ee,commentLineChangeConfig:et}=e,en=void 0===Z?"":Z,[ei,ea]=(0,l.useState)(en),[er,es]=(0,l.useState)(null),el=(0,l.useRef)(en),[eo,ed]=(0,l.useState)(),ec=(0,l.useRef)(null),eu=(0,l.useRef)(null),em=(0,_.it)(),ef=(0,l.useRef)(void 0),{selectMultipleLines:eh,clearSelectedLines:ep}=Y();$[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{(0,eN.k)(e??"",100),ed(e)},$[0]=t):t=$[0];let eg=t,ex=null!==er,eb=(0,_.Kp)(),{persistCommentToStorage:ev,removePersistedCommentFromStorage:ey,persistCommentOnGivenLineToStorage:ej}=(0,v.L)({diffSide:Q,filePath:U,line:q,subjectId:eb,threadId:J,handlePersistedCommentExists:e=>{let{text:t,shouldFocus:n,startLine:i,startSide:a,startLineKey:r,endLineKey:s}=e;if(t){if(ea(t),n&&ec.current&&(ec.current.focus(),ec.current.moveCursorToEnd(),eD({text:t,startLine:i,startSide:a,startLineKey:r,endLineKey:s}),i)){let e="LEFT"===Q?"left":"right";eh({endLineKey:s,endOrientation:e,startLineKey:r,startOrientation:e,firstLineSelectionOnDrag:{lineKey:r??"b:0-l:0-r:0",lineNumber:q??0,orientation:e,shouldStartConversation:!1}},eC)}W?.()}},fileLevelComment:!!V}),eD=ev;if($[1]!==en?(n=()=>{en!==el.current&&(el.current=en,ea(en))},a=[en],$[1]=en,$[2]=n,$[3]=a):(n=$[2],a=$[3]),(0,l.useEffect)(n,a),$[4]!==ep||$[5]!==et||$[6]!==ei||$[7]!==U||$[8]!==q||$[9]!==K||$[10]!==ej||$[11]!==ey||$[12]!==eh||$[13]!==Q?(s=()=>{if(et){if(null!==(0,ew.T)(ei))return void et.setErrorMessage("Changing the line number of a comment with a suggested change is not supported.");if(et.closeLineMovingDialog(),ej({text:ei,givenLineDiffSide:et.diffSide,givenFilePath:U,givenLine:et.endLineNumber,shouldBeFileLevelComment:et.isFileLevelComment,startLine:et.startLineNumber,startLineKey:et.startDiffLineKey,endLineKey:et.endDiffLineKey}),ey(),q!==et.endLineNumber||et.isFileLevelComment)et.startConversationOnNewLine(),K?.(!1);else if(et.endDiffLineKey&&et.startDiffLineKey&&ef.current!==et){ef.current=et;let e="LEFT"===Q?"left":"right";eh({endLineKey:et.endDiffLineKey,endOrientation:e,startLineKey:et.startDiffLineKey,startOrientation:e,firstLineSelectionOnDrag:{lineKey:et.startDiffLineKey??"b:0-l:0-r:0",lineNumber:q??0,orientation:e,shouldStartConversation:!1}},eC)}else et.startDiffLineKey||ep()}},o=[ep,et,ei,U,q,K,ej,ey,eh,Q],$[4]=ep,$[5]=et,$[6]=ei,$[7]=U,$[8]=q,$[9]=K,$[10]=ej,$[11]=ey,$[12]=eh,$[13]=Q,$[14]=s,$[15]=o):(s=$[14],o=$[15]),(0,l.useEffect)(s,o),$[16]!==G?(c=()=>{if(G){let e=setTimeout(()=>{if(g.XC&&g.cg){if(eu.current){let e=eu.current,t=e.getBoundingClientRect(),n=g.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(g.cg?.innerHeight||n))){let i=t.top,a=g.XC?.documentElement.getBoundingClientRect().top||0,r=.6666666666666666*e.clientHeight;g.cg?.scrollTo({top:i-a-.6666666666666666*n+r,behavior:"smooth"})}}ec.current&&(ec.current.focus(),ec.current.moveCursorToEnd())}},100);return()=>{window.clearTimeout(e)}}},d=[G],$[16]=G,$[17]=d,$[18]=c):(d=$[17],c=$[18]),(0,l.useEffect)(c,d),$[19]!==ei||$[20]!==ex||$[21]!==z||$[22]!==K||$[23]!==ey||$[24]!==ee?.sourceContentFromDiffLines){let e,t=e=>{let{submitBatch:t,action:n}=e,i="Failed to save comment";if(ex)return;if(!ei.trim())return void eg(`${i}: Body can't be blank`);es(n),ed(void 0),eg(void 0);let a=(0,y.u)(ei,ee?.sourceContentFromDiffLines??"");if(!a.isValid){eg(a.errorMessage),ed(a.errorMessage),es(null);return}z?.({commentText:ei,onCompleted(){es(null),u()},onError(e){es(null),e.message&&(i=`${i}: ${e.message}`),eg(i)},submitBatch:t})};m=()=>{t({submitBatch:!1,action:eL})},f=()=>{t({submitBatch:!0,action:eS})},$[28]!==K||$[29]!==ey?(e=()=>{ey(),ea(""),K?.()},$[28]=K,$[29]=ey,$[30]=e):e=$[30],u=e,$[19]=ei,$[20]=ex,$[21]=z,$[22]=K,$[23]=ey,$[24]=ee?.sourceContentFromDiffLines,$[25]=u,$[26]=m,$[27]=f}else u=$[25],m=$[26],f=$[27];$[31]!==eD||$[32]!==Q||$[33]!==X?(h=e=>{eg(void 0),eD({text:e,startLine:X,startSide:X?Q:void 0}),ea(e)},$[31]=eD,$[32]=Q,$[33]=X,$[34]=h):h=$[34];let e_=h;$[35]!==f?(I={"pull-requests-conversations:submit-comment-and-review":f},$[35]=f,$[36]=I):I=$[36],$[37]!==u||$[38]!==ei?(R=e=>{"Escape"!==e.key||ei.trim()?e.stopPropagation():(e.preventDefault(),u())},$[37]=u,$[38]=ei,$[39]=R):R=$[39];let eI=M?m:f,eR=B||H?w:N,ek=H&&S,eA=B&&L;return $[40]!==eR||$[41]!==ek||$[42]!==eA?(k=(0,b.$)(C,eR,ek,eA),$[40]=eR,$[41]=ek,$[42]=eA,$[43]=k):k=$[43],$[44]!==u||$[45]!==K?(A=K&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:"default",onClick:u,children:"Cancel"}),$[44]=u,$[45]=K,$[46]=A):A=$[46],$[47]!==M||$[48]!==em||$[49]!==f||$[50]!==H||$[51]!==er?(E=!em&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:M?"default":"primary",onClick:f,ref:eu,loading:er===eS,children:H?"Reply":"Comment"}),$[47]=M,$[48]=em,$[49]=f,$[50]=H,$[51]=er,$[52]=E):E=$[52],$[53]!==M||$[54]!==em||$[55]!==m||$[56]!==er?(T=M&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:"primary",onClick:m,loading:er===eL,children:em?"Add review comment":"Start a review"}),$[53]=M,$[54]=em,$[55]=m,$[56]=er,$[57]=T):T=$[57],$[58]!==ei||$[59]!==eo||$[60]!==U||$[61]!==e_||$[62]!==ex||$[63]!==q||$[64]!==X||$[65]!==ee||$[66]!==eI||$[67]!==k||$[68]!==A||$[69]!==E||$[70]!==T?(O=(0,i.jsxs)(D.S,{ref:ec,label:"Add diff comment",value:ei,onChange:e_,onPrimaryAction:eI,suggestedChangesConfig:ee,markdownErrorMessage:eo,lineNumber:q,filePath:U,startLineNumber:X,disabled:ex,className:k,children:[A,E,T]}),$[58]=ei,$[59]=eo,$[60]=U,$[61]=e_,$[62]=ex,$[63]=q,$[64]=X,$[65]=ee,$[66]=eI,$[67]=k,$[68]=A,$[69]=E,$[70]=T,$[71]=O):O=$[71],$[72]!==R||$[73]!==O?(P=(0,i.jsx)("div",{className:j,onKeyDown:R,children:O}),$[72]=R,$[73]=O,$[74]=P):P=$[74],$[75]!==I||$[76]!==P?(F=(0,i.jsx)(x.tL,{commands:I,children:P}),$[75]=I,$[76]=P,$[77]=F):F=$[77],F}:function({batchingEnabled:e,condensed:t,fileLevelComment:n,filePath:a,focusOnMount:r,isReplying:s,lineNumber:o,onAddComment:d,onCancelComment:c,onPersistedCommentExists:u,quotedText:m="",side:f,startLineNumber:h,threadId:I,suggestedChangesConfig:R,commentLineChangeConfig:k}){let[A,E]=(0,l.useState)(m),[T,O]=(0,l.useState)(null),P=(0,l.useRef)(m),[F,$]=(0,l.useState)(),M=(0,l.useRef)(null),B=(0,l.useRef)(null),V=(0,_.it)(),U=(0,l.useRef)(void 0),{selectMultipleLines:G,clearSelectedLines:H}=Y(),q=(0,l.useCallback)(e=>{(0,eN.k)(e??"",100),$(e)},[$]),z=null!==T,K=(0,_.Kp)(),{persistCommentToStorage:W,removePersistedCommentFromStorage:Z,persistCommentOnGivenLineToStorage:Q}=(0,v.L)({diffSide:f,filePath:a,line:o,subjectId:K,threadId:I,handlePersistedCommentExists:({text:e,shouldFocus:t,startLine:n,startSide:i,startLineKey:a,endLineKey:r})=>{if(e){if(E(e),t&&M.current&&(M.current.focus(),M.current.moveCursorToEnd(),W({text:e,startLine:n,startSide:i,startLineKey:a,endLineKey:r}),n)){let e="LEFT"===f?"left":"right";G({endLineKey:r,endOrientation:e,startLineKey:a,startOrientation:e,firstLineSelectionOnDrag:{lineKey:a??"b:0-l:0-r:0",lineNumber:o??0,orientation:e,shouldStartConversation:!1}},eC)}u?.()}},fileLevelComment:!!n});(0,l.useEffect)(()=>{m!==P.current&&(P.current=m,E(m))},[m]),(0,l.useEffect)(()=>{if(k){if(null!==(0,ew.T)(A))return void k.setErrorMessage("Changing the line number of a comment with a suggested change is not supported.");if(k.closeLineMovingDialog(),Q({text:A,givenLineDiffSide:k.diffSide,givenFilePath:a,givenLine:k.endLineNumber,shouldBeFileLevelComment:k.isFileLevelComment,startLine:k.startLineNumber,startLineKey:k.startDiffLineKey,endLineKey:k.endDiffLineKey}),Z(),o!==k.endLineNumber||k.isFileLevelComment)k.startConversationOnNewLine(),c?.(!1);else if(k.endDiffLineKey&&k.startDiffLineKey&&U.current!==k){U.current=k;let e="LEFT"===f?"left":"right";G({endLineKey:k.endDiffLineKey,endOrientation:e,startLineKey:k.startDiffLineKey,startOrientation:e,firstLineSelectionOnDrag:{lineKey:k.startDiffLineKey??"b:0-l:0-r:0",lineNumber:o??0,orientation:e,shouldStartConversation:!1}},eC)}else k.startDiffLineKey||H()}},[H,k,A,a,o,c,Q,Z,G,f]),(0,l.useEffect)(()=>{if(r){let e=setTimeout(()=>{if(g.XC&&g.cg){if(B.current){let e=B.current,t=e.getBoundingClientRect(),n=g.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(g.cg?.innerHeight||n))){let i=t.top,a=g.XC?.documentElement.getBoundingClientRect().top||0,r=e.clientHeight*(2/3);g.cg?.scrollTo({top:i-a-2/3*n+r,behavior:"smooth"})}}M.current&&(M.current.focus(),M.current.moveCursorToEnd())}},100);return()=>{window.clearTimeout(e)}}},[r]);let X=({submitBatch:e,action:t})=>{let n="Failed to save comment";if(z)return;if(!A.trim())return void q(`${n}: Body can't be blank`);O(t),$(void 0),q(void 0);let i=(0,y.u)(A,R?.sourceContentFromDiffLines??"");if(!i.isValid){q(i.errorMessage),$(i.errorMessage),O(null);return}d?.({commentText:A,onCompleted(){O(null),et()},onError(e){O(null),e.message&&(n=`${n}: ${e.message}`),q(n)},submitBatch:e})},J=()=>{X({submitBatch:!1,action:eL})},ee=()=>{X({submitBatch:!0,action:eS})},et=(0,l.useCallback)(()=>{Z(),E(""),c?.()},[c,Z]);return(0,i.jsx)(x.tL,{commands:{"pull-requests-conversations:submit-comment-and-review":ee},children:(0,i.jsx)("div",{className:j,onKeyDown:e=>{"Escape"!==e.key||A.trim()?e.stopPropagation():(e.preventDefault(),et())},children:(0,i.jsxs)(D.S,{ref:M,label:"Add diff comment",value:A,onChange:e=>{q(void 0),W({text:e,startLine:h,startSide:h?f:void 0}),E(e)},onPrimaryAction:e?J:ee,suggestedChangesConfig:R,markdownErrorMessage:F,lineNumber:o,filePath:a,startLineNumber:h,disabled:z,className:(0,b.$)(C,t||s?w:N,s&&S,t&&L),children:[c&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:"default",onClick:et,children:"Cancel"}),!V&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:e?"default":"primary",onClick:ee,ref:B,loading:T===eS,children:s?"Reply":"Comment"}),e&&(0,i.jsx)(p.x,{className:"py-1 px-2",variant:"primary",onClick:J,loading:T===eL,children:V?"Add review comment":"Start a review"})]})})})};try{eD.displayName||(eD.displayName="AddCommentEditor")}catch{}var e_=n(21373),eI=n(15220),eR=n(15837),ek=n(86877),eA=n(33989),eE=n(99511),eT=n(94236),eO=n(5524);let eP=(0,a.GV)()?function(e){let t,n,a,s,o,d,u=(0,r.c)(25),{ariaLabelId:m,currentLineNumberText:f,setCommentLineChangeConfig:h,baseEndLineNumber:p,diffSide:g,baseStartLineNumber:x}=e,[b,v]=(0,l.useState)(!1);u[0]!==p||u[1]!==x?(t=()=>x&&p?"lineRange":p?"line":"file",u[0]=p,u[1]=x,u[2]=t):t=u[2];let[y,j]=(0,l.useState)(t),[C,w]=(0,l.useState)("LEFT"===g),[N,S]=(0,l.useState)(x?String(x):""),[L,D]=(0,l.useState)(p?String(p):""),[_,I]=(0,l.useState)(""),R=en(),k=(0,l.useRef)(null);u[3]!==L||u[4]!==R||u[5]!==C||u[6]!==y||u[7]!==h||u[8]!==N?(n=()=>{let e=R(eB(C,Number(L),"file"===y)),t=R(eB(C,Number(N),"file"===y)),n=e?.startNewComment,i=e?.diffLineKey,a=t?.diffLineKey;(eU("lineRange"===y?N:void 0,L)||"file"===y)&&n&&i?h(eV({isLeftSide:C,startLineNumber:"lineRange"===y?Number(N):void 0,endDiffLineKey:i,endLineNumber:Number(L),isFileLevelComment:"file"===y,startDiffLineKey:"lineRange"===y?a:void 0,startConversationOnNewLine:n,closeLineMovingDialog:()=>v(!1),setErrorMessage:e=>I(e)})):I("Please enter a valid line number or range.")},u[3]=L,u[4]=R,u[5]=C,u[6]=y,u[7]=h,u[8]=N,u[9]=n):n=u[9];let A=n;return u[10]===Symbol.for("react.memo_cache_sentinel")?(a=()=>v(!0),u[10]=a):a=u[10],u[11]!==m||u[12]!==f?(s=(0,i.jsx)(e_.Q,{"aria-labelledby":m,"aria-description":"Select to change location",ref:k,type:"button",size:"small",onClick:a,trailingAction:c.TriangleDownIcon,children:f}),u[11]=m,u[12]=f,u[13]=s):s=u[13],u[14]!==L||u[15]!==_||u[16]!==b||u[17]!==C||u[18]!==y||u[19]!==N||u[20]!==A?(o=b&&(0,i.jsx)(eI.l,{onClose:()=>v(!1),returnFocusRef:k,title:"Add comment on",width:"medium",footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>{v(!1)}},{buttonType:"primary",content:"Save",onClick:A}],children:(0,i.jsxs)(eR.A,{name:"line-number-selection",onChange:e=>{j(e)},children:[(0,i.jsx)(eR.A.Label,{}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"line",defaultChecked:"line"===y}),(0,i.jsx)(ek.A.Label,{children:"Line number"}),"line"===y&&(0,i.jsxs)(ek.A.Caption,{className:"d-flex align-items-center",children:[(0,i.jsx)(eM,{isLeftSelected:C,setIsLeftSelected:w}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:L,onChange:e=>D(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A()}})]})]}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"lineRange",defaultChecked:"lineRange"===y}),(0,i.jsx)(ek.A.Label,{children:"Line range"}),"lineRange"===y&&(0,i.jsxs)(ek.A.Caption,{className:"d-flex align-items-center",children:[(0,i.jsx)(eM,{isLeftSelected:C,setIsLeftSelected:w}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:N,onChange:e=>S(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A()}}),(0,i.jsx)(c.ArrowRightIcon,{className:"mt-2 mx-2"}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:L,onChange:e=>D(e.target.value),onKeyDown:e=>{"Enter"===e.key&&A()}})]})]}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"file",defaultChecked:"file"===y}),(0,i.jsx)(ek.A.Label,{children:"File"})]}),_&&(0,i.jsx)(eR.A.Validation,{variant:"error",children:_})]})}),u[14]=L,u[15]=_,u[16]=b,u[17]=C,u[18]=y,u[19]=N,u[20]=A,u[21]=o):o=u[21],u[22]!==s||u[23]!==o?(d=(0,i.jsxs)("div",{className:"ml-1",children:[s,o]}),u[22]=s,u[23]=o,u[24]=d):d=u[24],d}:function({ariaLabelId:e,currentLineNumberText:t,setCommentLineChangeConfig:n,baseEndLineNumber:a,diffSide:r,baseStartLineNumber:s}){let[o,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(()=>s&&a?"lineRange":a?"line":"file"),[f,h]=(0,l.useState)("LEFT"===r),[p,g]=(0,l.useState)(s?String(s):""),[x,b]=(0,l.useState)(a?String(a):""),[v,y]=(0,l.useState)(""),j=en(),C=(0,l.useRef)(null),w=(0,l.useCallback)(()=>{let e=j(eB(f,Number(x),"file"===u)),t=j(eB(f,Number(p),"file"===u)),i=e?.startNewComment,a=e?.diffLineKey,r=t?.diffLineKey;(eU("lineRange"===u?p:void 0,x)||"file"===u)&&i&&a?n(eV({isLeftSide:f,startLineNumber:"lineRange"===u?Number(p):void 0,endDiffLineKey:a,endLineNumber:Number(x),isFileLevelComment:"file"===u,startDiffLineKey:"lineRange"===u?r:void 0,startConversationOnNewLine:i,closeLineMovingDialog:()=>d(!1),setErrorMessage:e=>y(e)})):y("Please enter a valid line number or range.")},[j,f,x,u,p,n]);return(0,i.jsxs)("div",{className:"ml-1",children:[(0,i.jsx)(e_.Q,{"aria-labelledby":e,"aria-description":"Select to change location",ref:C,type:"button",size:"small",onClick:()=>d(!0),trailingAction:c.TriangleDownIcon,children:t}),o&&(0,i.jsx)(eI.l,{onClose:()=>d(!1),returnFocusRef:C,title:"Add comment on",width:"medium",footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>{d(!1)}},{buttonType:"primary",content:"Save",onClick:w}],children:(0,i.jsxs)(eR.A,{name:"line-number-selection",onChange:e=>{m(e)},children:[(0,i.jsx)(eR.A.Label,{}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"line",defaultChecked:"line"===u}),(0,i.jsx)(ek.A.Label,{children:"Line number"}),"line"===u&&(0,i.jsxs)(ek.A.Caption,{className:"d-flex align-items-center",children:[(0,i.jsx)(eM,{isLeftSelected:f,setIsLeftSelected:h}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:x,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()}})]})]}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"lineRange",defaultChecked:"lineRange"===u}),(0,i.jsx)(ek.A.Label,{children:"Line range"}),"lineRange"===u&&(0,i.jsxs)(ek.A.Caption,{className:"d-flex align-items-center",children:[(0,i.jsx)(eM,{isLeftSelected:f,setIsLeftSelected:h}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:p,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()}}),(0,i.jsx)(c.ArrowRightIcon,{className:"mt-2 mx-2"}),(0,i.jsx)(eE.A,{autoComplete:"off",className:"ml-1","aria-label":"Line number",name:"lineNumber",value:x,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()}})]})]}),(0,i.jsxs)(ek.A,{children:[(0,i.jsx)(eA.A,{value:"file",defaultChecked:"file"===u}),(0,i.jsx)(ek.A.Label,{children:"File"})]}),v&&(0,i.jsx)(eR.A.Validation,{variant:"error",children:v})]})})]})},eF="Left (L)",e$="Right (R)",eM=(0,a.GV)()?function(e){let t,n,a,s,l,o=(0,r.c)(12),{isLeftSelected:d,setIsLeftSelected:c}=e,u=d?eF:e$;return o[0]!==u?(t=(0,i.jsx)(eT.W.Button,{children:u}),o[0]=u,o[1]=t):t=o[1],o[2]!==c?(n=(0,i.jsx)(eO.l.Item,{onSelect:()=>{c(!0)},children:eF}),o[2]=c,o[3]=n):n=o[3],o[4]!==c?(a=(0,i.jsx)(eO.l.Item,{onSelect:()=>{c(!1)},children:e$}),o[4]=c,o[5]=a):a=o[5],o[6]!==n||o[7]!==a?(s=(0,i.jsx)(eT.W.Overlay,{children:(0,i.jsxs)(eO.l,{children:[n,a]})}),o[6]=n,o[7]=a,o[8]=s):s=o[8],o[9]!==t||o[10]!==s?(l=(0,i.jsxs)(eT.W,{children:[t,s]}),o[9]=t,o[10]=s,o[11]=l):l=o[11],l}:function({isLeftSelected:e,setIsLeftSelected:t}){let n=e?eF:e$;return(0,i.jsxs)(eT.W,{children:[(0,i.jsx)(eT.W.Button,{children:n}),(0,i.jsx)(eT.W.Overlay,{children:(0,i.jsxs)(eO.l,{children:[(0,i.jsx)(eO.l.Item,{onSelect:()=>{t(!0)},children:eF}),(0,i.jsx)(eO.l.Item,{onSelect:()=>{t(!1)},children:e$})]})})]})};function eB(e,t,n){return n?"F0":`${e?"L":"R"}${t}`}function eV(e){return{diffSide:e.isLeftSide?"LEFT":"RIGHT",startLineNumber:e.startLineNumber,endLineNumber:e.endLineNumber,isFileLevelComment:e.isFileLevelComment,startDiffLineKey:e.startDiffLineKey,endDiffLineKey:e.endDiffLineKey,setErrorMessage:e.setErrorMessage,startConversationOnNewLine:e.startConversationOnNewLine,closeLineMovingDialog:e.closeLineMovingDialog}}function eU(e,t){let n=Number(e),i=Number(t);return Number.isInteger(i)&&i>0&&(void 0===e||Number.isInteger(n)&&n>0&&n<=i)}try{eP.displayName||(eP.displayName="ChangeCommentLineNumberButton")}catch{}try{eM.displayName||(eM.displayName="MoveCommentLineNumberDropdown")}catch{}var eG=n(91747);let eH="diff-comment-positioning-",eq=(0,a.GV)()?function(e){let t,n,a,s,o,f,p,g,x,b,v,y,j,C,w,N,S,L,D,_,I=(0,r.c)(52);if(I[0]!==e){let{addCommentDialogTitle:i,isLeftSide:r,fileLevelComment:l,filePath:d,focusOnMount:c,lineNumber:u,onAddComment:m,onClose:h,viewerData:y,threadsConnectionId:j,showOnCloseIcon:C,...w}=e;t=i,s=r,n=l,a=d,x=c,o=u,f=m,p=h,v=y,b=C,g=w,I[0]=e,I[1]=t,I[2]=n,I[3]=a,I[4]=s,I[5]=o,I[6]=f,I[7]=p,I[8]=g,I[9]=x,I[10]=b,I[11]=v}else t=I[1],n=I[2],a=I[3],s=I[4],o=I[5],f=I[6],p=I[7],g=I[8],x=I[9],b=I[10],v=I[11];let R=void 0===x||x,k=void 0===b||b,[A,E]=(0,l.useState)(void 0),T=(0,eG.u)("move_new_comments_ui");I[12]!==f?(y=e=>{let{commentText:t,onCompleted:n,onError:i,submitBatch:a}=e;f({text:t,onError:i,onCompleted:(e,t)=>{t&&h(t.toString()),n?.(e,t)},submitBatch:a})},I[12]=f,I[13]=y):y=I[13];let O=y,P=`${eH}${(0,l.useId)()}`,F=v.avatarUrl||"";I[14]!==F||I[15]!==v.login?(j=(0,i.jsx)(d.r,{alt:v.login,size:24,src:F,className:"mr-2"}),I[14]=F,I[15]=v.login,I[16]=j):j=I[16],I[17]!==t||I[18]!==n||I[19]!==T?(C=!T&&(n?(0,i.jsx)(i.Fragment,{children:"Add comment on file"}):(0,i.jsx)("span",{children:t?`Add a comment on ${t}`:"Add a comment"})),I[17]=t,I[18]=n,I[19]=T,I[20]=C):C=I[20],I[21]!==t||I[22]!==P||I[23]!==n||I[24]!==s||I[25]!==o||I[26]!==T||I[27]!==g?(w=T&&(0,i.jsxs)("div",{className:"d-flex flex-items-center",id:P,children:[(0,i.jsxs)("div",{className:"pt-1",children:["Add ",n?"":"a"," comment on "]}),(0,i.jsx)(eP,{ariaLabelId:P,currentLineNumberText:n?"file":t??"",baseEndLineNumber:o,baseStartLineNumber:g.startLineNumber,diffSide:s?"LEFT":"RIGHT",setCommentLineChangeConfig:E})]}),I[21]=t,I[22]=P,I[23]=n,I[24]=s,I[25]=o,I[26]=T,I[27]=g,I[28]=w):w=I[28],I[29]!==j||I[30]!==C||I[31]!==w?(N=(0,i.jsxs)(u.A,{as:"h4",className:"f5 ml-1 pt-1 pb-2 d-flex",children:[j,C,w]}),I[29]=j,I[30]=C,I[31]=w,I[32]=N):N=I[32],I[33]!==p||I[34]!==k?(S=p&&k&&(0,i.jsx)(m.K,{variant:"invisible",icon:c.XIcon,onClick:()=>p(),"aria-label":"Cancel"}),I[33]=p,I[34]=k,I[35]=S):S=I[35],I[36]!==N||I[37]!==S?(L=(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[N,S]}),I[36]=N,I[37]=S,I[38]=L):L=I[38];let $=n??!1,M=s?"LEFT":"RIGHT";return I[39]!==A||I[40]!==a||I[41]!==R||I[42]!==O||I[43]!==o||I[44]!==p||I[45]!==g||I[46]!==$||I[47]!==M?(D=(0,i.jsx)(eD,{focusOnMount:R,condensed:!1,fileLevelComment:$,filePath:a,lineNumber:o,onAddComment:O,onCancelComment:p,commentLineChangeConfig:A,side:M,...g}),I[39]=A,I[40]=a,I[41]=R,I[42]=O,I[43]=o,I[44]=p,I[45]=g,I[46]=$,I[47]=M,I[48]=D):D=I[48],I[49]!==L||I[50]!==D?(_=(0,i.jsxs)("div",{className:"px-2 pb-2 pt-1",children:[L,D]}),I[49]=L,I[50]=D,I[51]=_):_=I[51],_}:function({addCommentDialogTitle:e,isLeftSide:t,fileLevelComment:n,filePath:a,focusOnMount:r=!0,lineNumber:s,onAddComment:o,onClose:f,viewerData:p,threadsConnectionId:g,showOnCloseIcon:x=!0,...b}){let[v,y]=(0,l.useState)(void 0),j=(0,eG.u)("move_new_comments_ui"),C=`${eH}${(0,l.useId)()}`;return(0,i.jsxs)("div",{className:"px-2 pb-2 pt-1",children:[(0,i.jsxs)("div",{className:"d-flex flex-justify-between flex-items-center",children:[(0,i.jsxs)(u.A,{as:"h4",className:"f5 ml-1 pt-1 pb-2 d-flex",children:[(0,i.jsx)(d.r,{alt:p.login,size:24,src:p.avatarUrl||"",className:"mr-2"}),!j&&(n?(0,i.jsx)(i.Fragment,{children:"Add comment on file"}):(0,i.jsx)("span",{children:e?`Add a comment on ${e}`:"Add a comment"})),j&&(0,i.jsxs)("div",{className:"d-flex flex-items-center",id:C,children:[(0,i.jsxs)("div",{className:"pt-1",children:["Add ",n?"":"a"," comment on "]}),(0,i.jsx)(eP,{ariaLabelId:C,currentLineNumberText:n?"file":e??"",baseEndLineNumber:s,baseStartLineNumber:b.startLineNumber,diffSide:t?"LEFT":"RIGHT",setCommentLineChangeConfig:y})]})]}),f&&x&&(0,i.jsx)(m.K,{variant:"invisible",icon:c.XIcon,onClick:()=>f(),"aria-label":"Cancel"})]}),(0,i.jsx)(eD,{focusOnMount:r,condensed:!1,fileLevelComment:n??!1,filePath:a,lineNumber:s,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{o({text:e,onError:n,onCompleted:(e,n)=>{n&&h(n.toString()),t?.(e,n)},submitBatch:i})},onCancelComment:f,commentLineChangeConfig:v,side:t?"LEFT":"RIGHT",...b})]})};try{eq.displayName||(eq.displayName="StartThreadComment")}catch{}var ez=n(33671),eK=n(8934),eW=n(97286),eZ=n(73017),eQ=n(69726);let eX="RichDiff-module__fileRendererViewport--EBwd1",eJ="RichDiff-module__fileRendererIframe--svTsY",eY=(0,a.GV)()?function(e){let t,n,a,s,l,o,d=(0,r.c)(29),{queryConfig:c,initialData:u}=e;if(u&&(u.proseDiffHtml||u.renderInfo||u.dependencyDiffPath)){let e;d[0]!==u.dependencyDiffPath||d[1]!==u.proseDiffHtml||d[2]!==u.renderInfo?(e={proseDiffHtml:u.proseDiffHtml,renderInfo:u.renderInfo,dependencyDiffPath:u.dependencyDiffPath},d[0]=u.dependencyDiffPath,d[1]=u.proseDiffHtml,d[2]=u.renderInfo,d[3]=e):e=d[3],o=e}let m=c?.key,f=c?.args;d[4]!==m||d[5]!==f?(t=[m,f],d[4]=m,d[5]=f,d[6]=t):t=d[6],d[7]!==c?(n=async()=>await c?.fetcher(c.args)||{},d[7]=c,d[8]=n):n=d[8];let h=!!c;d[9]!==o||d[10]!==t||d[11]!==n||d[12]!==h?(a={queryKey:t,queryFn:n,initialData:o,staleTime:1/0,enabled:h},d[9]=o,d[10]=t,d[11]=n,d[12]=h,d[13]=a):a=d[13];let p=(0,eW.I)(a);d[14]!==o||d[15]!==c||d[16]!==p?(s=c?p:{data:o,isLoading:!1},d[14]=o,d[15]=c,d[16]=p,d[17]=s):s=d[17];let{data:g,isLoading:x}=s;d[18]!==g?(l=g||{},d[18]=g,d[19]=l):l=d[19];let{proseDiffHtml:b,renderInfo:v,dependencyDiffPath:y}=l;if(x){let e;return d[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(eQ.A,{size:"large"})}),d[20]=e):e=d[20],e}if(b){let e;return d[21]!==b?(e=(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(eZ.vb,{html:b})}),d[21]=b,d[22]=e):e=d[22],e}if(v){let e;return d[23]!==v?(e=(0,i.jsx)(ez.default,{...v,viewportClassName:eX,iframeClassName:eJ}),d[23]=v,d[24]=e):e=d[24],e}if(y){let e,t;return d[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(eQ.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]}),d[25]=e):e=d[25],d[26]!==y?(t=(0,i.jsx)("div",{children:(0,i.jsx)(eK.x,{src:y,children:e})}),d[26]=y,d[27]=t):t=d[27],t}{let e;return d[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."}),d[28]=e):e=d[28],e}}:function({queryConfig:e,initialData:t}){let n;t&&(t.proseDiffHtml||t.renderInfo||t.dependencyDiffPath)&&(n={proseDiffHtml:t.proseDiffHtml,renderInfo:t.renderInfo,dependencyDiffPath:t.dependencyDiffPath});let a=(0,eW.I)({queryKey:[e?.key,e?.args],queryFn:async()=>await e?.fetcher(e.args)||{},initialData:n,staleTime:1/0,enabled:!!e}),{data:r,isLoading:s}=e?a:{data:n,isLoading:!1},{proseDiffHtml:l,renderInfo:o,dependencyDiffPath:d}=r||{};return s?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(eQ.A,{size:"large"})}):l?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(eZ.vb,{html:l})}):o?(0,i.jsx)(ez.default,{...o,viewportClassName:eX,iframeClassName:eJ}):d?(0,i.jsx)("div",{children:(0,i.jsx)(eK.x,{src:d,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(eQ.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})};try{eY.displayName||(eY.displayName="RichDiff")}catch{}var e0=n(59523),e1=n(19976),e2=n(13083),e3=n(84268),e4=n(69599);let e5="HiddenDiffPatch-module__gridColumnTemplate--gSfuk",e6=(0,a.GV)()?function(e){let t,n,a,s,o,d,u,m,f,h,p=(0,r.c)(27),{children:g,helpText:x,helpUrl:v,onLoadDiff:y,diffAnchor:j}=e,C=v&&x,[w,N]=(0,l.useState)("initial");p[0]!==y?(t=async()=>{try{N("loading"),await y()}catch{N("error")}},p[0]=y,p[1]=t):t=p[1];let S=t;return p[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)(e5),p[2]=n):n=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(a={maxWidth:"340px"},p[3]=a):a=p[3],p[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:a,viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})}),p[4]=s):s=p[4],p[5]!==w?(o="loading"===w&&(0,i.jsx)(eQ.A,{size:"medium"}),p[5]=w,p[6]=o):o=p[6],p[7]!==w?(d="error"===w&&(0,i.jsx)(c.AlertIcon,{size:24}),p[7]=w,p[8]=d):d=p[8],p[9]!==w||p[10]!==S?(u="initial"===w&&(0,i.jsx)(e_.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{S(),N("loading")},children:"Load Diff"}),p[9]=w,p[10]=S,p[11]=u):u=p[11],p[12]!==g||p[13]!==x||p[14]!==v||p[15]!==w||p[16]!==S||p[17]!==C?(m="error"===w?(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,i.jsx)(e3.A,{inline:!0,as:"button",onClick:()=>{S(),N("loading")},children:"Retry"})]}):(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[g,C&&(0,i.jsx)(e3.A,{inline:!0,href:v,children:x})]}),p[12]=g,p[13]=x,p[14]=v,p[15]=w,p[16]=S,p[17]=C,p[18]=m):m=p[18],p[19]!==o||p[20]!==d||p[21]!==u||p[22]!==m?(f=(0,i.jsxs)("div",{className:n,children:[s," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:[o,d,u,m]})]}),p[19]=o,p[20]=d,p[21]=u,p[22]=m,p[23]=f):f=p[23],p[24]!==j||p[25]!==f?(h=(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":j,children:f}),p[24]=j,p[25]=f,p[26]=h):h=p[26],h}:function({children:e,helpText:t,helpUrl:n,onLoadDiff:a,diffAnchor:r}){let s=n&&t,[o,d]=(0,l.useState)("initial"),u=(0,l.useCallback)(async()=>{try{d("loading"),await a()}catch{d("error")}},[a,d]);return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":r,children:(0,i.jsxs)("div",{className:(0,b.$)(e5),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:["loading"===o&&(0,i.jsx)(eQ.A,{size:"medium"}),"error"===o&&(0,i.jsx)(c.AlertIcon,{size:24}),"initial"===o&&(0,i.jsx)(e_.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{u(),d("loading")},children:"Load Diff"}),"error"===o?(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,i.jsx)(e3.A,{inline:!0,as:"button",onClick:()=>{u(),d("loading")},children:"Retry"})]}):(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,s&&(0,i.jsx)(e3.A,{inline:!0,href:n,children:t})]})]})]})})};try{e6.displayName||(e6.displayName="HiddenDiffPatch")}catch{}let e7="final-hunk-header-line";function e8(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function e9(e,t){if("HUNK"===e.type&&e.__id===e7)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let n=t.sort(e8).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[n],nextHunk:t[n+1],previousHunk:t[n-1]}}function te(e){let t,n=[],i=0;for(let a=1;a<e.length;a++){let r=e[a];if(r&&!(0,E.Po)(r)&&(t=r,"HUNK"===r.type)){let t,s=e[i];if(!s||(0,E.Po)(s))continue;let l=a-1;for(;(!t||(0,E.Po)(t))&&(t=e[l],-1!=--l););t&&!(0,E.Po)(t)&&n.push({startBlobLineNumber:s.blobLineNumber,endBlobLineNumber:t.blobLineNumber}),r.__id===e7&&n.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:r.blobLineNumber+20}),i=a;continue}}if(t&&"HUNK"!==t.type){let a=e[i];a&&!(0,E.Po)(a)&&n.push({startBlobLineNumber:a.blobLineNumber,endBlobLineNumber:t.blobLineNumber})}return n}var tt=n(45800),tn=n(35750),ti=n(18150),ta=n(85242),tr=n(88243),ts=n(16213),tl=n(50467),to=new WeakMap,td=new WeakMap,tc=new WeakMap,tu=new WeakMap,tm=new WeakMap,tf=new WeakMap,th=new WeakSet,tp=new WeakSet,tg=new WeakSet,tx=new WeakSet,tb=new WeakSet,tv=new WeakSet,ty=new WeakSet,tj=new WeakSet,tC=new WeakSet,tw=new WeakSet;let GridNavigator=class GridNavigator{moveToNextItem(e,t){let n,i=(0,tn._)(this,td).get(this.focusedGridCell?.cellId??"");if(!i)return;let[a]=i,[,r]=i;switch(("ArrowDown"===e||"ArrowUp"===e)&&(0,tr._)(this,ty,tR).call(this,a)&&(0,tn._)(this,tu)&&(r=(0,tn._)(this,tu),(0,ta._)(this,tu,void 0)),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=(0,tn._)(this,to).length-1,t=(0,tn._)(this,to)[e]?.length;t&&(n=(0,tn._)(this,to)[e]?.[t-1]);break}case"ArrowUp"===e:(0,tr._)(this,ty,tR).call(this,a-1)?((0,tr._)(this,tw,tE).call(this,r),n=(0,tn._)(this,to)[a-1]?.[0]):n=(0,tn._)(this,to)[a-1]?.[r];break;case"ArrowDown"===e:(0,tr._)(this,ty,tR).call(this,a+1)?((0,tr._)(this,tw,tE).call(this,r),n=(0,tn._)(this,to)[a+1]?.[0]):n=(0,tn._)(this,to)[a+1]?.[r];break;case"ArrowLeft"===e:n=(0,tn._)(this,to)[a]?.[r-1];break;case"ArrowRight"===e:n=(0,tn._)(this,to)[a]?.[r+1];break;case"PageUp"===e:{(0,tr._)(this,tw,tE).call(this,r);let e=(0,tr._)(this,tg,tL).call(this,a);n=(0,tn._)(this,to)[e]?.[0];break}case"PageDown"===e:{(0,tr._)(this,tw,tE).call(this,r);let e=(0,tr._)(this,tp,tS).call(this,a),t=0;e||(e=(0,tn._)(this,to).length-1,t=r),n=(0,tn._)(this,to)[e]?.[t];break}case"Home"===e:n=(0,tn._)(this,to)[a]?.[0];break;case"End"===e:{let e=(0,tn._)(this,to)[a];if(e&&!(0,tr._)(this,ty,tR).call(this,a)){let t=e.length-1;n=(0,tn._)(this,to)[a]?.[t]}}}return n&&(this.focusedGridCell=n),this.focusedGridCell}reinitializeGrid(e,t){(0,tr._)(this,tx,tD).call(this,e,t)}focusFirstGridCell(e){e&&(0,tn._)(this,td).get(e)?this.focusGridCell(e):this.focusedGridCell=(0,tn._)(this,to)[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=(0,tn._)(this,td).get(e);if(!t)return;let[n,i]=t;this.focusedGridCell=(0,tn._)(this,to)[n]?.[i]}getNextSelectableCell(e){let t,n=this.getValidSelectableRowCell()||this.focusedGridCell,i=this.lastSelectedGridCell||n,a=(0,tn._)(this,td).get(i?.cellId??"");if(!a)return;let[r,s]=a;if("ArrowUp"===e){let e=r-1;for(;!t&&e>=0;)t=(0,tr._)(this,th,tN).call(this,{rowIndex:e,columnIndex:s}),e--}if("ArrowDown"===e){let e=r+1;for(;!t&&e<(0,tn._)(this,to).length;)t=(0,tr._)(this,th,tN).call(this,{rowIndex:e,columnIndex:s}),e++}return t&&(this.lastSelectedGridCell=t),t}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=(0,tn._)(this,td).get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<=1&&!(0,tn._)(this,tf)?(0,tn._)(this,to)[e]?.[this.focusedGridCell.columnIndex+1]:this.focusedGridCell.columnIndex<2&&(0,tn._)(this,tf)?(0,tn._)(this,to)[e]?.[this.focusedGridCell.columnIndex+2]:(0,tn._)(this,to)[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=(0,tn._)(this,to).find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=(0,tn._)(this,to).slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,n){let i=(0,E.qX)((0,tn._)(this,tm),e,t),a=(0,E.u6)(i,0),r=(0,tn._)(this,td).get(a);if(!r)return!1;let[s]=r;return!!n===(0,tr._)(this,ty,tR).call(this,s)}constructor(e,t,n,i,a){(0,ts._)(this,th),(0,ts._)(this,tp),(0,ts._)(this,tg),(0,ts._)(this,tx),(0,ts._)(this,tb),(0,ts._)(this,tv),(0,ts._)(this,ty),(0,ts._)(this,tj),(0,ts._)(this,tC),(0,ts._)(this,tw),(0,ti._)(this,to,{writable:!0,value:[]}),(0,ti._)(this,td,{writable:!0,value:new Map}),(0,ti._)(this,tc,{writable:!0,value:new Set}),(0,tl._)(this,"focusedGridCell",void 0),(0,tl._)(this,"lastSelectedGridCell",void 0),(0,ti._)(this,tu,{writable:!0,value:void 0}),(0,ti._)(this,tm,{writable:!0,value:void 0}),(0,ti._)(this,tf,{writable:!0,value:void 0}),(0,ta._)(this,tm,e),(0,ta._)(this,tf,t),(0,tr._)(this,tx,tD).call(this,n,i),this.focusFirstGridCell(a)}};function tN({rowIndex:e,columnIndex:t}){let n=(0,tn._)(this,to)[e],i=n?.[t];switch(!0){case i?.isHunk:return;case i?.orientation==="left"&&i.isEmpty:return n?.[t+2];case i?.orientation==="right"&&i.isEmpty&&(0,tn._)(this,tf):return n?.[t-2];case i?.orientation==="right"&&i.isEmpty&&!(0,tn._)(this,tf):return n?.[t+1];default:return n?.[t]}}function tS(e){return Array.from((0,tn._)(this,tc)).sort((e,t)=>e-t).find(t=>t>e)}function tL(e){return Array.from((0,tn._)(this,tc)).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}function tD(e,t){(0,ta._)(this,to,[]),(0,ta._)(this,td,new Map),(0,ta._)(this,tc,new Set);for(let n=0;n<e.length;n++){let i=[],a=e[n];if(void 0!==a){if((0,tn._)(this,tf)){let e=(t||[])[n],r=(0,E.qX)((0,tn._)(this,tm),a,e);(0,E.Po)(a)||"HUNK"!==a.type?(0,tr._)(this,tj,tk).call(this,{leftLine:a,rightLine:e,row:i,rowIdentifier:r,rowIndex:n}):(0,tr._)(this,tv,tI).call(this,i,r,n,a)}else{let e=(0,E.qX)((0,tn._)(this,tm),a,a);(0,E.Po)(a)||"HUNK"!==a.type?(0,tr._)(this,tC,tA).call(this,{diffLine:a,row:i,rowIdentifier:e,rowIndex:n}):(0,tr._)(this,tv,tI).call(this,i,e,n,a)}(0,tn._)(this,to).push(i)}}}function t_({cellIndex:e,diffLine:t,orientation:n,row:i,rowIdentifier:a,rowIndex:r,isSplit:s}){let l,o,d=(0,E.u6)(a,e);o=!(s||(0,E.Po)(t))&&t?.type==="DELETION"&&1===e||!(s||(0,E.Po)(t))&&t?.type==="ADDITION"&&0===e||(0,E.Po)(t),(0,E.Po)(t)||"left"!==n||(l=t?.left),(0,E.Po)(t)||"right"!==n||(l=t?.right),i.push({lineNumber:l,orientation:n,isEmpty:o,isHunk:!1,cellId:(0,E.u6)(a,e),columnIndex:e,lineKey:!(0,E.Po)(t)&&t?(0,T.bo)(t):void 0}),(0,tn._)(this,td).set(d,[r,e])}function tI(e,t,n,i){let a=(0,E.u6)(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:a,columnIndex:0,lineKey:(0,T.bo)(i)}),(0,tn._)(this,td).set(a,[n,0]),(0,tn._)(this,tc).add(n)}function tR(e){return(0,tn._)(this,tc).has(e)}function tk({leftLine:e,rightLine:t,row:n,rowIdentifier:i,rowIndex:a}){(0,tr._)(this,tb,t_).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:a,isSplit:!0}),(0,tr._)(this,tb,t_).call(this,{cellIndex:1,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:a,isSplit:!0}),(0,tr._)(this,tb,t_).call(this,{cellIndex:2,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:a,isSplit:!0}),(0,tr._)(this,tb,t_).call(this,{cellIndex:3,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:a,isSplit:!0})}function tA({diffLine:e,row:t,rowIdentifier:n,rowIndex:i}){let a=(0,E.Po)(e)||"DELETION"!==e.type?"right":"left";(0,tr._)(this,tb,t_).call(this,{cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:n,rowIndex:i,isSplit:!1}),(0,tr._)(this,tb,t_).call(this,{cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:n,rowIndex:i,isSplit:!1}),(0,tr._)(this,tb,t_).call(this,{cellIndex:2,diffLine:e,orientation:a,row:t,rowIdentifier:n,rowIndex:i,isSplit:!1})}function tE(e){(0,tr._)(this,ty,tR).call(this,e)||(0,ta._)(this,tu,e)}function tT(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}function tO(e,t,n){let i=[];for(let a=0;a<t.length;a++){let r=t[a],s=n?.[a]??r,l=!(0,E.Po)(r)&&r?.type==="HUNK";r&&s&&!e.hasLine(r,s,l)&&i.push(r)}return i}let tP=(0,a.GV)()?function(e,t,n,i,a,s){let o,d,c=(0,r.c)(8);c[0]!==i||c[1]!==e||c[2]!==n||c[3]!==t||c[4]!==a||c[5]!==s?(o=()=>{if(a&&document.activeElement){let r=tO(a,t,s);if(0!==r.length){if(document.activeElement===document.body){let i,a,s,l=t.indexOf(r[r.length-1]),o=t[l+1],d=r[0];o&&!(0,E.Po)(o)&&"HUNK"===o.type&&(i=(0,E.u6)((0,E.qX)(e,o,o),0),a=document.querySelector(`[data-grid-cell-id=${i}]`),s=a?.querySelector("button[data-direction=down], button[data-direction=all]")),s||(i=(0,E.u6)((0,E.qX)(e,d,d),0),a=document.querySelector(`[data-grid-cell-id=${i}]`),s=a?.querySelector("button[data-direction=up], button[data-direction=all]")),i&&a&&(s?s.focus():a.focus(),n.focusGridCell(i),tT(a))}else if("BUTTON"===document.activeElement.tagName)tT(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),t=n.focusedGridCell?.cellId;if(e!==t){let e=i.current?.querySelector(`[data-grid-cell-id=${t}]`);e?.focus()}}}}},d=[e,t,n,s,a,i],c[0]=i,c[1]=e,c[2]=n,c[3]=t,c[4]=a,c[5]=s,c[6]=o,c[7]=d):(o=c[6],d=c[7]),(0,l.useEffect)(o,d)}:function(e,t,n,i,a,r){(0,l.useEffect)(()=>{if(a&&document.activeElement){let s=tO(a,t,r);if(0!==s.length){if(document.activeElement===document.body){let i,a,r,l=t.indexOf(s[s.length-1]),o=t[l+1],d=s[0];o&&!(0,E.Po)(o)&&"HUNK"===o.type&&(i=(0,E.u6)((0,E.qX)(e,o,o),0),a=document.querySelector(`[data-grid-cell-id=${i}]`),r=a?.querySelector("button[data-direction=down], button[data-direction=all]")),r||(i=(0,E.u6)((0,E.qX)(e,d,d),0),a=document.querySelector(`[data-grid-cell-id=${i}]`),r=a?.querySelector("button[data-direction=up], button[data-direction=all]")),i&&a&&(r?r.focus():a.focus(),n.focusGridCell(i),tT(a))}else if("BUTTON"===document.activeElement.tagName)tT(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),t=n.focusedGridCell?.cellId;if(e!==t){let e=i.current?.querySelector(`[data-grid-cell-id=${t}]`);e?.focus()}}}}},[e,t,n,r,a,i])};var tF=n(69676);let t$={ArrowLeft:tF.z0.ArrowHorizontal,ArrowDown:tF.z0.ArrowVertical,ArrowUp:tF.z0.ArrowVertical,ArrowRight:tF.z0.ArrowHorizontal,h:tF.z0.HL,j:tF.z0.JK,k:tF.z0.JK,l:tF.z0.HL,a:tF.z0.AD,s:tF.z0.WS,w:tF.z0.WS,d:tF.z0.AD,Tab:tF.z0.Tab,Home:tF.z0.HomeAndEnd,End:tF.z0.HomeAndEnd,PageUp:tF.z0.PageUpDown,PageDown:tF.z0.PageUpDown,Backspace:tF.z0.Backspace},tM=tF.z0.ArrowAll|tF.z0.PageUpDown|tF.z0.HomeAndEnd|tF.z0.AD,tB={avatarUrl:"https://avatars.githubusercontent.com/ghost",id:"ghost",login:"ghost",url:"/ghost",__typename:"Author"},tV=(0,a.GV)()?function(e,t){let n,i,a,s=(0,r.c)(6);s[0]!==t?(n=e=>{let n=e.target.getAttribute("data-grid-cell-id");n&&t.focusGridCell(n)},s[0]=t,s[1]=n):n=s[1];let o=n;s[2]!==e||s[3]!==o?(i=()=>{let t=e.current;return t?.addEventListener("focusin",o),()=>t?.removeEventListener("focusin",o)},a=[e,o],s[2]=e,s[3]=o,s[4]=i,s[5]=a):(i=s[4],a=s[5]),(0,l.useEffect)(i,a)}:function(e,t){let n=(0,l.useCallback)(e=>{let n=e.target.getAttribute("data-grid-cell-id");n&&t.focusGridCell(n)},[t]);(0,l.useEffect)(()=>{let t=e.current;return t?.addEventListener("focusin",n),()=>t?.removeEventListener("focusin",n)},[e,n])};function tU(e){return e in t$&&(t$[e]&tM)>0}function tG({addLineToSelection:e,clearSelectedLines:t,containerRef:n,fileAnchor:i,getfirstLineSelectionOnDrag:a,isSplitDiff:r,leftLines:s,rightLines:o,selectMultipleLines:d,disabled:c}){let u=(0,l.useRef)(void 0),m=(0,l.useMemo)(()=>new GridNavigator(i,r,s,o,u.current?.focusedGridCell?.cellId),[i,r,s,o]);(0,l.useEffect)(()=>{u.current=m},[m]),(0,l.useEffect)(()=>{let e=n.current,t=()=>{m.clearLastSelectedCell()};return e?.addEventListener("mousedown",t),()=>e?.removeEventListener("mousedown",t)},[n,m]),tP(i,s,m,n,u.current,o),tV(n,m);let f=(0,l.useCallback)((n,i,r)=>{let s=m.getValidSelectableRowCell();switch(!0){case(r.metaKey||r.ctrlKey)&&"KeyA"===r.code:{let e=m.getFirstCodeCell(),t=m.getLastCodeCell();if(!e||!t)return i;return e.lineKey&&e.lineNumber&&e.orientation&&d({endLineKey:t.lineKey,endOrientation:t.orientation,startLineKey:e.lineKey,startOrientation:e.orientation,firstLineSelectionOnDrag:{lineKey:e.lineKey,lineNumber:e.lineNumber,orientation:e.orientation,shouldStartConversation:!1}},eC),i}case r.shiftKey&&"ArrowDown"===r.key:{let t=m.getNextSelectableCell("ArrowDown");if(!t||!s)return i;return a()?e({lineKey:t.lineKey,orientation:t.orientation},eC):s.lineKey&&s.lineNumber&&s.orientation&&d({endLineKey:t.lineKey,endOrientation:t.orientation,startLineKey:s.lineKey,startOrientation:s.orientation,firstLineSelectionOnDrag:{lineKey:s.lineKey,lineNumber:s.lineNumber,orientation:s.orientation,shouldStartConversation:!1}},eC),tH(t.cellId),i}case r.shiftKey&&"ArrowUp"===r.key:{let t=m.getNextSelectableCell("ArrowUp");if(!t||!s)return i;return a()?e({lineKey:t.lineKey,orientation:t.orientation},eC):s.lineKey&&s.lineNumber&&s.orientation&&d({endLineKey:s.lineKey,endOrientation:s.orientation,startLineKey:t.lineKey,startOrientation:t.orientation,firstLineSelectionOnDrag:{lineKey:s.lineKey,lineNumber:s.lineNumber,orientation:s.orientation,shouldStartConversation:!1}},eC),tH(t.cellId),i}case"ArrowLeft"===r.key&&r.metaKey&&r.shiftKey:return i;default:{let e=m.moveToNextItem(r.key,r.ctrlKey),n=e&&document.querySelector(`[data-grid-cell-id=${e.cellId}]`);return t(),m.clearLastSelectedCell(),n??void 0}}},[e,a,m,d,t]);return(0,tt.G)({containerRef:n,bindKeys:tM,getNextFocusable:f,focusableElementFilter:e=>"TD"===e.tagName&&"gridcell"===e.getAttribute("role"),focusInStrategy:"previous",disabled:c},[f]),{gridNavigator:m}}function tH(e){let t=g.XC?.querySelector(`[data-grid-cell-id=${e}]`);!function(e){if(!g.XC||!g.cg||!e)return!1;let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(g.cg.innerHeight||g.XC.documentElement.clientHeight)&&t.right<=(g.cg.innerWidth||g.XC.documentElement.clientWidth)}(t)&&t?.scrollIntoView({block:"nearest",inline:"nearest"})}var tq=n(21537),tz=n(30459),tK=n(50899),tW=n(54571);let tZ=(0,a.GV)()?function(e,t){let n,i,a,s,l,o=(0,r.c)(17),{sendAnalyticsEvent:d}=(0,tz.s)(),c=B(),u=(0,_.ww)(),m=H();o[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],o[0]=n):n=o[0];let[f]=(0,tW.I)(tX,!0,n);o[1]!==c||o[2]!==e?(i=function(t){if(!t)return"DELETION"!==e.type;let n=c(t)?.selectedLeftLines;return n?!!n?.every(tQ):"right"===t.startOrientation&&"right"===t.endOrientation||(t.startLineNumber===t.endLineNumber&&t.startOrientation===t.endOrientation?"DELETION"!==e.type:void 0)},o[1]=c,o[2]=e,o[3]=i):i=o[3];let h=i;o[4]!==c||o[5]!==f||o[6]!==e?(a=function(t){let n=t?c(t)?.selectedRightLines:[];if(t&&n&&n.length>1)return f?"":(0,E.Ls)(n);if(!e)return"";let[i]=(0,E.dv)(e.text,e.type);return i},o[4]=c,o[5]=f,o[6]=e,o[7]=a):a=o[7];let p=a;o[8]!==p||o[9]!==u||o[10]!==d||o[11]!==h?(s=function(e,t){let n=!!(h(e)&&!u);return{isValidSuggestionRange:n,showSuggestChangesButton:n,sourceContentFromDiffLines:n?p(e):void 0,onInsertSuggestedChange:()=>{d("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:t}},o[8]=p,o[9]=u,o[10]=d,o[11]=h,o[12]=s):s=o[12];let g=(0,tK.K)(s);return o[13]!==g||o[14]!==m||o[15]!==t?(l={getSelectedLineRange:m,configureSuggestedChangesFromLineRange:g,shouldStartNewConversationWithSuggestedChange:t},o[13]=g,o[14]=m,o[15]=t,o[16]=l):l=o[16],l}:function(e,t){let{sendAnalyticsEvent:n}=(0,tz.s)(),i=B(),a=(0,_.ww)(),r=H(),[s]=(0,tW.I)(()=>!1,!0,[]),o=(0,tK.K)(function(t,r){let l=!!(function(t){if(!t)return"DELETION"!==e.type;let n=i(t)?.selectedLeftLines;return n?!!n?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type):"right"===t.startOrientation&&"right"===t.endOrientation||(t.startLineNumber===t.endLineNumber&&t.startOrientation===t.endOrientation?"DELETION"!==e.type:void 0)}(t)&&!a);return{isValidSuggestionRange:l,showSuggestChangesButton:l,sourceContentFromDiffLines:l?function(t){let n=t?i(t)?.selectedRightLines:[];if(t&&n&&n.length>1)return s?"":(0,E.Ls)(n);if(!e)return"";let[a]=(0,E.dv)(e.text,e.type);return a}(t):void 0,onInsertSuggestedChange:()=>{n("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:r}});return(0,l.useMemo)(()=>({getSelectedLineRange:r,configureSuggestedChangesFromLineRange:o,shouldStartNewConversationWithSuggestedChange:t}),[o,r,t])};function tQ(e){return"empty-diff-line"!==e&&"DELETION"!==e.type}function tX(){return!1}var tJ=n(20622),tY=n(48845),t0=n(97665),t1=n(94747),t2=n(96379),t3=n(69510),t4=n(43362);let t5=(0,a.Z6)()?function(){let e,t,n,i=(0,r.c)(12),a=(0,_.Kp)(),s=(0,t0.jE)(),l=`${a}/page_data/${tJ.uT.createReviewComment}`,{updateThread:d}=(0,_.an)(),{onCommentThreadAdded:c}=(0,_.Ud)(),{addPendingComment:u,clearPendingReview:m}=(0,_._N)();return i[0]!==l?(e=async e=>{let t=await (0,t2.Sr)(`${l}`,{method:"POST",headers:{Accept:"application/json"},body:e}),n=await (0,tY.hp)(t);return(0,tY.R)(t,n),n},i[0]=l,i[1]=e):e=i[1],i[2]!==u||i[3]!==a||i[4]!==m||i[5]!==c||i[6]!==s||i[7]!==d?(t=(e,t)=>{let n=t.subjectType===o.Wr.File?"FILE":"right"===t.side?`R${t.line}`:`L${t.line}`,i=t.startSide&&t.startLine?"right"===t.startSide?`R${t.startLine}`:`L${t.startLine}`:void 0;void 0!==t.submitBatch&&!t.submitBatch&&e.thread&&u(Number(e.thread.id)),t.submitBatch&&m(),d(Number(e.thread.id),t.path,n,()=>{let n=(0,t4.YY)(t);return e.thread.subject=n,e.thread.positioning=n,e.thread}),c({path:t.path,diffLineKey:n,startPosition:i,threadID:e.thread.id}),s.invalidateQueries({queryKey:(0,t3.XG)(a)})},i[2]=u,i[3]=a,i[4]=m,i[5]=c,i[6]=s,i[7]=d,i[8]=t):t=i[8],i[9]!==e||i[10]!==t?(n={mutationFn:e,onSuccess:t},i[9]=e,i[10]=t,i[11]=n):n=i[11],(0,t1.n)(n)}:function(){let e=(0,_.Kp)(),t=(0,t0.jE)(),n=`${e}/page_data/${tJ.uT.createReviewComment}`,{updateThread:i}=(0,_.an)(),{onCommentThreadAdded:a}=(0,_.Ud)(),{addPendingComment:r,clearPendingReview:s}=(0,_._N)();return(0,t1.n)({mutationFn:async e=>{let t=await (0,t2.Sr)(`${n}`,{method:"POST",headers:{Accept:"application/json"},body:e}),i=await (0,tY.hp)(t);return(0,tY.R)(t,i),i},onSuccess:(n,l)=>{let d=l.subjectType===o.Wr.File?"FILE":"right"===l.side?`R${l.line}`:`L${l.line}`,c=l.startSide&&l.startLine?"right"===l.startSide?`R${l.startLine}`:`L${l.startLine}`:void 0;void 0!==l.submitBatch&&!l.submitBatch&&n.thread&&r(Number(n.thread.id)),l.submitBatch&&s(),i(Number(n.thread.id),l.path,d,()=>{let e=(0,t4.YY)(l);return n.thread.subject=e,n.thread.positioning=e,n.thread}),a({path:l.path,diffLineKey:d,startPosition:c,threadID:n.thread.id}),t.invalidateQueries({queryKey:(0,t3.XG)(e)})}})};var t6=new WeakMap,t7=new WeakMap,t8=new WeakMap,t9=new WeakMap,ne=new WeakMap,nt=new WeakMap,nn=new WeakMap,ni=new WeakSet,na=new WeakSet,nr=new WeakSet;let ReviewCommentFactory=class ReviewCommentFactory{fileRequestData(){return{...(0,tr._)(this,nr,no).call(this),path:(0,tn._)(this,t7),subjectType:o.Wr.File}}lineRequestData(e,t){let n=t&&!(0,E.Ji)(e)?"left":"right";return{...(0,tr._)(this,nr,no).call(this),line:e.blobLineNumber,path:(0,tr._)(this,ni,ns).call(this,n),positioning:{type:o.Wr.Line,baseCommitOid:(0,tn._)(this,t6),headCommitOid:(0,tn._)(this,t8),path:(0,tr._)(this,ni,ns).call(this,n),line:e.blobLineNumber,commitOid:(0,tr._)(this,na,nl).call(this,n)},side:n,subjectType:o.Wr.Line}}multilineRequestData(e){let{endLineNumber:t,endOrientation:n,startLineNumber:i,startOrientation:a}=e,r="left"===n?"left":"right",s="left"===a?"left":"right";return{...(0,tr._)(this,nr,no).call(this),line:t,path:(0,tr._)(this,ni,ns).call(this,r),positioning:{baseCommitOid:(0,tn._)(this,t6),headCommitOid:(0,tn._)(this,t8),type:o.Wr.Multiline,startPath:(0,tr._)(this,ni,ns).call(this,s),startLine:i,startCommitOid:(0,tr._)(this,na,nl).call(this,s),endPath:(0,tr._)(this,ni,ns).call(this,r),endLine:t,endCommitOid:(0,tr._)(this,na,nl).call(this,r)},side:r,startLine:i,startSide:s,subjectType:o.Wr.Multiline}}constructor({filePath:e,newTreeEntry:t,oldTreeEntry:n,effectiveDiffRange:i,submitBatch:a,text:r}){(0,ts._)(this,ni),(0,ts._)(this,na),(0,ts._)(this,nr),(0,ti._)(this,t6,{writable:!0,value:void 0}),(0,ti._)(this,t7,{writable:!0,value:void 0}),(0,ti._)(this,t8,{writable:!0,value:void 0}),(0,ti._)(this,t9,{writable:!0,value:void 0}),(0,ti._)(this,ne,{writable:!0,value:void 0}),(0,ti._)(this,nt,{writable:!0,value:void 0}),(0,ti._)(this,nn,{writable:!0,value:void 0}),(0,ta._)(this,t6,i.baseOid),(0,ta._)(this,t7,e),(0,ta._)(this,t8,i.headOid),(0,ta._)(this,t9,t),(0,ta._)(this,ne,n),(0,ta._)(this,nt,a),(0,ta._)(this,nn,r)}};function ns(e){return"left"===e&&(0,tn._)(this,ne)?.path&&(0,tn._)(this,t9)?.path&&(0,tn._)(this,ne).path!==(0,tn._)(this,t9).path?(0,tn._)(this,ne).path:(0,tn._)(this,t7)}function nl(e){return"left"===e?(0,tn._)(this,t6):(0,tn._)(this,t8)}function no(){return{comparisonEndOid:(0,tn._)(this,t8),comparisonStartOid:(0,tn._)(this,t6),text:(0,tn._)(this,nn),submitBatch:(0,tn._)(this,nt)}}let nd=(e,t)=>!!e&&!!t.startLineNumber&&!!t.endLineNumber&&t.startLineNumber!==t.endLineNumber,nc=(0,a.GV)()?function(e,t,n){let i,a=(0,r.c)(4),s=H();e:{let r,l;if(!e){i="";break e}a[0]!==s||a[1]!==n?(r=n?s():void 0,a[0]=s,a[1]=n,a[2]=r):r=a[2];let o=r,d=!!o&&o.startLineNumber!==o.endLineNumber;if(o&&d){let e;a[3]===Symbol.for("react.memo_cache_sentinel")?(e={left:"L",right:"R"},a[3]=e):e=a[3];let t=e,n=t[o.startOrientation],i=t[o.endOrientation];l=o.startLineNumber!==o.endLineNumber?` lines ${n}${o.startLineNumber} to ${i}${o.endLineNumber}`:` line ${n}${o.startLineNumber}`}else{let n=t&&!(0,E.Ji)(e)?"L":"R";l=` line ${n}${e.blobLineNumber}`}i=l}return i}:function(e,t,n){let i=H();return(0,l.useMemo)(()=>{if(!e)return"";let a=n?i():void 0,r="",s=!!a&&a.startLineNumber!==a.endLineNumber;if(a&&s){let e={left:"L",right:"R"},t=e[a.startOrientation],n=e[a.endOrientation];r+=a.startLineNumber!==a.endLineNumber?` lines ${t}${a.startLineNumber} to ${n}${a.endLineNumber}`:` line ${t}${a.startLineNumber}`}else{let n=t&&!(0,E.Ji)(e)?"L":"R";r+=` line ${n}${e.blobLineNumber}`}return r},[e,t,n,i])},nu=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,f,h,p,g,x,b=(0,r.c)(38);if(b[0]!==e){let{diffAnchor:i,isInDialogMode:r,isOpen:l,onCloseCommentDialog:m,onAddComment:f,startLineNumber:h,diffLine:p,shouldStartNewConversationWithSuggestedChange:g,...x}=e;n=r,a=l,o=m,s=f,u=h,t=p,c=g,d=x,b[0]=e,b[1]=t,b[2]=n,b[3]=a,b[4]=s,b[5]=o,b[6]=d,b[7]=c,b[8]=u}else t=b[1],n=b[2],a=b[3],s=b[4],o=b[5],d=b[6],c=b[7],u=b[8];let{sendAnalyticsEvent:v}=(0,tz.s)(),y=(0,l.useRef)(null),j=H(),C=tZ(t,c),{newTreeEntry:w,oldTreeEntry:N}=et(),{effectiveRange:S}=(0,_.L3)(),{baseOid:L,headOid:D}=(0,_.E4)(),I=(0,eG.u)("cotd_ui"),R=t?.type==="DELETION",k=nc(t,!!R,!1),{mutate:A}=t5();b[9]!==I||b[10]!==A||b[11]!==t||b[12]!==S||b[13]!==D||b[14]!==j||b[15]!==R||b[16]!==w||b[17]!==N||b[18]!==d||b[19]!==L?(m=e=>{let{onCompleted:n,onError:i,submitBatch:a,text:r}=e;if(!t)return;let s=j();if(I){let e=new ReviewCommentFactory({filePath:d.filePath,newTreeEntry:w,oldTreeEntry:N,effectiveDiffRange:S,submitBatch:a,text:r});A(s&&nd(!1,s)?e.multilineRequestData(s):e.lineRequestData(t,R),{onError:i,onSuccess:e=>{n?.(e.thread.id,e.comment?.databaseId)}})}else{s&&(s.startLineNumber,s.endLineNumber);let e,l,o=t.blobLineNumber,c=R&&!(0,E.Ji)(t)?"left":"right";A({text:r,line:o,path:d.filePath,side:c,startSide:l,submitBatch:a,startLine:e,comparisonEndOid:D,comparisonStartOid:L},{onError:i,onSuccess:e=>{n?.(e.thread.id,e.comment?.databaseId)}})}},b[9]=I,b[10]=A,b[11]=t,b[12]=S,b[13]=D,b[14]=j,b[15]=R,b[16]=w,b[17]=N,b[18]=d,b[19]=L,b[20]=m):m=b[20];let T=m;e:{if(a&&C?.configureSuggestedChangesFromLineRange){let e;if(b[21]!==j||b[22]!==C){let t=j();e=C.configureSuggestedChangesFromLineRange(t,C?.shouldStartNewConversationWithSuggestedChange),b[21]=j,b[22]=C,b[23]=e}else e=b[23];f=e;break e}f=void 0}let O=f;if(!a)return null;b[24]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{e.target===y.current&&y.current.querySelector("textarea")?.focus()},b[24]=h):h=b[24];let P=h,F=n?0:-1;b[25]!==o||b[26]!==v?(p=e=>{o(e),v("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},b[25]=o,b[26]=v,b[27]=p):p=b[27];let $=s||T,M=u??void 0;return b[28]!==k||b[29]!==O||b[30]!==d||b[31]!==p||b[32]!==$||b[33]!==M?(g=(0,i.jsx)(eq,{onClose:p,showOnCloseIcon:!1,suggestedChangesConfig:O,onAddComment:$,addCommentDialogTitle:k,startLineNumber:M,...d}),b[28]=k,b[29]=O,b[30]=d,b[31]=p,b[32]=$,b[33]=M,b[34]=g):g=b[34],b[35]!==F||b[36]!==g?(x=(0,i.jsx)("div",{className:"rounded-2 bgColor-default","data-marker-navigation-new-thread":!0,"data-marker-id":"new-comment",ref:y,tabIndex:F,onFocus:P,children:g}),b[35]=F,b[36]=g,b[37]=x):x=b[37],x}:function({diffAnchor:e,isInDialogMode:t,isOpen:n,onCloseCommentDialog:a,onAddComment:r,startLineNumber:s,diffLine:o,shouldStartNewConversationWithSuggestedChange:d,...c}){let{sendAnalyticsEvent:u}=(0,tz.s)(),m=(0,l.useRef)(null),f=H(),h=tZ(o,d),{newTreeEntry:p,oldTreeEntry:g}=et(),{effectiveRange:x}=(0,_.L3)(),{baseOid:b,headOid:v}=(0,_.E4)(),y=(0,eG.u)("cotd_ui"),j=o?.type==="DELETION",C=nc(o,!!j,!1),w=(0,l.useMemo)(()=>{},[f,!1]),{mutate:N}=t5(),S=(0,l.useMemo)(()=>{if(n&&h?.configureSuggestedChangesFromLineRange){let e=f();return h.configureSuggestedChangesFromLineRange(e,h?.shouldStartNewConversationWithSuggestedChange)}},[n,h,f]);return n?(0,i.jsx)("div",{className:"rounded-2 bgColor-default","data-marker-navigation-new-thread":!0,"data-marker-id":"new-comment",ref:m,tabIndex:t?0:-1,onFocus:e=>{e.target===m.current&&m.current.querySelector("textarea")?.focus()},children:(0,i.jsx)(eq,{onClose:e=>{a(e),u("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},showOnCloseIcon:!1,suggestedChangesConfig:S,onAddComment:r||(({onCompleted:e,onError:t,submitBatch:n,text:i})=>{if(!o)return;let a=f();if(y){let r=new ReviewCommentFactory({filePath:c.filePath,newTreeEntry:p,oldTreeEntry:g,effectiveDiffRange:x,submitBatch:n,text:i});N(a&&nd(!1,a)?r.multilineRequestData(a):r.lineRequestData(o,j),{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment?.databaseId)}})}else{let r,s,l=!!a&&a.startLineNumber!==a.endLineNumber,d=o.blobLineNumber,u=j&&!(0,E.Ji)(o)?"left":"right";N({text:i,line:d,path:c.filePath,side:u,startSide:s,submitBatch:n,startLine:r,comparisonEndOid:v,comparisonStartOid:b},{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment?.databaseId)}})}}),addCommentDialogTitle:C,startLineNumber:s??w,...c})}):null};try{nu.displayName||(nu.displayName="StartConversation")}catch{}var nm=n(2265);let nf=tF.z0.ArrowAll;tF.z0.ArrowHorizontal,tF.z0.ArrowVertical,tF.z0.ArrowVertical,tF.z0.ArrowHorizontal;let MarkerNavigator=class MarkerNavigator{focusMarker(e){let t=this.markers.findIndex(t=>t.id.toString()===e.toString());-1!==t&&(this.currentMarkerPosition={markerId:e,index:t})}get focusedMarker(){if(this.currentMarkerPosition)return this.markers[this.currentMarkerPosition.index]}moveToFirstComment(e){if(0!==this.markers.length&&!e)return}moveToNextMarker(e,t){let n;if(0===this.markers.length)return;if(t){let e=t.closest("[data-marker-id]"),n=e?.getAttribute("data-marker-id");n&&(this.currentMarkerPosition={markerId:n,index:this.markers.findIndex(e=>e.id.toString()===n.toString())})}if(!this.currentMarkerPosition){let t="ArrowUp"===e?this.markers.length-1:0,n=this.markers[t];if(!n)return;return this.currentMarkerPosition={markerId:n.id,index:t},this.markers[t]}let i=0===this.currentMarkerPosition.index,a=this.currentMarkerPosition.index===this.markers.length-1;switch(e){case"ArrowDown":if(a)return;n=(this.currentMarkerPosition.index+1)%this.markers.length;break;case"ArrowUp":if(i)return;n=(this.currentMarkerPosition.index-1+this.markers.length)%this.markers.length;break;default:return}let r=this.markers[n];if(r)return this.currentMarkerPosition={markerId:r.id,index:n},r}moveToNextMarkerItem(e,t){let n;if(!t||!this.markerComments)return;let i=t.closest("[data-marker-id]"),a=i?.getAttribute("data-marker-id");if(!i||!a)return;let r=this.markerComments[a]||[];if(0===r.length)return;let s=t.getAttribute("data-marker-navigation-comment-id"),l=r.findIndex(e=>e.id===s);if(-1===l)return;let o=l===r.length-1;switch(e){case"ArrowDown":if(o)return;n=l+1;break;case"ArrowUp":if(0===l)return;n=l-1;break;default:return}let d=r[n];if(d)return this.currentMarkerCommentPosition={markerId:d.id,index:n},d}constructor(e,t,n){if((0,tl._)(this,"markers",void 0),(0,tl._)(this,"markerComments",null),(0,tl._)(this,"currentMarkerPosition",null),(0,tl._)(this,"currentMarkerCommentPosition",null),this.markers=e.map(e=>{let t=e.id;return{...e,id:t}}),this.markerComments=e.reduce((e,t)=>{let n=document.querySelectorAll(`[data-marker-navigation-comment-thread-id="${t.id}"]`);if(n){let i=Array.from(n).map(e=>({id:e.getAttribute("data-marker-navigation-comment-id")}));return{...e,[t.id.toString()]:i}}return e},{}),t&&!n){const e=this.markers.findIndex(e=>e.id.toString()===t.toString());-1!==e&&(this.currentMarkerPosition={markerId:t,index:e})}}};function nh({containerRef:e,markers:t,disabled:n=!1,focusInStrategy:i="previous"}){let a=(0,l.useRef)(void 0),r=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{r.current=new MarkerNavigator(t,a.current?.focusedMarker?.id||void 0),a.current=r.current},[t]);let s=(0,l.useCallback)((e,t,n)=>{let i=n.key,a=!np(t)&&!ng(t)&&!ny(t)&&!nx(t);switch(!0){case a&&("ArrowUp"===i||"ArrowDown"===i||"ArrowRight"===i||"ArrowLeft"===i):return nv(t)||nb(t)||void 0;case"ArrowUp"===i||"ArrowDown"===i:if(r.current&&np(t)){let e=r.current.moveToNextMarker(i,nb(t));if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(r.current&&nx(t)){let e=r.current.moveToNextMarker(i,nx(t));if(e)return document.querySelector(`[data-marker-id="${e.id}"]`)||void 0;return t}if(r.current&&ny(t)){let e=r.current.moveToNextMarkerItem(i,ny(t));if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0;return t}if(r.current&&ng(t)){let e=r.current.moveToNextMarkerItem(i,t);if(e)return document.querySelector(`[data-marker-navigation-comment-id="${e.id}"]`)||void 0}return t;case"ArrowRight"===i:if(ng(t))return nv(t);if(np(t))return t?.querySelector('[data-first-thread-comment="true"]')||void 0;return t;case"ArrowLeft"===i:if(np(t))return nb(t);if(nx(t))return nx(t);if(ny(t))return ny(t);if(ng(t))return t?.closest("[data-marker-id]")||void 0;return t;default:return t??void 0}},[r]);return(0,tt.G)({containerRef:e,bindKeys:nf,getNextFocusable:s,focusableElementFilter:e=>!n&&!!(e.hasAttribute("data-marker-id")&&e.hasAttribute("data-marker-navigation-comment-id")),focusInStrategy:i,disabled:n},[s,n]),{markerNavigator:r}}function np(e){return!!e?.hasAttribute("data-marker-id")}function ng(e){return!!e?.hasAttribute("data-marker-navigation-comment-id")}function nx(e){return e?.closest("[data-marker-navigation-new-thread]")??void 0}function nb(e){return e?.closest("[data-marker-id]")??void 0}function nv(e){return e?.closest("[data-marker-navigation-comment-id]")??void 0}function ny(e){return e?.closest("[data-marker-navigation-thread-reply]")??void 0}var nj=n(48505);let nC="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";function nw(e){e?.setAttribute("aria-hidden","true"),!function t(n=0){setTimeout(()=>{let n=Array.from(e?.querySelectorAll("*")??[]),i=Array.from(e?.querySelectorAll(nC)??[]);if(0===i.length)return t(200);for(let e of n)e?.setAttribute("aria-hidden","true");for(let e of i)e.setAttribute("tabindex","-1")},n)}()}function nN(e){for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(nC)??[]))t.setAttribute("tabindex","0")}let nS=(0,a.GV)()?function(e){let t,n,i=(0,r.c)(7),{commentSubjectType:a,gridCellId:s,markerRef:o,isThread:d,thread:c}=e,u=void 0!==d&&d,m=K(s);i[0]!==a||i[1]!==m||i[2]!==u||i[3]!==o||i[4]!==c?(t=()=>{let e=null;if(!u||c)return m?"commit"===a?e=setTimeout(()=>{nN(o.current)},100):nN(o.current):nw(o.current),()=>{e&&clearTimeout(e)}},n=[m,a,o,u,c],i[0]=a,i[1]=m,i[2]=u,i[3]=o,i[4]=c,i[5]=t,i[6]=n):(t=i[5],n=i[6]),(0,l.useEffect)(t,n)}:function({commentSubjectType:e,gridCellId:t,markerRef:n,isThread:i=!1,thread:a}){let r=K(t);(0,l.useEffect)(()=>{let t=null;if(!i||a)return r?"commit"===e?t=setTimeout(()=>{nN(n.current)},100):nN(n.current):nw(n.current),()=>{t&&clearTimeout(t)}},[r,e,n,i,a])};var nL=n(86909);let nD="InlineAnnotation-module__inlineAnnotation--bVDzc",n_=(0,a.GV)()?function(e){let t,n,a,s,o=(0,r.c)(14),{annotation:d,gridCellId:c,isFirstMarker:u}=e,m=(0,l.useRef)(null),f=K(c);o[0]!==c?(t={commentSubjectType:"pull request",gridCellId:c,markerRef:m},o[0]=c,o[1]=t):t=o[1],nS(t);let h=`annotation_${d.databaseId}`,p=u?"mb-1":"mb-2";o[2]!==p?(n=(0,b.$)("border rounded-2 color-border-default color-shadow-small overflow-hidden",p,nD),o[2]=p,o[3]=n):n=o[3];let g=`annotation-${d.id}`,x=`${d.id}`,v=f?0:-1;return o[4]!==d?(a=(0,i.jsx)(nL.YH,{annotation:d}),o[4]=d,o[5]=a):a=o[5],o[6]!==d.annotationLevel||o[7]!==h||o[8]!==n||o[9]!==g||o[10]!==x||o[11]!==v||o[12]!==a?(s=(0,i.jsx)("div",{id:h,ref:m,className:n,"data-level":d.annotationLevel,"data-testid":g,"data-marker-id":x,tabIndex:v,children:a}),o[6]=d.annotationLevel,o[7]=h,o[8]=n,o[9]=g,o[10]=x,o[11]=v,o[12]=a,o[13]=s):s=o[13],s}:function({annotation:e,gridCellId:t,isFirstMarker:n}){let a=(0,l.useRef)(null),r=K(t);return nS({commentSubjectType:"pull request",gridCellId:t,markerRef:a}),(0,i.jsx)("div",{id:`annotation_${e.databaseId}`,ref:a,className:(0,b.$)("border rounded-2 color-border-default color-shadow-small overflow-hidden",n?"mb-1":"mb-2",nD),"data-level":e.annotationLevel,"data-testid":`annotation-${e.id}`,"data-marker-id":`${e.id}`,tabIndex:r?0:-1,children:(0,i.jsx)(nL.YH,{annotation:e})})};try{n_.displayName||(n_.displayName="InlineAnnotation")}catch{}let nI="InlineMarkers-module__closeMarkersDialogButton--wdW2G",nR="InlineMarkers-module__markersWrapper--Fw1hl",nk="InlineMarkers-module__fileMarkersWrapper--rXaAB",nA="InlineMarkers-module__markersDialogActive--v0PSm";var nE=n(33643),nT=n(75202),nO=n(82075),nP=n(26607),nF=n(72511),n$=n(76720);let nM=(0,a.GV)()?function(){let e,t,n,a=(0,r.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(n$.E.Visual,{children:(0,i.jsx)(c.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(n$.E.Heading,{children:(0,i.jsx)("strong",{children:"Comments cannot be loaded right now"})}),a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("div",{className:"position-relative",children:(0,i.jsxs)(n$.E,{border:!0,children:[e,t,(0,i.jsx)("div",{className:"mb-n2",children:(0,i.jsx)(n$.E.Description,{children:"Refresh the page or try again later"})}),(0,i.jsx)(n$.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})}),a[2]=n):n=a[2],n}:function(){return(0,i.jsx)("div",{className:"position-relative",children:(0,i.jsxs)(n$.E,{border:!0,children:[(0,i.jsx)(n$.E.Visual,{children:(0,i.jsx)(c.AlertIcon,{size:24,className:"fgColor-muted mt-3 mb-3"})}),(0,i.jsx)(n$.E.Heading,{children:(0,i.jsx)("strong",{children:"Comments cannot be loaded right now"})}),(0,i.jsx)("div",{className:"mb-n2",children:(0,i.jsx)(n$.E.Description,{children:"Refresh the page or try again later"})}),(0,i.jsx)(n$.E.SecondaryAction,{href:"https://www.githubstatus.com/",children:"GitHub status"})]})})};try{nM.displayName||(nM.displayName="CommentErrorFallback")}catch{}let nB="InlineReviewThread-module__inlineReviewThreadHeading--CBLMR",nV="InlineReviewThread-module__ReviewThreadContainer--MW9GI",nU="InlineReviewThread-module__ResolvableContainer--FkZ8G",nG="InlineReviewThread-module__ThreadLoading--UIhR9";var nH=n(11738),nq=n(96760),nz=n(11680);let nK=(0,a.Z6)()?function(e,t){let n,i,a,s=(0,r.c)(13),l=(0,_.Kp)(),o=(0,t0.jE)(),d=`${l}/page_data/${tJ.uT.createReviewComment}`,{updateThread:c}=(0,_.an)(),{addPendingComment:u,clearPendingReview:m}=(0,_._N)();return s[0]!==d?(n=async e=>{let t=await (0,t2.Sr)(`${d}`,{method:"POST",headers:{Accept:"application/json"},body:e}),n=await (0,tY.hp)(t);return(0,tY.R)(t,n),n},s[0]=d,s[1]=n):n=s[1],s[2]!==u||s[3]!==l||s[4]!==m||s[5]!==e||s[6]!==t||s[7]!==o||s[8]!==c?(i=(n,i)=>(void 0!==i.submitBatch&&!i.submitBatch&&n.thread&&u(Number(n.thread.id)),i.submitBatch&&m(),c(Number(n.thread.id),e,t,e=>n.thread),o.invalidateQueries({queryKey:(0,t3.XG)(l)})),s[2]=u,s[3]=l,s[4]=m,s[5]=e,s[6]=t,s[7]=o,s[8]=c,s[9]=i):i=s[9],s[10]!==n||s[11]!==i?(a={mutationFn:n,onSuccess:i},s[10]=n,s[11]=i,s[12]=a):a=s[12],(0,t1.n)(a)}:function(e,t){let n=(0,_.Kp)(),i=(0,t0.jE)(),a=`${n}/page_data/${tJ.uT.createReviewComment}`,{updateThread:r}=(0,_.an)(),{addPendingComment:s,clearPendingReview:l}=(0,_._N)();return(0,t1.n)({mutationFn:async e=>{let t=await (0,t2.Sr)(`${a}`,{method:"POST",headers:{Accept:"application/json"},body:e}),n=await (0,tY.hp)(t);return(0,tY.R)(t,n),n},onSuccess:(a,o)=>(void 0!==o.submitBatch&&!o.submitBatch&&a.thread&&s(Number(a.thread.id)),o.submitBatch&&l(),r(Number(a.thread.id),e,t,e=>a.thread),i.invalidateQueries({queryKey:(0,t3.XG)(n)}))})};var nW=n(80081),nZ=n(95542);let nQ="ReviewThread-module__ReviewThreadContainer--s6e8A";var nX=n(61219);let nJ=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,f,p=(0,r.c)(82),{batchingEnabled:x,commentAnchorPrefix:b,lineMarkersKey:v,disableDialogMode:y,enableDialogMode:j,filePath:C,gridCellId:w,isInlineComment:N,isInDialogMode:S,onDeleteLineComment:L,thread:D,threadPositionNumber:I,shouldLimitHeight:R,suggestedChangesConfig:k,viewerData:A,ghostUser:E}=e,T=void 0===R||R,[O,P]=(0,l.useState)(!1),[F,$]=(0,l.useState)(void 0),{sendAnalyticsEvent:M}=(0,tz.s)(),B=(0,_.Kp)(),V=(0,l.useRef)(null),U=(0,l.useRef)(null),{mutate:G}=nK(C,v),{baseOid:H,headOid:q}=(0,_.E4)();p[0]!==G||p[1]!==q||p[2]!==C||p[3]!==M||p[4]!==H||p[5]!==D.commentsData?.comments?(t=e=>{let{commentText:t,onCompleted:n,onError:i,submitBatch:a}=e,r=D.commentsData?.comments[D.commentsData?.comments.length-1];G({text:t,submitBatch:a,inReplyTo:r?.databaseId,path:C,comparisonEndOid:q,comparisonStartOid:H},{onError:i,onSuccess:e=>{var t;(t=e.comment.databaseId)&&h(t.toString()),n?.()}}),M("comments.add","ADD_COMMENT_BUTTON")},p[0]=G,p[1]=q,p[2]=C,p[3]=M,p[4]=H,p[5]=D.commentsData?.comments,p[6]=t):t=p[6];let z=t;p[7]!==M?(n=()=>{P(!1),$(void 0),M("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),g.cg?.requestAnimationFrame(()=>V.current?.focus())},p[7]=M,p[8]=n):n=p[8];let K=n;p[9]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{$(e),P(!0)},p[9]=a):a=p[9];let W=a;if(!D.commentsData||null===D.commentsData.comments||D.commentsData.comments.length<1)return null;p[10]!==D?(s=(0,nW.Lm)(D),p[10]=D,p[11]=s):s=p[11];let Z=s;p[12]!==Z||p[13]!==D.subjectType?(o=D.subjectType?.toLowerCase()==="line"?{lineRange:Z}:void 0,p[12]=Z,p[13]=D.subjectType,p[14]=o):o=p[14];let Q=o;p[15]!==O?(d=e=>{U.current===e.target&&(O?U.current?.querySelector("textarea")?.focus():V.current?.focus())},p[15]=O,p[16]=d):d=p[16];let X=d;if(p[17]!==Q||p[18]!==B||p[19]!==b||p[20]!==y||p[21]!==j||p[22]!==C||p[23]!==E||p[24]!==w||p[25]!==S||p[26]!==N||p[27]!==v||p[28]!==L||p[29]!==k||p[30]!==D.commentsData.__id||p[31]!==D.commentsData.comments||p[32]!==D.id||p[33]!==D.isResolved||p[34]!==D.positioning?.isOutdated||p[35]!==I||p[36]!==A){let e;p[38]!==Q||p[39]!==B||p[40]!==b||p[41]!==y||p[42]!==j||p[43]!==C||p[44]!==E||p[45]!==w||p[46]!==S||p[47]!==N||p[48]!==v||p[49]!==L||p[50]!==k||p[51]!==D.commentsData.__id||p[52]!==D.commentsData.comments.length||p[53]!==D.id||p[54]!==D.isResolved||p[55]!==D.positioning?.isOutdated||p[56]!==I||p[57]!==A?(e=(e,t)=>(function(e,t){return e.reviewVariantType===nj.hH.Automated&&0===t})(e,t)?(0,i.jsx)(nT.t,{fallback:(0,i.jsx)(nZ.k,{}),boundaryName:"AutomatedReviewThreadComment",children:(0,i.jsx)(nZ.y,{anchorPrefix:b,basePath:B,comment:e,isAnchorable:!0,isInDialogMode:S,isOutdated:D.positioning?.isOutdated,onQuoteReply:W,threadId:D.id,threadPositionNumber:I},e.id)},e.id):(0,i.jsx)(nX.U,{lineMarkersKey:v,isAnchorable:!0,index:t,threadPositionNumber:I,isFirstComment:0===t,isInlineComment:N,isLastChild:t===(D.commentsData?.comments.length??0)-1,anchorPrefix:b,comment:e,commentConnectionId:D.commentsData?.__id,disableDialogMode:y,enableDialogMode:j,filePath:C,gridCellId:w,isInDialogMode:S,isOutdated:D.positioning?.isOutdated,threadId:D.id,onDeleteLineComment:L,onQuoteReply:W,threadCommentCount:D.commentsData?.comments.length,isThreadResolved:!!D.isResolved,suggestedChangesConfig:k,applySuggestedChangesValidationData:Q,viewerData:A,ghostUser:E},e.id),p[38]=Q,p[39]=B,p[40]=b,p[41]=y,p[42]=j,p[43]=C,p[44]=E,p[45]=w,p[46]=S,p[47]=N,p[48]=v,p[49]=L,p[50]=k,p[51]=D.commentsData.__id,p[52]=D.commentsData.comments.length,p[53]=D.id,p[54]=D.isResolved,p[55]=D.positioning?.isOutdated,p[56]=I,p[57]=A,p[58]=e):e=p[58],c=D.commentsData.comments.map(e),p[17]=Q,p[18]=B,p[19]=b,p[20]=y,p[21]=j,p[22]=C,p[23]=E,p[24]=w,p[25]=S,p[26]=N,p[27]=v,p[28]=L,p[29]=k,p[30]=D.commentsData.__id,p[31]=D.commentsData.comments,p[32]=D.id,p[33]=D.isResolved,p[34]=D.positioning?.isOutdated,p[35]=I,p[36]=A,p[37]=c}else c=p[37];return p[59]!==D.reviewCommentsLimit||p[60]!==D.reviewCommentsLimitExceeded?(u=D.reviewCommentsLimitExceeded&&(0,i.jsx)(nz.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${(D.reviewCommentsLimit||0)-1} replies are currently being shown.`,className:"m-3"}),p[59]=D.reviewCommentsLimit,p[60]=D.reviewCommentsLimitExceeded,p[61]=u):u=p[61],p[62]!==z||p[63]!==x||p[64]!==K||p[65]!==C||p[66]!==X||p[67]!==S||p[68]!==O||p[69]!==Z?.endLineNumber||p[70]!==Z?.startLineNumber||p[71]!==F||p[72]!==M||p[73]!==k||p[74]!==D.id||p[75]!==D.viewerCanReply?(m=D.viewerCanReply&&(0,i.jsxs)("div",{id:nq.Bq.issueCommentComposer,className:"rounded-bottom-2 p-2 bgColor-inset","data-marker-navigation-comment-thread-id":D.id,"data-marker-navigation-comment-id":`${D.id}-reply-comment`,"data-marker-navigation-thread-reply":!0,tabIndex:S?0:-1,onFocus:X,ref:U,children:[O&&(0,i.jsx)(eD,{startLineNumber:Z?.startLineNumber,lineNumber:Z?.endLineNumber,batchingEnabled:x,condensed:!1,fileLevelComment:!0,filePath:C,focusOnMount:!0,isReplying:!0,onCancelComment:K,quotedText:F,threadId:D.id,onAddComment:z,suggestedChangesConfig:k}),!O&&(0,i.jsx)(nH.z,{ref:V,onClick:()=>{M("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),P(!0)},children:"Write a reply"})]}),p[62]=z,p[63]=x,p[64]=K,p[65]=C,p[66]=X,p[67]=S,p[68]=O,p[69]=Z?.endLineNumber,p[70]=Z?.startLineNumber,p[71]=F,p[72]=M,p[73]=k,p[74]=D.id,p[75]=D.viewerCanReply,p[76]=m):m=p[76],p[77]!==T||p[78]!==m||p[79]!==c||p[80]!==u?(f=(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)("div",{className:nQ,"data-limit-height":T,children:[c,u,m]})}),p[77]=T,p[78]=m,p[79]=c,p[80]=u,p[81]=f):f=p[81],f}:function({batchingEnabled:e,commentAnchorPrefix:t,lineMarkersKey:n,disableDialogMode:a,enableDialogMode:r,filePath:s,gridCellId:o,isInlineComment:d,isInDialogMode:c,onDeleteLineComment:u,thread:m,threadPositionNumber:f,shouldLimitHeight:p=!0,suggestedChangesConfig:x,viewerData:b,ghostUser:v}){let[y,j]=(0,l.useState)(!1),[C,w]=(0,l.useState)(void 0),{sendAnalyticsEvent:N}=(0,tz.s)(),S=(0,_.Kp)(),L=(0,l.useRef)(null),D=(0,l.useRef)(null),{mutate:I}=nK(s,n),{baseOid:R,headOid:k}=(0,_.E4)(),A=e=>{w(e),j(!0)};if(!m.commentsData||null===m.commentsData.comments||m.commentsData.comments.length<1)return null;let E=(0,nW.Lm)(m),T=m.subjectType?.toLowerCase()==="line"?{lineRange:E}:void 0;return(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)("div",{className:nQ,"data-limit-height":p,children:[m.commentsData.comments.map((e,l)=>e.reviewVariantType===nj.hH.Automated&&0===l?(0,i.jsx)(nT.t,{fallback:(0,i.jsx)(nZ.k,{}),boundaryName:"AutomatedReviewThreadComment",children:(0,i.jsx)(nZ.y,{anchorPrefix:t,basePath:S,comment:e,isAnchorable:!0,isInDialogMode:c,isOutdated:m.positioning?.isOutdated,onQuoteReply:A,threadId:m.id,threadPositionNumber:f},e.id)},e.id):(0,i.jsx)(nX.U,{lineMarkersKey:n,isAnchorable:!0,index:l,threadPositionNumber:f,isFirstComment:0===l,isInlineComment:d,isLastChild:l===(m.commentsData?.comments.length??0)-1,anchorPrefix:t,comment:e,commentConnectionId:m.commentsData?.__id,disableDialogMode:a,enableDialogMode:r,filePath:s,gridCellId:o,isInDialogMode:c,isOutdated:m.positioning?.isOutdated,threadId:m.id,onDeleteLineComment:u,onQuoteReply:A,threadCommentCount:m.commentsData?.comments.length,isThreadResolved:!!m.isResolved,suggestedChangesConfig:x,applySuggestedChangesValidationData:T,viewerData:b,ghostUser:v},e.id)),m.reviewCommentsLimitExceeded&&(0,i.jsx)(nz.l,{"aria-label":"Warning",title:"Warning",variant:"warning",hideTitle:!0,description:`Only the first ${(m.reviewCommentsLimit||0)-1} replies are currently being shown.`,className:"m-3"}),m.viewerCanReply&&(0,i.jsxs)("div",{id:nq.Bq.issueCommentComposer,className:"rounded-bottom-2 p-2 bgColor-inset","data-marker-navigation-comment-thread-id":m.id,"data-marker-navigation-comment-id":`${m.id}-reply-comment`,"data-marker-navigation-thread-reply":!0,tabIndex:c?0:-1,onFocus:e=>{D.current===e.target&&(y?D.current?.querySelector("textarea")?.focus():L.current?.focus())},ref:D,children:[y&&(0,i.jsx)(eD,{startLineNumber:E?.startLineNumber,lineNumber:E?.endLineNumber,batchingEnabled:e,condensed:!1,fileLevelComment:!0,filePath:s,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{j(!1),w(void 0),N("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),g.cg?.requestAnimationFrame(()=>L.current?.focus())},quotedText:C,threadId:m.id,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{let a=m.commentsData?.comments[m.commentsData?.comments.length-1];I({text:e,submitBatch:i,inReplyTo:a?.databaseId,path:s,comparisonEndOid:k,comparisonStartOid:R},{onError:n,onSuccess:e=>{var n;(n=e.comment.databaseId)&&h(n.toString()),t?.()}}),N("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:x}),!y&&(0,i.jsx)(nH.z,{ref:L,onClick:()=>{N("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),j(!0)},children:"Write a reply"})]})]})})};try{nJ.displayName||(nJ.displayName="ReviewThread")}catch{}var nY=n(97695),n0=n(39698),n1=n(25407),n2=n(21067);let n3=(0,a.Z6)()?function(e,t){let n,i,a,s,l=(0,r.c)(12),o=(0,_.Kp)();l[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,n2.cj)(),l[0]=n):n=l[0];let d=n,c=(0,t0.jE)(),{updateThread:u}=(0,_.an)();return l[1]!==o?(i=async e=>{let{automatedReviewCommentId:t,reason:n,resolutionNote:i}=e,a=(0,n1.L7I)({basePath:o,automatedReviewCommentId:t}),r=await (0,tY.q$)(a,{method:"PUT",body:{reason:n,resolution_note:i}});(0,tY.R)(r)},l[1]=o,l[2]=i):i=l[2],l[3]!==o||l[4]!==e||l[5]!==t||l[6]!==c||l[7]!==u?(a=(n,i)=>{u(Number(i.threadId),e,t,e=>{if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!0,resolvedBy:d,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!0,viewerCanDismiss:!1,viewerCanReopen:!0}},...e.commentsData.comments.slice(1)]}}}}),c.invalidateQueries({queryKey:(0,t3.XG)(o)})},l[3]=o,l[4]=e,l[5]=t,l[6]=c,l[7]=u,l[8]=a):a=l[8],l[9]!==i||l[10]!==a?(s={mutationFn:i,onSuccess:a},l[9]=i,l[10]=a,l[11]=s):s=l[11],(0,t1.n)(s)}:function(e,t){let n=(0,_.Kp)(),i=(0,n2.cj)(),a=(0,t0.jE)(),{updateThread:r}=(0,_.an)();return(0,t1.n)({mutationFn:async({automatedReviewCommentId:e,reason:t,resolutionNote:i})=>{let a=(0,n1.L7I)({basePath:n,automatedReviewCommentId:e}),r=await (0,tY.q$)(a,{method:"PUT",body:{reason:t,resolution_note:i}});(0,tY.R)(r)},onSuccess:(s,l)=>{r(Number(l.threadId),e,t,e=>{if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!0,resolvedBy:i,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!0,viewerCanDismiss:!1,viewerCanReopen:!0}},...e.commentsData.comments.slice(1)]}}}}),a.invalidateQueries({queryKey:(0,t3.XG)(n)})}})},n4=(0,a.Z6)()?function(e,t){let n,i,a,s=(0,r.c)(11),l=(0,_.Kp)(),o=(0,t0.jE)(),{updateThread:d}=(0,_.an)();return s[0]!==l?(n=async e=>{let{automatedReviewCommentId:t}=e,n=(0,n1.Aav)({basePath:l,automatedReviewCommentId:t}),i=await (0,tY.q$)(n,{method:"PUT"});(0,tY.R)(i)},s[0]=l,s[1]=n):n=s[1],s[2]!==l||s[3]!==e||s[4]!==t||s[5]!==o||s[6]!==d?(i=(n,i)=>{d(Number(i.threadId),e,t,n5),o.invalidateQueries({queryKey:(0,t3.XG)(l)})},s[2]=l,s[3]=e,s[4]=t,s[5]=o,s[6]=d,s[7]=i):i=s[7],s[8]!==n||s[9]!==i?(a={mutationFn:n,onSuccess:i},s[8]=n,s[9]=i,s[10]=a):a=s[10],(0,t1.n)(a)}:function(e,t){let n=(0,_.Kp)(),i=(0,t0.jE)(),{updateThread:a}=(0,_.an)();return(0,t1.n)({mutationFn:async({automatedReviewCommentId:e})=>{let t=(0,n1.Aav)({basePath:n,automatedReviewCommentId:e}),i=await (0,tY.q$)(t,{method:"PUT"});(0,tY.R)(i)},onSuccess:(r,s)=>{a(Number(s.threadId),e,t,e=>{if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!1,resolvedBy:void 0,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!1,viewerCanDismiss:!0,viewerCanReopen:!1}},...e.commentsData.comments.slice(1)]}}}}),i.invalidateQueries({queryKey:(0,t3.XG)(n)})}})};function n5(e){if(e?.commentsData?.comments[0]?.automatedComment){let t=e.commentsData?.comments[0]?.automatedComment;return{...e,isResolved:!1,resolvedBy:void 0,commentsData:{...e.commentsData,comments:[{...e.commentsData.comments[0],automatedComment:{...t,isDismissed:!1,viewerCanDismiss:!0,viewerCanReopen:!1}},...e.commentsData.comments.slice(1)]}}}}var n6=n(73262);let n7=(0,a.GV)()?function(e){let t,n,a,s=(0,r.c)(20),{automatedComment:l,thread:o,filePath:d,lineMarkersKey:c,setErrorMessage:u,setIsCollapsed:m,safeLocalStorage:f}=e,{mutate:h,isPending:p,error:g}=n3(d,c);s[0]!==l.id||s[1]!==h||s[2]!==f||s[3]!==u||s[4]!==m||s[5]!==o.id?(t=(e,t)=>{let{reason:n,resolutionNote:i}=e,{onSuccess:a}=t;h({automatedReviewCommentId:l.id,threadId:o.id,reason:n,resolutionNote:i},{onError:()=>u("Failed to dismiss"),onSuccess:()=>{a(),m(!0),f.removeItem(`reviewThreadIsCollapsed_${o.id}`)}})},s[0]=l.id,s[1]=h,s[2]=f,s[3]=u,s[4]=m,s[5]=o.id,s[6]=t):t=s[6];let x=t,{mutate:b,isPending:v}=n4(d,c);s[7]!==l.id||s[8]!==b||s[9]!==f||s[10]!==u||s[11]!==m||s[12]!==o.id?(n=()=>{b({automatedReviewCommentId:l.id,threadId:o.id},{onError:()=>u("Failed to reopen"),onSuccess:()=>{m(!1),f.removeItem(`reviewThreadIsCollapsed_${o.id}`)}})},s[7]=l.id,s[8]=b,s[9]=f,s[10]=u,s[11]=m,s[12]=o.id,s[13]=n):n=s[13];let y=n,j=p||v;return s[14]!==l||s[15]!==g||s[16]!==x||s[17]!==y||s[18]!==j?(a=(0,i.jsx)(n6.K,{automatedComment:l,dismissError:g,isButtonDisabled:j,onDismiss:x,onReopen:y,className:"p-2 border-top"}),s[14]=l,s[15]=g,s[16]=x,s[17]=y,s[18]=j,s[19]=a):a=s[19],a}:function({automatedComment:e,thread:t,filePath:n,lineMarkersKey:a,setErrorMessage:r,setIsCollapsed:s,safeLocalStorage:l}){let{mutate:o,isPending:d,error:c}=n3(n,a),{mutate:u,isPending:m}=n4(n,a);return(0,i.jsx)(n6.K,{automatedComment:e,dismissError:c,isButtonDisabled:d||m,onDismiss:({reason:n,resolutionNote:i},{onSuccess:a})=>{o({automatedReviewCommentId:e.id,threadId:t.id,reason:n,resolutionNote:i},{onError:()=>r("Failed to dismiss"),onSuccess:()=>{a(),s(!0),l.removeItem(`reviewThreadIsCollapsed_${t.id}`)}})},onReopen:()=>{u({automatedReviewCommentId:e.id,threadId:t.id},{onError:()=>r("Failed to reopen"),onSuccess:()=>{s(!1),l.removeItem(`reviewThreadIsCollapsed_${t.id}`)}})},className:"p-2 border-top"})};try{n7.displayName||(n7.displayName="InlineAutomatedReviewThreadActions")}catch{}let n8=(0,a.GV)()?function(e){let t,n=(0,r.c)(2),{children:a}=e;return n[0]!==a?(t=(0,i.jsx)("span",{className:"text-semibold fgColor-default",children:a}),n[0]=a,n[1]=t):t=n[1],t}:function({children:e}){return(0,i.jsx)("span",{className:"text-semibold fgColor-default",children:e})};function n9({thread:e}){if(void 0===e)return null;let t=e.positioning??e.subject;return void 0!==t&&t.endDiffSide&&t.endLine?t.startLine&&t.startDiffSide&&t.startLine!==t.endLine?it({positioning:t}):ie({positioning:t}):null}let ie=(0,a.GV)()?function(e){let t,n=(0,r.c)(3),{positioning:a}=e,s="LEFT"===a.endDiffSide?"L":"R",l=a.endLine??"";return n[0]!==s||n[1]!==l?(t=(0,i.jsxs)("h2",{className:nB,children:["Comment on line"," ",(0,i.jsxs)(n8,{children:[s,l]})]}),n[0]=s,n[1]=l,n[2]=t):t=n[2],t}:function({positioning:e}){let t="LEFT"===e.endDiffSide?"L":"R";return(0,i.jsxs)("h2",{className:nB,children:["Comment on line"," ",(0,i.jsxs)(n8,{children:[t,e.endLine??""]})]})},it=(0,a.GV)()?function(e){let t,n,a,s=(0,r.c)(9),{positioning:l}=e,o="LEFT"===l.startDiffSide?"L":"R",d="LEFT"===l.endDiffSide?"L":"R",c=l.startLine??"";s[0]!==o||s[1]!==c?(t=(0,i.jsxs)(n8,{children:[o,c]}),s[0]=o,s[1]=c,s[2]=t):t=s[2];let u=l.endLine??"";return s[3]!==d||s[4]!==u?(n=(0,i.jsxs)(n8,{children:[d,u]}),s[3]=d,s[4]=u,s[5]=n):n=s[5],s[6]!==t||s[7]!==n?(a=(0,i.jsxs)("h2",{className:nB,children:["Comment on lines"," ",t," ","to"," ",n]}),s[6]=t,s[7]=n,s[8]=a):a=s[8],a}:function({positioning:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.endDiffSide?"L":"R";return(0,i.jsxs)("h2",{className:nB,children:["Comment on lines"," ",(0,i.jsxs)(n8,{children:[t,e.startLine??""]})," ","to"," ",(0,i.jsxs)(n8,{children:[n,e.endLine??""]})]})},ii=(0,a.GV)()?function(e){let t,n,a,s,o,d,u,f,h,p,g,x,v,y,j,C,w,N,S,L,D,I,R,k,A,E,T,O,P,F,$,M,B=(0,r.c)(99);B[0]!==e?({fileAnchor:t,filePath:n,gridCellId:s,onDeleteLineComment:u,threadId:p,threadPositionNumber:g,lineMarkersKey:d,threadsConnectionId:x,isFirstThread:o,ghostUser:a,suggestedChangesConfig:h,...f}=e,B[0]=e,B[1]=t,B[2]=n,B[3]=a,B[4]=s,B[5]=o,B[6]=d,B[7]=u,B[8]=f,B[9]=h,B[10]=p,B[11]=g,B[12]=x):(t=B[1],n=B[2],a=B[3],s=B[4],o=B[5],d=B[6],u=B[7],f=B[8],h=B[9],p=B[10],g=B[11],x=B[12]);let V=(0,_._W)(p,n,d),{mutate:U}=(0,nY.H)(n,d),G=()=>{V&&(U({threadId:V.id},{onError:()=>X("Failed to resolve thread"),onSuccess:()=>{ee(!0),q.removeItem(`reviewThreadIsCollapsed_${p}`)}}),el("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},H=(0,l.useRef)(null),q=(0,nO.A)("localStorage"),z=V?.isResolved,[Z,Q]=(0,l.useState)(""),X=Q,[J,Y]=(0,l.useState)(z??!1),ee=Y,et=K(s),{disableDialogMode:en,enableDialogMode:ei}=W();B[13]!==z||B[14]!==p?(v=[z,p],B[13]=z,B[14]=p,B[15]=v):v=B[15],(0,l.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${p}`);null!==e?ee(JSON.parse(e)):z&&ee(!0)},v);let ea=()=>{window.requestAnimationFrame(()=>{q.setItem(`reviewThreadIsCollapsed_${p}`,JSON.stringify(!J))}),ee(ir)};B[16]!==s||B[17]!==V?(y={commentSubjectType:"pull request",gridCellId:s,markerRef:H,isThread:!0,thread:V},B[16]=s,B[17]=V,B[18]=y):y=B[18],nS(y);e:{let e=V?.positioning??V?.subject;if(!e){j=void 0;break e}if(t&&V&&e.startDiffSide&&e.endDiffSide&&e.startLine&&e.endLine&&h?.configureSuggestedChangesFromLineRange){let n,i=e.startLine??e.endLine,a=e.startDiffSide??e.endDiffSide,r="LEFT"===e.endDiffSide?"left":"right",s="LEFT"===a?"left":"right",l="LEFT"===a?"left":"right";if(B[19]!==t||B[20]!==e.endLine||B[21]!==i||B[22]!==h||B[23]!==r||B[24]!==s||B[25]!==l){let a={diffAnchor:t,endLineNumber:e.endLine,endOrientation:r,startLineNumber:i,startOrientation:s,firstSelectedLineNumber:i,firstSelectedOrientation:l};n=h?.configureSuggestedChangesFromLineRange(a),B[19]=t,B[20]=e.endLine,B[21]=i,B[22]=h,B[23]=r,B[24]=s,B[25]=l,B[26]=n}else n=B[26];j=n;break e}j=void 0}let er=j,{sendAnalyticsEvent:es}=(0,tz.s)(),el=es,{mutate:eo}=(0,n0.i)(n,d);B[27]!==q||B[28]!==el||B[29]!==X||B[30]!==ee||B[31]!==V||B[32]!==eo?(C=()=>{V&&(eo({threadId:V.id},{onError:()=>X("Failed to unresolve thread"),onSuccess:()=>{ee(!1),q.removeItem(`reviewThreadIsCollapsed_${V.id}`)}}),el("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},B[27]=q,B[28]=el,B[29]=X,B[30]=ee,B[31]=V,B[32]=eo,B[33]=C):C=B[33];let ed=C,ec=V?.commentsData?.comments[0]?.reviewVariantType===nj.hH.Automated,eu=ec?V.commentsData?.comments[0]?.automatedComment:null,em=eu&&eu.dismissable,ef=eu&&eu.source===nj.vk.LicenseCompliance;if(!V||!((V.commentsData?.comments?.length??0)>0))return null;let eh=!!V.isResolved;B[34]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n2.M3)(),B[34]=w):w=B[34];let ep=w;B[35]!==V.commentsData?.comments?(N=ep&&V.commentsData?.comments?.some(ia),B[35]=V.commentsData?.comments,B[36]=N):N=B[36];let eg=N,ex=V.commentsData?.comments?.[0]?.createdAt,eb=V.commentsData?.comments?.[0]?.author?.login??"Unknown Author",ev=`${z?"Unresolve":"Resolve"} comment`;if(ex){let e;B[37]!==ex?(e=(0,nE.C)(new Date(ex)),B[37]=ex,B[38]=e):e=B[38];let t=e;ev=`${z?"Unresolve":"Resolve"} ${eb}'s comment, ${t}`}B[39]===Symbol.for("react.memo_cache_sentinel")?(S=(0,i.jsx)(nM,{}),B[39]=S):S=B[39],B[40]===Symbol.for("react.memo_cache_sentinel")?(L=(0,b.$)("px-1",nV),B[40]=L):L=B[40];let ey=J?"Expand comment":"Collapse comment",ej=J?c.ChevronRightIcon:c.ChevronDownIcon;return B[41]!==ea||B[42]!==o||B[43]!==ey||B[44]!==ej?(D=(0,i.jsx)(m.K,{"aria-label":ey,icon:ej,size:"small",variant:"invisible",onClick:ea,"data-is-first-collapse-button":o}),B[41]=ea,B[42]=o,B[43]=ey,B[44]=ej,B[45]=D):D=B[45],B[46]!==V?(I=(0,i.jsx)(n9,{thread:V}),B[46]=V,B[47]=I):I=B[47],B[48]!==V.positioning?.isOutdated?(R=V.positioning?.isOutdated&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Outdated"}),B[48]=V.positioning?.isOutdated,B[49]=R):R=B[49],B[50]!==ec||B[51]!==eh?(k=eh&&!ec&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Resolved"}),B[50]=ec,B[51]=eh,B[52]=k):k=B[52],B[53]!==eu?.isDismissed?(A=eu?.isDismissed&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Dismissed"}),B[53]=eu?.isDismissed,B[54]=A):A=B[54],B[55]!==R||B[56]!==k||B[57]!==A?(E=(0,i.jsxs)("div",{className:nU,children:[R,k,A]}),B[55]=R,B[56]=k,B[57]=A,B[58]=E):E=B[58],B[59]!==D||B[60]!==I||B[61]!==E?(T=(0,i.jsxs)("div",{className:L,children:[D,I,E]}),B[59]=D,B[60]=I,B[61]=E,B[62]=T):T=B[62],B[63]===Symbol.for("react.memo_cache_sentinel")?(O=(0,i.jsxs)("div",{className:nG,children:[(0,i.jsx)(eQ.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),B[63]=O):O=B[63],B[64]!==Z?(P=Z&&(0,i.jsxs)(nF.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(c.StopIcon,{className:"mr-2"}),Z]}),B[64]=Z,B[65]=P):P=B[65],B[66]!==eu||B[67]!==er||B[68]!==en||B[69]!==em||B[70]!==ei||B[71]!==n||B[72]!==a||B[73]!==s||B[74]!==G||B[75]!==ed||B[76]!==J||B[77]!==et||B[78]!==eg||B[79]!==z||B[80]!==eh||B[81]!==ef||B[82]!==d||B[83]!==u||B[84]!==ev||B[85]!==f||B[86]!==q||B[87]!==X||B[88]!==ee||B[89]!==V||B[90]!==g||B[91]!==x?(F=!J&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nJ,{lineMarkersKey:d,disableDialogMode:en,enableDialogMode:ei,filePath:n,gridCellId:s,onDeleteLineComment:u,isInlineComment:!0,isInDialogMode:et,thread:V,threadPositionNumber:g,threadsConnectionId:x,suggestedChangesConfig:er,shouldLimitHeight:!1,...f,ghostUser:a}),eg&&!em&&!ef&&(0,i.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,i.jsx)(e_.Q,{"aria-label":ev,onClick:eh?ed:G,className:"mr-2",children:z?"Unresolve comment":"Resolve comment"}),eh&&V.resolvedBy&&(0,i.jsxs)("span",{className:"fgColor-muted f6",children:[(0,i.jsx)("b",{children:V.resolvedBy})," marked this comment as resolved"]})]}),em&&(0,i.jsx)(n7,{automatedComment:eu,thread:V,filePath:n,lineMarkersKey:d,setErrorMessage:X,setIsCollapsed:ee,safeLocalStorage:q})]}),B[66]=eu,B[67]=er,B[68]=en,B[69]=em,B[70]=ei,B[71]=n,B[72]=a,B[73]=s,B[74]=G,B[75]=ed,B[76]=J,B[77]=et,B[78]=eg,B[79]=z,B[80]=eh,B[81]=ef,B[82]=d,B[83]=u,B[84]=ev,B[85]=f,B[86]=q,B[87]=X,B[88]=ee,B[89]=V,B[90]=g,B[91]=x,B[92]=F):F=B[92],B[93]!==P||B[94]!==F?($=(0,i.jsxs)(l.Suspense,{fallback:O,children:[P,F]}),B[93]=P,B[94]=F,B[95]=$):$=B[95],B[96]!==T||B[97]!==$?(M=(0,i.jsx)(nT.t,{fallback:S,children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:H,children:[T,$]})}),B[96]=T,B[97]=$,B[98]=M):M=B[98],M}:function({fileAnchor:e,filePath:t,gridCellId:n,onDeleteLineComment:a,threadId:r,threadPositionNumber:s,lineMarkersKey:o,threadsConnectionId:d,isFirstThread:u,ghostUser:f,suggestedChangesConfig:h,...p}){let g=(0,_._W)(r,t,o),{mutate:x}=(0,nY.H)(t,o),v=(0,l.useRef)(null),y=(0,nO.A)("localStorage"),j=g?.isResolved,[C,w]=(0,l.useState)(""),[N,S]=(0,l.useState)(j??!1),L=K(n),{disableDialogMode:D,enableDialogMode:I}=W();(0,l.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${r}`);null!==e?S(JSON.parse(e)):j&&S(!0)},[j,r]),nS({commentSubjectType:"pull request",gridCellId:n,markerRef:v,isThread:!0,thread:g});let R=(0,l.useMemo)(()=>{let t=g?.positioning??g?.subject;if(t&&e&&g&&t.startDiffSide&&t.endDiffSide&&t.startLine&&t.endLine&&h?.configureSuggestedChangesFromLineRange){let n=t.startLine??t.endLine,i=t.startDiffSide??t.endDiffSide,a={diffAnchor:e,endLineNumber:t.endLine,endOrientation:"LEFT"===t.endDiffSide?"left":"right",startLineNumber:n,startOrientation:"LEFT"===i?"left":"right",firstSelectedLineNumber:n,firstSelectedOrientation:"LEFT"===i?"left":"right"};return h?.configureSuggestedChangesFromLineRange(a)}},[e,g,h]),{sendAnalyticsEvent:k}=(0,tz.s)(),{mutate:A}=(0,n0.i)(t,o),E=g?.commentsData?.comments[0]?.reviewVariantType===nj.hH.Automated,T=E?g.commentsData?.comments[0]?.automatedComment:null,O=T&&T.dismissable,P=T&&T.source===nj.vk.LicenseCompliance;if(!g||!((g.commentsData?.comments?.length??0)>0))return null;let F=!!g.isResolved,$=(0,n2.M3)()&&g.commentsData?.comments?.some(e=>e.state?.toUpperCase()!=="PENDING"),M=g.commentsData?.comments?.[0]?.createdAt,B=g.commentsData?.comments?.[0]?.author?.login??"Unknown Author",V=`${j?"Unresolve":"Resolve"} comment`;if(M){let e=(0,nE.C)(new Date(M));V=`${j?"Unresolve":"Resolve"} ${B}'s comment, ${e}`}return(0,i.jsx)(nT.t,{fallback:(0,i.jsx)(nM,{}),children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:v,children:[(0,i.jsxs)("div",{className:(0,b.$)("px-1",nV),children:[(0,i.jsx)(m.K,{"aria-label":N?"Expand comment":"Collapse comment",icon:N?c.ChevronRightIcon:c.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{window.requestAnimationFrame(()=>{y.setItem(`reviewThreadIsCollapsed_${r}`,JSON.stringify(!N))}),S(e=>!e)},"data-is-first-collapse-button":u}),(0,i.jsx)(n9,{thread:g}),(0,i.jsxs)("div",{className:nU,children:[g.positioning?.isOutdated&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Outdated"}),F&&!E&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Resolved"}),T?.isDismissed&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Dismissed"})]})]}),(0,i.jsxs)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:nG,children:[(0,i.jsx)(eQ.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:[C&&(0,i.jsxs)(nF.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(c.StopIcon,{className:"mr-2"}),C]}),!N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nJ,{lineMarkersKey:o,disableDialogMode:D,enableDialogMode:I,filePath:t,gridCellId:n,onDeleteLineComment:a,isInlineComment:!0,isInDialogMode:L,thread:g,threadPositionNumber:s,threadsConnectionId:d,suggestedChangesConfig:R,shouldLimitHeight:!1,...p,ghostUser:f}),$&&!O&&!P&&(0,i.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,i.jsx)(e_.Q,{"aria-label":V,onClick:F?()=>{g&&(A({threadId:g.id},{onError:()=>w("Failed to unresolve thread"),onSuccess:()=>{S(!1),y.removeItem(`reviewThreadIsCollapsed_${g.id}`)}}),k("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{g&&(x({threadId:g.id},{onError:()=>w("Failed to resolve thread"),onSuccess:()=>{S(!0),y.removeItem(`reviewThreadIsCollapsed_${r}`)}}),k("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},className:"mr-2",children:j?"Unresolve comment":"Resolve comment"}),F&&g.resolvedBy&&(0,i.jsxs)("span",{className:"fgColor-muted f6",children:[(0,i.jsx)("b",{children:g.resolvedBy})," marked this comment as resolved"]})]}),O&&(0,i.jsx)(n7,{automatedComment:T,thread:g,filePath:t,lineMarkersKey:o,setErrorMessage:w,setIsCollapsed:S,safeLocalStorage:y})]})]})]})})};function ia(e){return e.state?.toUpperCase()!=="PENDING"}function ir(e){return!e}try{n8.displayName||(n8.displayName="Emphasis")}catch{}try{n9.displayName||(n9.displayName="ThreadBanner")}catch{}try{ie.displayName||(ie.displayName="SingleLineThreadBanner")}catch{}try{it.displayName||(it.displayName="MultineLineThreadBanner")}catch{}try{ii.displayName||(ii.displayName="InlineReviewThread")}catch{}let is=(0,a.GV)()?function(e,t,n){let i,a=(0,r.c)(5),{enableDialogMode:s}=W();return a[0]!==t||a[1]!==n||a[2]!==s||a[3]!==e?(i=(i,a)=>{t.current?.classList.contains("diff-text-cell")&&(s(e),n("USER_EXPANDED_MARKERS"),(void 0===i?{shouldFocusFirstMarker:!0}:i).shouldFocusFirstMarker?setTimeout(()=>{t.current?.querySelector('[data-first-marker="true"]')?.focus()},0):a&&setTimeout(()=>{t.current?.querySelector(`[data-marker-id="${a}"]`)?.focus()},0))},a[0]=t,a[1]=n,a[2]=s,a[3]=e,a[4]=i):i=a[4],i}:function(e,t,n){let{enableDialogMode:i}=W();return(0,l.useCallback)((a={shouldFocusFirstMarker:!0},r)=>{t.current?.classList.contains("diff-text-cell")&&(i(e),n("USER_EXPANDED_MARKERS"),a.shouldFocusFirstMarker?setTimeout(()=>{t.current?.querySelector('[data-first-marker="true"]')?.focus()},0):r&&setTimeout(()=>{t.current?.querySelector(`[data-marker-id="${r}"]`)?.focus()},0))},[t,i,e,n])},il={[nj.UZ.Failure]:0,[nj.UZ.Warning]:1,[nj.UZ.Notice]:2},io=(0,a.GV)()?function(e){let t,n=(0,r.c)(2);return n[0]!==e?(t=(0,i.jsx)(nm.j,{children:(0,i.jsx)(id,{...e})}),n[0]=e,n[1]=t):t=n[1],t}:function(e){return(0,i.jsx)(nm.j,{children:(0,i.jsx)(id,{...e})})},id=(0,a.GV)()?function(e){let t,n,a,s,o,d,u,f,h,p,x,v,y,j,C,w,N,S,L,D,I,R,k,A,E,T,O,P,F,$,M,B,V,U,G,H,q=(0,r.c)(105);if(q[0]!==e){let{annotations:i,cellRef:r,diffLine:l,dispatchMarkersStatus:c,children:m,conversationListThreads:g,inlineMarkersRef:b,isRowSelected:D,lineMarkersKey:_,fileAnchor:I,filePath:R,gridCellId:k,gutterSizeOffset:A,lineType:E,onCloseConversationList:T,onCloseFocusMode:O,onDeleteLineComment:P,threadsConnectionId:F,shouldStartNewConversationWithSuggestedChange:$,ghostUser:M,...B}=e;t=i,n=r,o=l,d=c,a=m,s=g,v=b,y=D,j=_,u=I,f=R,p=k,x=A,C=O,w=P,L=F,S=$,h=M,N=B,q[0]=e,q[1]=t,q[2]=n,q[3]=a,q[4]=s,q[5]=o,q[6]=d,q[7]=u,q[8]=f,q[9]=h,q[10]=p,q[11]=x,q[12]=v,q[13]=y,q[14]=j,q[15]=C,q[16]=w,q[17]=N,q[18]=S,q[19]=L}else t=q[1],n=q[2],a=q[3],s=q[4],o=q[5],d=q[6],u=q[7],f=q[8],h=q[9],p=q[10],x=q[11],v=q[12],y=q[13],j=q[14],C=q[15],w=q[16],N=q[17],S=q[18],L=q[19];let z=K(p),{disableDialogMode:Z,enableDialogMode:Q}=W(),X=is(p,n,d),J=o?.type??"ADDITION";q[20]!==y||q[21]!==J?(D=(0,e2.gK)(J,!1,y),q[20]=y,q[21]=J,q[22]=D):D=q[22];let Y=D,ee=tZ(o,S),et=(0,l.useRef)(null);q[23]!==t?(I=[...t].sort(ih),q[23]=t,q[24]=I):I=q[24];let en=I;e:{let e;if(a){let e,t;q[25]===Symbol.for("react.memo_cache_sentinel")?(e={id:"new-comment"},q[25]=e):e=q[25],q[26]!==s||q[27]!==en?(t=[...s,e,...en],q[26]=s,q[27]=en,q[28]=t):t=q[28],R=t;break e}q[29]!==s||q[30]!==en?(e=[...s,...en],q[29]=s,q[30]=en,q[31]=e):e=q[31],R=e}let ei=R,ea=im;q[32]!==Q||q[33]!==p||q[34]!==z?(k=e=>{ea(e),z||Q(p)},q[32]=Q,q[33]=p,q[34]=z,q[35]=k):k=q[35];let er=k;q[36]!==Z||q[37]!==z?(A=e=>{e.target&&z&&(e.target.closest("[data-inline-markers]")||Z())},q[36]=Z,q[37]=z,q[38]=A):A=q[38];let es=A;q[39]!==es?(E=()=>(g.XC?.addEventListener("mousedown",es),()=>g.XC?.removeEventListener("mousedown",es)),T=[es],q[39]=es,q[40]=E,q[41]=T):(E=q[40],T=q[41]),(0,l.useEffect)(E,T);let el=(0,_.mF)();q[42]!==t||q[43]!==s||q[44]!==X||q[45]!==el?(P=()=>{if(el){let e=s.map(iu),n=t.map(ic);(e.includes(el)||n.includes(el))&&X({shouldFocusFirstMarker:!1},el)}},O=[el,X,s,t],q[42]=t,q[43]=s,q[44]=X,q[45]=el,q[46]=O,q[47]=P):(O=q[46],P=q[47]),(0,l.useEffect)(P,O);let eo=!z;q[48]!==ei||q[49]!==eo?(F={containerRef:et,markers:ei,disabled:eo},q[48]=ei,q[49]=eo,q[50]=F):F=q[50],nh(F);let ed=z?nA:"";q[51]!==ed?($=(0,b.$)("d-flex pt-1",ed),q[51]=ed,q[52]=$):$=q[52],q[53]!==Y||q[54]!==x||q[55]!==z?(M=z?{marginRight:`-${x}`,backgroundColor:Y}:{marginRight:`-${x}`},q[53]=Y,q[54]=x,q[55]=z,q[56]=M):M=q[56];let ec=z?"false":"true";if(q[57]!==s||q[58]!==u||q[59]!==f||q[60]!==h||q[61]!==p||q[62]!==z||q[63]!==j||q[64]!==ei||q[65]!==w||q[66]!==N||q[67]!==ee||q[68]!==L){let e;q[70]!==u||q[71]!==f||q[72]!==h||q[73]!==p||q[74]!==z||q[75]!==j||q[76]!==ei||q[77]!==w||q[78]!==N||q[79]!==ee||q[80]!==L?(e=(e,t)=>(0,i.jsx)("div",{className:(0,b.$)("mt-1 border rounded-2 color-border-default color-shadow-small",t===ei.length-1?"mb-1":"mb-2"),"data-first-marker":0===t,"data-marker-id":`${e.id}`,tabIndex:z?0:-1,children:(0,i.jsx)(ii,{threadPositionNumber:t+1,isFirstThread:0===t,filePath:f,lineMarkersKey:j,fileAnchor:u,gridCellId:p,onDeleteLineComment:w,threadId:e.id,threadsConnectionId:L,suggestedChangesConfig:ee,ghostUser:h,...N})},`review-thread-${e.id}`),q[70]=u,q[71]=f,q[72]=h,q[73]=p,q[74]=z,q[75]=j,q[76]=ei,q[77]=w,q[78]=N,q[79]=ee,q[80]=L,q[81]=e):e=q[81],B=s.map(e),q[57]=s,q[58]=u,q[59]=f,q[60]=h,q[61]=p,q[62]=z,q[63]=j,q[64]=ei,q[65]=w,q[66]=N,q[67]=ee,q[68]=L,q[69]=B}else B=q[69];if(q[82]!==p||q[83]!==ei||q[84]!==en){let e;q[86]!==p||q[87]!==ei?(e=(e,t)=>{let n=0===t&&e===ei[0];return(0,i.jsx)(n_,{annotation:e,gridCellId:p,isFirstMarker:n},`annotation-${e.id}`)},q[86]=p,q[87]=ei,q[88]=e):e=q[88],V=en.map(e),q[82]=p,q[83]=ei,q[84]=en,q[85]=V}else V=q[85];return q[89]!==a||q[90]!==B||q[91]!==V?(U=(0,i.jsxs)("div",{className:nR,ref:et,children:[B,a,V]}),q[89]=a,q[90]=B,q[91]=V,q[92]=U):U=q[92],q[93]!==s.length||q[94]!==z||q[95]!==C?(G=z&&(0,i.jsx)(m.K,{icon:c.UndoIcon,className:(0,b.$)(nI,"ml-2 position-relative",0===s.length?"mt-2":"mt-1"),"aria-label":"Return to code","data-exit-dialog-mode-button":"true",variant:"default",size:"small",onMouseUp:C,onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&C()}}),q[93]=s.length,q[94]=z,q[95]=C,q[96]=G):G=q[96],q[97]!==er||q[98]!==v||q[99]!==$||q[100]!==M||q[101]!==ec||q[102]!==U||q[103]!==G?(H=(0,i.jsxs)("div",{className:$,style:M,"aria-hidden":ec,onFocus:er,onClick:ea,onKeyUp:ea,onMouseDown:ea,onMouseUp:ea,"data-inline-markers":!0,ref:v,children:[U,G]}),q[97]=er,q[98]=v,q[99]=$,q[100]=M,q[101]=ec,q[102]=U,q[103]=G,q[104]=H):H=q[104],H}:function({annotations:e,cellRef:t,diffLine:n,dispatchMarkersStatus:a,children:r,conversationListThreads:s,inlineMarkersRef:o,isRowSelected:d,lineMarkersKey:u,fileAnchor:f,filePath:h,gridCellId:p,gutterSizeOffset:x,lineType:v,onCloseConversationList:y,onCloseFocusMode:j,onDeleteLineComment:C,threadsConnectionId:w,shouldStartNewConversationWithSuggestedChange:N,ghostUser:S,...L}){let D=K(p),{disableDialogMode:I,enableDialogMode:R}=W(),k=is(p,t,a),A=(0,e2.gK)(n?.type??"ADDITION",!1,d),E=tZ(n,N),T=(0,l.useRef)(null),O=(0,l.useMemo)(()=>[...e].sort((e,t)=>il[e.annotationLevel]-il[t.annotationLevel]),[e]),P=(0,l.useMemo)(()=>r?[...s,{id:"new-comment"},...O]:[...s,...O],[r,s,O]),F=e=>e.stopPropagation(),$=(0,l.useCallback)(e=>{e.target&&D&&(e.target.closest("[data-inline-markers]")||I())},[I,D]);(0,l.useEffect)(()=>(g.XC?.addEventListener("mousedown",$),()=>g.XC?.removeEventListener("mousedown",$)),[$]);let M=(0,_.mF)();return(0,l.useEffect)(()=>{if(M){let t=s.map(e=>e.id),n=e.map(e=>e.id);(t.includes(M)||n.includes(M))&&k({shouldFocusFirstMarker:!1},M)}},[M,k,s,e]),nh({containerRef:T,markers:P,disabled:!D}),(0,i.jsxs)("div",{className:(0,b.$)("d-flex pt-1",D?nA:""),style:D?{marginRight:`-${x}`,backgroundColor:A}:{marginRight:`-${x}`},"aria-hidden":D?"false":"true",onFocus:e=>{F(e),D||R(p)},onClick:F,onKeyUp:F,onMouseDown:F,onMouseUp:F,"data-inline-markers":!0,ref:o,children:[(0,i.jsxs)("div",{className:nR,ref:T,children:[s.map((e,t)=>(0,i.jsx)("div",{className:(0,b.$)("mt-1 border rounded-2 color-border-default color-shadow-small",t===P.length-1?"mb-1":"mb-2"),"data-first-marker":0===t,"data-marker-id":`${e.id}`,tabIndex:D?0:-1,children:(0,i.jsx)(ii,{threadPositionNumber:t+1,isFirstThread:0===t,filePath:h,lineMarkersKey:u,fileAnchor:f,gridCellId:p,onDeleteLineComment:C,threadId:e.id,threadsConnectionId:w,suggestedChangesConfig:E,ghostUser:S,...L})},`review-thread-${e.id}`)),r,O.map((e,t)=>{let n=0===t&&e===P[0];return(0,i.jsx)(n_,{annotation:e,gridCellId:p,isFirstMarker:n},`annotation-${e.id}`)})]}),D&&(0,i.jsx)(m.K,{icon:c.UndoIcon,className:(0,b.$)(nI,"ml-2 position-relative",0===s.length?"mt-2":"mt-1"),"aria-label":"Return to code","data-exit-dialog-mode-button":"true",variant:"default",size:"small",onMouseUp:j,onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&j()}})]})};function ic(e){return e.id}function iu(e){return e.id}function im(e){return e.stopPropagation()}function ih(e,t){return il[e.annotationLevel]-il[t.annotationLevel]}try{io.displayName||(io.displayName="InlineMarkers")}catch{}try{id.displayName||(id.displayName="InlineMarkersInternal")}catch{}var ip=n(18799),ig=n(40260);async function ix({diffLine:e,diffLines:t,getSelectedDiffLines:n,getSelectedLineRange:i,isSplit:a,isLeftSide:r}){let s,l=window.getSelection();if(l&&""!==l.toString())return void document.execCommand("copy");let o=n().length<=1;switch(!0){case o:s=iv(e);break;case a:s=iy({diffLines:t,diffOrientation:r?"left":"right",getSelectedLineRange:i});break;default:s=ib({diffLines:t,getSelectedLineRange:i})}await (0,ig.D)(s)}let ib=({diffLines:e,getSelectedLineRange:t})=>{let n=t();if(!n)return"";let{startOrientation:i,endOrientation:a,startLineNumber:r,endLineNumber:s}=n,l=0,o=0;return e.length>1&&(l=e.findIndex(e=>"left"===i?e.left===r:e.right===r),o=e.findIndex(e=>"left"===a?e.left===s:e.right===s)),(0,E.Ls)(e.slice(l,o+1))},iv=e=>(0,E.Po)(e)||!e?"":(0,E.Ls)([e]),iy=({diffLines:e,diffOrientation:t,getSelectedLineRange:n})=>{if(void 0===t)return"";let i=n();if(!i)return"";let a=(0,E.Mk)(e),r=a.leftLines,s=a.rightLines,{selectedRightLines:l,selectedLeftLines:o}=(0,A.A)({selectedLineRange:i,leftLines:r,rightLines:s});return"left"===t?(0,E.Ls)(o):(0,E.Ls)(l)},ij=(0,l.createContext)(null),iC=(0,a.GV)()?function(e){let t,n,a,s,o,d,c=(0,r.c)(14),{children:u}=e,[m,f]=(0,l.useState)(!1),[h,p]=(0,l.useState)(),[g,x]=(0,l.useState)(),[b,v]=(0,l.useState)(),[y,j]=(0,l.useState)(),C=!!h||!!g||!!b||!!y;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{f(!0)},c[0]=t):t=c[0];let w=t;c[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{f(!1)},c[1]=n):n=c[1];let N=n;c[2]===Symbol.for("react.memo_cache_sentinel")?(a=(e,t,n)=>{switch(e){case"context-menu":p(t),j(void 0),v(void 0),x(void 0);break;case"new-conversation":j({cellId:t,withSuggestedChange:n?.withSuggestedChange}),p(void 0),v(void 0),x(void 0);break;case"marker-details":v(t),p(void 0),x(void 0),j(void 0);break;case"marker-list":x(t),p(void 0),j(void 0),v(void 0)}},c[2]=a):a=c[2];let S=a;c[3]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{switch(e){case"context-menu":p(void 0);break;case"new-conversation":j(void 0);break;case"marker-details":v(void 0);break;case"marker-list":x(void 0)}},c[3]=s):s=c[3];let L=s;c[4]!==C||c[5]!==m||c[6]!==h||c[7]!==b||c[8]!==g||c[9]!==y?(o={isActionBarVisible:m,showActionBar:w,hideActionBar:N,closeDialog:L,openDialog:S,anyMenuOpen:C,openContextMenuCell:h,openMarkersListCell:g,openMarkerDetailsCell:b,openNewConversationCell:y},c[4]=C,c[5]=m,c[6]=h,c[7]=b,c[8]=g,c[9]=y,c[10]=o):o=c[10];let D=o;return c[11]!==u||c[12]!==D?(d=(0,i.jsx)(ij.Provider,{value:D,children:u}),c[11]=u,c[12]=D,c[13]=d):d=c[13],d}:function({children:e}){let[t,n]=(0,l.useState)(!1),[a,r]=(0,l.useState)(),[s,o]=(0,l.useState)(),[d,c]=(0,l.useState)(),[u,m]=(0,l.useState)(),f=(0,l.useMemo)(()=>!!a||!!s||!!d||!!u,[a,d,s,u]),h=(0,l.useCallback)(()=>{n(!0)},[]),p=(0,l.useCallback)(()=>{n(!1)},[]),g=(0,l.useCallback)((e,t,n)=>{switch(e){case"context-menu":r(t),m(void 0),c(void 0),o(void 0);break;case"new-conversation":m({cellId:t,withSuggestedChange:n?.withSuggestedChange}),r(void 0),c(void 0),o(void 0);break;case"marker-details":c(t),r(void 0),o(void 0),m(void 0);break;case"marker-list":o(t),r(void 0),m(void 0),c(void 0)}},[]),x=(0,l.useCallback)(e=>{switch(e){case"context-menu":r(void 0);break;case"new-conversation":m(void 0);break;case"marker-details":c(void 0);break;case"marker-list":o(void 0)}},[]),b=(0,l.useMemo)(()=>({isActionBarVisible:t,showActionBar:h,hideActionBar:p,closeDialog:x,openDialog:g,anyMenuOpen:f,openContextMenuCell:a,openMarkersListCell:s,openMarkerDetailsCell:d,openNewConversationCell:u}),[t,h,p,x,g,f,a,s,d,u]);return(0,i.jsx)(ij.Provider,{value:b,children:e})},iw=(0,a.GV)()?function(){let e=(0,l.useContext)(ij);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}:function(){let e=(0,l.useContext)(ij);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e};try{ij.displayName||(ij.displayName="MarkersDialogContext")}catch{}try{iC.displayName||(iC.displayName="MarkersDialogContextProvider")}catch{}let iN=(0,a.GV)()?function(e){let t,n,i,a,s,o,d,c=(0,r.c)(27),{cellId:u,actionBarRef:m}=e,[f,h]=(0,l.useState)(m),{openDialog:p,closeDialog:g,openContextMenuCell:x,anyMenuOpen:b}=iw(),v=x===u;c[0]!==u||c[1]!==p?(t=()=>{p("context-menu",u)},c[0]=u,c[1]=p,c[2]=t):t=c[2];let y=t;c[3]!==m||c[4]!==y?(n=()=>{h(m),y()},c[3]=m,c[4]=y,c[5]=n):n=c[5];let j=n;c[6]!==g?(i=()=>{g("context-menu")},c[6]=g,c[7]=i):i=c[7];let C=i;c[8]!==C||c[9]!==v||c[10]!==y?(a=()=>{v?C():y()},c[8]=C,c[9]=v,c[10]=y,c[11]=a):a=c[11];let w=a;c[12]!==m||c[13]!==w?(s=()=>{h(m),w()},c[12]=m,c[13]=w,c[14]=s):s=c[14];let N=s;c[15]!==g?(o=()=>{g("marker-list")},c[15]=g,c[16]=o):o=c[16];let S=o;return c[17]!==b||c[18]!==C||c[19]!==S||c[20]!==v||c[21]!==y||c[22]!==j||c[23]!==f||c[24]!==w||c[25]!==N?(d={isContextMenuOpen:v,openContextMenu:y,openContextMenuFromActionBar:j,closeContextMenu:C,toggleContextMenu:w,toggleContextMenuFromActionBar:N,closeMarkerListDialog:S,returnFocusRef:f,anyMenuOpen:b},c[17]=b,c[18]=C,c[19]=S,c[20]=v,c[21]=y,c[22]=j,c[23]=f,c[24]=w,c[25]=N,c[26]=d):d=c[26],d}:function({cellId:e,actionBarRef:t}){let[n,i]=(0,l.useState)(t),{openDialog:a,closeDialog:r,openContextMenuCell:s,anyMenuOpen:o}=iw(),d=(0,l.useMemo)(()=>s===e,[e,s]),c=(0,l.useCallback)(()=>{a("context-menu",e)},[e,a]),u=(0,l.useCallback)(()=>{i(t),c()},[t,c]),m=(0,l.useCallback)(()=>{r("context-menu")},[r]),f=(0,l.useCallback)(()=>{d?m():c()},[m,d,c]),h=(0,l.useCallback)(()=>{i(t),f()},[t,f]);return{isContextMenuOpen:d,openContextMenu:c,openContextMenuFromActionBar:u,closeContextMenu:m,toggleContextMenu:f,toggleContextMenuFromActionBar:h,closeMarkerListDialog:(0,l.useCallback)(()=>{r("marker-list")},[r]),returnFocusRef:n,anyMenuOpen:o}},iS=(0,a.GV)()?function(e){let t,n,i,a,s,l=(0,r.c)(17),{cellId:o,onOpenDialog:d}=e,{openDialog:c,closeDialog:u,openNewConversationCell:m}=iw(),{sendAnalyticsEvent:f}=(0,tz.s)(),h=m?.cellId===o;l[0]!==o||l[1]!==d||l[2]!==c?(t=e=>{d?.(),c("new-conversation",o,e)},l[0]=o,l[1]=d,l[2]=c,l[3]=t):t=l[3];let p=t;l[4]!==p?(n=()=>{p()},l[4]=p,l[5]=n):n=l[5];let g=n;l[6]!==p||l[7]!==f?(i=()=>{p({withSuggestedChange:!0}),f("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},l[6]=p,l[7]=f,l[8]=i):i=l[8];let x=i;l[9]!==u?(a=()=>{u("new-conversation")},l[9]=u,l[10]=a):a=l[10];let b=a,v=m?.withSuggestedChange;return l[11]!==b||l[12]!==h||l[13]!==v||l[14]!==g||l[15]!==x?(s={isNewConversationDialogOpen:h,startNewConversation:g,startNewConversationWithSuggestedChange:x,closeNewConversation:b,shouldStartNewConversationWithSuggestedChange:v},l[11]=b,l[12]=h,l[13]=v,l[14]=g,l[15]=x,l[16]=s):s=l[16],s}:function({cellId:e,onOpenDialog:t}){let{openDialog:n,closeDialog:i,openNewConversationCell:a}=iw(),{sendAnalyticsEvent:r}=(0,tz.s)(),s=(0,l.useMemo)(()=>a?.cellId===e,[e,a]),o=(0,l.useCallback)(i=>{t?.(),n("new-conversation",e,i)},[e,t,n]),d=(0,l.useCallback)(()=>{o()},[o]),c=(0,l.useCallback)(()=>{o({withSuggestedChange:!0}),r("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[o,r]);return{isNewConversationDialogOpen:s,startNewConversation:d,startNewConversationWithSuggestedChange:c,closeNewConversation:(0,l.useCallback)(()=>{i("new-conversation")},[i]),shouldStartNewConversationWithSuggestedChange:(0,l.useMemo)(()=>a?.withSuggestedChange,[a])}},iL=(0,a.GV)()?function(e){let t,n,i,a,s,o,d,c,u=(0,r.c)(29),{cellRef:m}=e,{showActionBar:f,hideActionBar:h,anyMenuOpen:p}=iw(),[g,x]=(0,l.useState)(!1);u[0]!==f?(t=()=>{f()},u[0]=f,u[1]=t):t=u[1];let b=t;u[2]!==p||u[3]!==m||u[4]!==h?(n=e=>{p||m.current&&m.current.contains(e.relatedTarget)||h()},u[2]=p,u[3]=m,u[4]=h,u[5]=n):n=u[5];let v=n;u[6]!==f?(i=()=>{f()},u[6]=f,u[7]=i):i=u[7];let y=i;u[8]!==p||u[9]!==m||u[10]!==h?(a=()=>{p||m.current===document.activeElement||m.current?.contains(document.activeElement)&&document.activeElement?.getAttribute("data-add-comment-button")!=="true"||h()},u[8]=p,u[9]=m,u[10]=h,u[11]=a):a=u[11];let j=a;u[12]!==p||u[13]!==m||u[14]!==h?(s=e=>{m.current&&(p||(m.current.contains(e.relatedTarget)?m.current===e.relatedTarget&&x(!1):(h(),x(!1))))},u[12]=p,u[13]=m,u[14]=h,u[15]=s):s=u[15];let C=s;u[16]!==p?(o=e=>{p||(e.stopPropagation(),x(!0))},u[16]=p,u[17]=o):o=u[17];let w=o;u[18]!==p?(d=e=>{!p&&tU(e.key)&&e.stopPropagation()},u[18]=p,u[19]=d):d=u[19];let N=d;return u[20]!==C||u[21]!==w||u[22]!==N||u[23]!==v||u[24]!==b||u[25]!==y||u[26]!==j||u[27]!==g?(c={isActionBarFocused:g,handleCellBlur:v,handleCellFocus:b,handleCellMouseEnter:y,handleCellMouseLeave:j,handleActionBarBlur:C,handleActionBarFocusCapture:w,handleActionBarKeydownCapture:N},u[20]=C,u[21]=w,u[22]=N,u[23]=v,u[24]=b,u[25]=y,u[26]=j,u[27]=g,u[28]=c):c=u[28],c}:function({cellRef:e}){let{showActionBar:t,hideActionBar:n,anyMenuOpen:i}=iw(),[a,r]=(0,l.useState)(!1),s=(0,l.useCallback)(()=>{t()},[t]),o=(0,l.useCallback)(t=>{i||e.current&&e.current.contains(t.relatedTarget)||n()},[i,e,n]),d=(0,l.useCallback)(()=>{t()},[t]),c=(0,l.useCallback)(()=>{i||e.current===document.activeElement||e.current?.contains(document.activeElement)&&document.activeElement?.getAttribute("data-add-comment-button")!=="true"||n()},[i,e,n]),u=(0,l.useCallback)(t=>{e.current&&(i||(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&r(!1):(n(),r(!1))))},[i,e,n]);return{isActionBarFocused:a,handleCellBlur:o,handleCellFocus:s,handleCellMouseEnter:d,handleCellMouseLeave:c,handleActionBarBlur:u,handleActionBarFocusCapture:(0,l.useCallback)(e=>{i||(e.stopPropagation(),r(!0))},[i]),handleActionBarKeydownCapture:(0,l.useCallback)(e=>{!i&&tU(e.key)&&e.stopPropagation()},[i])}};var iD=n(21513),i_=n(73783),iI=n(24494),iR=n(79036);let ik={compact:{avatarSize:18},relaxed:{avatarSize:20}};function iA({shouldAnimateRef:e,lineSpacingPreference:t="relaxed",threads:n,annotations:a}){(0,l.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:r}=ik[t],s=n.length+a.length;if(0===s)return null;let o={},c=[];a.map(e=>{e?.annotationLevel&&c.push({id:e.id,level:e.annotationLevel})}),n.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?o[e?.author.login]=e.author:tB?.login&&(o[tB.login]=tB)}));let u=[...c.sort((e,t)=>(iR.GF[e.level]?.priority||0)<(iR.GF[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(iR.S,{annotationLevel:t.level},t.id):(0,i.jsx)(iR.Xh,{annotationLevel:t.level},t.id)),...Object.keys(o).map(e=>{let t=o[e]?.login,n=o[e]?.avatarUrl??(tB?.avatarUrl||" ");return(0,i.jsx)(d.r,{alt:t,size:20,src:n},t)})].slice(0,3),m=s>9?"9+":`${s}`;return(0,i.jsxs)("div",{className:(0,b.$)("d-flex","flex-justify-between","flex-items-center","CommentIndicator-module__commentIndicatorContainer--GS12p"),children:[(0,i.jsx)(iI.A,{disableExpand:!0,size:r,className:(0,b.$)("CommentIndicator-module__AvatarStack--LfU8D","relaxed"===t?"CommentIndicator-module__Relaxed--oSXaK":"CommentIndicator-module__Compact--Q1u86"),children:u}),(0,i.jsx)("span",{className:(0,b.$)("fgColor-default","ml-1","CommentIndicator-module__textStyles--ZLD5t"),children:m})]})}try{iA.displayName||(iA.displayName="CommentIndicator")}catch{}var iE=n(89141);let iT=(0,a.GV)()?function(e){let t,n,i,a,s=(0,r.c)(18),{currentHunk:l,nextHunk:o,previousHunk:d}=e,{addInjectedContextLines:c}=ee(),u=!!l&&0!==l.startBlobLineNumber,m=!!l&&!!o;s[0]!==c||s[1]!==u||s[2]!==l||s[3]!==d?(t=()=>{if(!u||!l)return;let e=d&&l&&d.endBlobLineNumber+20>l.startBlobLineNumber,t={start:Math.max(0,l.startBlobLineNumber-20),end:l.startBlobLineNumber};e&&(t.start=d.endBlobLineNumber+1),c(t)},s[0]=c,s[1]=u,s[2]=l,s[3]=d,s[4]=t):t=s[4];let f=t;s[5]!==c||s[6]!==m||s[7]!==l?(n=()=>{m&&l&&c({start:l.endBlobLineNumber+1,end:l.endBlobLineNumber+1+20})},s[5]=c,s[6]=m,s[7]=l,s[8]=n):n=s[8];let h=n;s[9]!==c||s[10]!==d?(i=()=>{d&&c({start:d.endBlobLineNumber+1,end:d.endBlobLineNumber+1+20})},s[9]=c,s[10]=d,s[11]=i):i=s[11];let p=i;return s[12]!==m||s[13]!==u||s[14]!==h||s[15]!==p||s[16]!==f?(a={expandStartOfHunk:f,expandEndOfHunk:h,expandEndOfPreviousHunk:p,canExpandEndOfHunk:m,canExpandStartOfHunk:u},s[12]=m,s[13]=u,s[14]=h,s[15]=p,s[16]=f,s[17]=a):a=s[17],a}:function({currentHunk:e,nextHunk:t,previousHunk:n}){let{addInjectedContextLines:i}=ee(),a=!!e&&0!==e.startBlobLineNumber,r=!!e&&!!t;return{expandStartOfHunk:()=>{if(!a||!e)return;let t=n&&e&&n.endBlobLineNumber+20>e.startBlobLineNumber,r={start:Math.max(0,e.startBlobLineNumber-20),end:e.startBlobLineNumber};t&&(r.start=n.endBlobLineNumber+1),i(r)},expandEndOfHunk:()=>{r&&e&&i({start:e.endBlobLineNumber+1,end:e.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{n&&i({start:n.endBlobLineNumber+1,end:n.endBlobLineNumber+1+20})},canExpandEndOfHunk:r,canExpandStartOfHunk:a}};var iO=n(29255);let iP={left:"L",right:"R"},iF="Add comment",i$="Suggest change";function iM(e,t,n){let i=n&&!(0,E.Ji)(t)?iP.left:iP.right;return`${e} on line ${i}${t.blobLineNumber}`}function iB(e,t,n,i,a){return e.right===t.right?n||i&&a?` on line R${e.right}`:`, modified line R${t.right}`:n||i&&a?` on lines R${e.right}-R${t.right}`:`, modified lines R${e.right}-R${t.right}`}function iV(e,t,n){return e.left===t.left?n?` on line L${e.left}`:`, original line L${e.left}`:n?` on lines L${e.left}-L${t.right}`:`, original lines L${e.left}-L${t.left}`}let iU=(0,a.GV)()?function(e){let t,n,a,s,l,o,d,u,m,f,h,p,g,x,b,v,y,j,C,w,N,S=(0,r.c)(72),{diffLine:L,handleStartConversationWithSuggestedChange:D,handleStartConversation:_,isLeftSide:I,isSplit:R}=e,{selectMultipleLines:k}=Y(),A=V(),O=H();S[0]!==O?(t=O(),S[0]=O,S[1]=t):t=S[1];let P=t;S[2]!==A?(n=(0,E.Mk)(A()),S[2]=A,S[3]=n):n=S[3];let F=n;S[4]!==F.leftLines?(a=F.leftLines.find(iJ),S[4]=F.leftLines,S[5]=a):a=S[5];let $=a;S[6]!==F.leftLines?(s=F.leftLines.filter(iX),S[6]=F.leftLines,S[7]=s):s=S[7];let M=s,B=M[M.length-1];S[8]!==F.leftLines?(l=F.leftLines.filter(iQ).every(iZ),S[8]=F.leftLines,S[9]=l):l=S[9];let U=l;S[10]!==F.rightLines?(o=F.rightLines.find(iW),S[10]=F.rightLines,S[11]=o):o=S[11];let G=o;S[12]!==F.rightLines?(d=F.rightLines.filter(iK),S[12]=F.rightLines,S[13]=d):d=S[13];let q=d,z=q[q.length-1];S[14]!==F.rightLines?(u=F.rightLines.filter(iz),S[14]=F.rightLines,S[15]=u):u=S[15];let K=0===u.length;S[16]!==F.leftLines?(m=F.leftLines.filter(iq),S[16]=F.leftLines,S[17]=m):m=S[17];let W=0===m.length;e:{if(F.leftLines.find(iH)||F.rightLines.find(iG)){f=!1;break e}f=!0}let Z=f;S[18]!==$||S[19]!==_||S[20]!==D||S[21]!==B||S[22]!==k||S[23]!==P?(h=(e,t)=>{!(!P||!B||!$||(0,E.Po)(B)||(0,E.Po)($))&&$.left&&B.left&&(k({endLineKey:(0,T.bo)(B),endOrientation:"left",startLineKey:(0,T.bo)($),startOrientation:"left",firstLineSelectionOnDrag:{lineKey:(0,T.bo)($),lineNumber:$.left,orientation:"left",shouldStartConversation:!1}},eC),t?.withSuggestedChange?D():_())},S[18]=$,S[19]=_,S[20]=D,S[21]=B,S[22]=k,S[23]=P,S[24]=h):h=S[24];let Q=h;S[25]!==G||S[26]!==_||S[27]!==D||S[28]!==z||S[29]!==k||S[30]!==P?(p=(e,t)=>{!(!P||!z||!G||(0,E.Po)(z)||(0,E.Po)(G))&&G.right&&z.right&&(k({endLineKey:(0,T.bo)(z),endOrientation:"right",startLineKey:(0,T.bo)(G),startOrientation:"right",firstLineSelectionOnDrag:{lineKey:(0,T.bo)(G),lineNumber:G.right,orientation:"right",shouldStartConversation:!1}},eC),t?.withSuggestedChange?D():_())},S[25]=G,S[26]=_,S[27]=D,S[28]=z,S[29]=k,S[30]=P,S[31]=p):p=S[31];let X=p,J="DELETION"!==L.type;t:{if(!P){g=!1;break t}if(P.startOrientation!==P.endOrientation||P.startLineNumber!==P.endLineNumber){g=!0;break t}g=!1}let ee=g,et=!1,en=!1;if(P&&ee){let e,t=iP[P.startOrientation],n=iP[P.endOrientation];if(v=` on lines ${t}${P.startLineNumber}-${n}${P.endLineNumber}`,!(0,E.Po)($)&&!(0,E.Po)(B)&&$&&B){let e;et=!0,S[32]!==$||S[33]!==B||S[34]!==K?(e=iV($,B,K),S[32]=$,S[33]=B,S[34]=K,S[35]=e):e=S[35],x=e}if(!(0,E.Po)(G)&&!(0,E.Po)(z)&&G&&z){let e;en=!0,S[36]!==Z||S[37]!==G||S[38]!==R||S[39]!==z||S[40]!==W?(e=iB(G,z,W,R,Z),S[36]=Z,S[37]=G,S[38]=R,S[39]=z,S[40]=W,S[41]=e):e=S[41],b=e}return S[42]!==Z||S[43]!==U||S[44]!==J||S[45]!==_||S[46]!==D||S[47]!==X||S[48]!==Q||S[49]!==R||S[50]!==K||S[51]!==b||S[52]!==x||S[53]!==en||S[54]!==et||S[55]!==v?(e=(0,i.jsx)(i.Fragment,{children:R?(0,i.jsx)(i.Fragment,{children:Z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:X,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+b,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eO.l.Item,{onSelect:e=>X(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+b]})]}):(0,i.jsxs)(i.Fragment,{children:[et?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:Q,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+x,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:K?"Alt+n":"Alt+Shift+N"})})]}),U&&(0,i.jsxs)(eO.l.Item,{onSelect:e=>Q(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+x]})]}):null,en?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:X,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+b,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eO.l.Item,{onSelect:e=>X(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+b]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:_,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+v]}),J&&U&&(0,i.jsxs)(eO.l.Item,{onSelect:D,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+v]})]})}),S[42]=Z,S[43]=U,S[44]=J,S[45]=_,S[46]=D,S[47]=X,S[48]=Q,S[49]=R,S[50]=K,S[51]=b,S[52]=x,S[53]=en,S[54]=et,S[55]=v,S[56]=e):e=S[56],e}return S[57]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),S[57]=y):y=S[57],S[58]!==I||S[59]!==L?(j=iM(iF,L,I),S[58]=I,S[59]=L,S[60]=j):j=S[60],S[61]!==_||S[62]!==j?(C=(0,i.jsxs)(eO.l.Item,{onSelect:_,children:[y,j]}),S[61]=_,S[62]=j,S[63]=C):C=S[63],S[64]!==J||S[65]!==D||S[66]!==I||S[67]!==L?(w=J&&(0,i.jsxs)(eO.l.Item,{onSelect:D,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),iM(i$,L,I)]}),S[64]=J,S[65]=D,S[66]=I,S[67]=L,S[68]=w):w=S[68],S[69]!==C||S[70]!==w?(N=(0,i.jsxs)(i.Fragment,{children:[C,w]}),S[69]=C,S[70]=w,S[71]=N):N=S[71],N}:function({diffLine:e,handleStartConversationWithSuggestedChange:t,handleStartConversation:n,isLeftSide:a,isSplit:r}){let s,o,d,{selectMultipleLines:u}=Y(),m=V(),f=H()(),h=(0,l.useMemo)(()=>(0,E.Mk)(m()),[m]),p=(0,l.useMemo)(()=>h.leftLines.find(e=>!(0,E.Po)(e)),[h.leftLines]),g=(0,l.useMemo)(()=>{let e=h.leftLines.filter(e=>!(0,E.Po)(e));return e[e.length-1]},[h.leftLines]),x=(0,l.useMemo)(()=>h.leftLines.filter(e=>!(0,E.Po)(e)).every(e=>"DELETION"!==e.type),[h.leftLines]),b=(0,l.useMemo)(()=>h.rightLines.find(e=>!(0,E.Po)(e)),[h.rightLines]),v=(0,l.useMemo)(()=>{let e=h.rightLines.filter(e=>!(0,E.Po)(e));return e[e.length-1]},[h.rightLines]),y=(0,l.useMemo)(()=>0===h.rightLines.filter(e=>!(0,E.Po)(e)).length,[h.rightLines]),j=(0,l.useMemo)(()=>0===h.leftLines.filter(e=>!(0,E.Po)(e)).length,[h.leftLines]),C=(0,l.useMemo)(()=>!(h.leftLines.find(e=>!(0,E.Po)(e)&&!(0,E.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)||h.rightLines.find(e=>!(0,E.Po)(e)&&!(0,E.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)),[h.leftLines,h.rightLines]),w=(0,l.useCallback)((e,i)=>{!(!f||!g||!p||(0,E.Po)(g)||(0,E.Po)(p))&&p.left&&g.left&&(u({endLineKey:(0,T.bo)(g),endOrientation:"left",startLineKey:(0,T.bo)(p),startOrientation:"left",firstLineSelectionOnDrag:{lineKey:(0,T.bo)(p),lineNumber:p.left,orientation:"left",shouldStartConversation:!1}},eC),i?.withSuggestedChange?t():n())},[f,g,p,u,t,n]),N=(0,l.useCallback)((e,i)=>{!(!f||!v||!b||(0,E.Po)(v)||(0,E.Po)(b))&&b.right&&v.right&&(u({endLineKey:(0,T.bo)(v),endOrientation:"right",startLineKey:(0,T.bo)(b),startOrientation:"right",firstLineSelectionOnDrag:{lineKey:(0,T.bo)(b),lineNumber:b.right,orientation:"right",shouldStartConversation:!1}},eC),i?.withSuggestedChange?t():n())},[f,v,b,u,t,n]),S="DELETION"!==e.type,L=(0,l.useMemo)(()=>!!f&&(f.startOrientation!==f.endOrientation||f.startLineNumber!==f.endLineNumber),[f]),D=!1,_=!1;if(f&&L){let e=iP[f.startOrientation],a=iP[f.endOrientation];return d=` on lines ${e}${f.startLineNumber}-${a}${f.endLineNumber}`,!(0,E.Po)(p)&&!(0,E.Po)(g)&&p&&g&&(D=!0,s=iV(p,g,y)),!(0,E.Po)(b)&&!(0,E.Po)(v)&&b&&v&&(_=!0,o=iB(b,v,j,r,C)),(0,i.jsx)(i.Fragment,{children:r?(0,i.jsx)(i.Fragment,{children:C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:N,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+o,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eO.l.Item,{onSelect:e=>N(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+o]})]}):(0,i.jsxs)(i.Fragment,{children:[D?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:w,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+s,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:y?"Alt+n":"Alt+Shift+N"})})]}),x&&(0,i.jsxs)(eO.l.Item,{onSelect:e=>w(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+s]})]}):null,_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:N,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+o,(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eO.l.Item,{onSelect:e=>N(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+o]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:n,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iF+d]}),S&&x&&(0,i.jsxs)(eO.l.Item,{onSelect:t,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),i$+d]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eO.l.Item,{onSelect:n,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusIcon,{})}),iM(iF,e,a)]}),S&&(0,i.jsxs)(eO.l.Item,{onSelect:t,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.PlusCircleIcon,{})}),iM(i$,e,a)]})]})};function iG(e){return!(0,E.Po)(e)&&!(0,E.Ji)(e)&&"INJECTED_CONTEXT"!==e.type}function iH(e){return!(0,E.Po)(e)&&!(0,E.Ji)(e)&&"INJECTED_CONTEXT"!==e.type}function iq(e){return!(0,E.Po)(e)}function iz(e){return!(0,E.Po)(e)}function iK(e){return!(0,E.Po)(e)}function iW(e){return!(0,E.Po)(e)}function iZ(e){return"DELETION"!==e.type}function iQ(e){return!(0,E.Po)(e)}function iX(e){return!(0,E.Po)(e)}function iJ(e){return!(0,E.Po)(e)}try{iU.displayName||(iU.displayName="StartConversationContextMenuItems")}catch{}var iY=n(66358);let i0=(0,a.GV)()?function(e){let t,n,a,s,l,o,d,c=(0,r.c)(28);return c[0]!==e?(t=(0,i.jsx)(i5,{...e}),c[0]=e,c[1]=t):t=c[1],c[2]!==e.copilotChatReference||c[3]!==e.diffAnchor||c[4]!==e.diffLine||c[5]!==e.isLeftSide||c[6]!==e.viewerData.shouldDisplayComments?(n=e.viewerData.shouldDisplayComments&&(0,i.jsx)(i3,{diffAnchor:e.diffAnchor,diffLine:e.diffLine,fileDiffReference:e.copilotChatReference,isLeftSide:e.isLeftSide}),c[2]=e.copilotChatReference,c[3]=e.diffAnchor,c[4]=e.diffLine,c[5]=e.isLeftSide,c[6]=e.viewerData.shouldDisplayComments,c[7]=n):n=c[7],c[8]!==e.handleCopyCode?(a=(0,i.jsx)(ae,{handleCopyCode:e.handleCopyCode}),c[8]=e.handleCopyCode,c[9]=a):a=c[9],c[10]!==e.diffAnchor?(s=(0,i.jsx)(i4,{diffAnchor:e.diffAnchor}),c[10]=e.diffAnchor,c[11]=s):s=c[11],c[12]!==e.diffAnchor||c[13]!==e.diffLine||c[14]!==e.viewerData.shouldDisplayComments?(l=e.viewerData.shouldDisplayComments&&(0,i.jsx)(i1,{diffAnchor:e.diffAnchor,diffLine:e.diffLine}),c[12]=e.diffAnchor,c[13]=e.diffLine,c[14]=e.viewerData.shouldDisplayComments,c[15]=l):l=c[15],c[16]!==e.currentHunk||c[17]!==e.diffAnchor||c[18]!==e.nextHunk||c[19]!==e.previousHunk?(o=(0,i.jsx)(an,{currentHunk:e.currentHunk,diffAnchor:e.diffAnchor,nextHunk:e.nextHunk,previousHunk:e.previousHunk}),c[16]=e.currentHunk,c[17]=e.diffAnchor,c[18]=e.nextHunk,c[19]=e.previousHunk,c[20]=o):o=c[20],c[21]!==t||c[22]!==n||c[23]!==a||c[24]!==s||c[25]!==l||c[26]!==o?(d=(0,i.jsxs)(i.Fragment,{children:[t,n,a,s,l,o]}),c[21]=t,c[22]=n,c[23]=a,c[24]=s,c[25]=l,c[26]=o,c[27]=d):d=c[27],d}:function(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(i5,{...e}),e.viewerData.shouldDisplayComments&&(0,i.jsx)(i3,{diffAnchor:e.diffAnchor,diffLine:e.diffLine,fileDiffReference:e.copilotChatReference,isLeftSide:e.isLeftSide}),(0,i.jsx)(ae,{handleCopyCode:e.handleCopyCode}),(0,i.jsx)(i4,{diffAnchor:e.diffAnchor}),e.viewerData.shouldDisplayComments&&(0,i.jsx)(i1,{diffAnchor:e.diffAnchor,diffLine:e.diffLine}),(0,i.jsx)(an,{currentHunk:e.currentHunk,diffAnchor:e.diffAnchor,nextHunk:e.nextHunk,previousHunk:e.previousHunk})]})},i1=(0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(8),{diffLine:o,diffAnchor:d}=e,u=H();l[0]!==d||l[1]!==u||l[2]!==o?(t=()=>{let e=u(),t=(0,E.j2)({line:o,range:e,fileAnchor:d});t&&(0,ig.D)(t)},l[0]=d,l[1]=u,l[2]=o,l[3]=t):t=l[3];let m=t;return l[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.LinkIcon,{})}),l[4]=n):n=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+Alt+y"})}),l[5]=a):a=l[5],l[6]!==m?(s=(0,i.jsxs)(eO.l.Item,{onSelect:m,onMouseDown:i2,children:[n,"Copy link",a]}),l[6]=m,l[7]=s):s=l[7],s}:function({diffLine:e,diffAnchor:t}){let n=H(),a=(0,l.useCallback)(()=>{let i=n(),a=(0,E.j2)({line:e,range:i,fileAnchor:t});a&&(0,ig.D)(a)},[t,n,e]);return(0,i.jsxs)(eO.l.Item,{onSelect:a,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.LinkIcon,{})}),"Copy link",(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+Alt+y"})})]})};function i2(e){window.getSelection()?.toString()!==""&&e.preventDefault()}let i3=(0,a.GV)()?e=>{let t,n,a=(0,r.c)(8),s=H();if(a[0]!==s||a[1]!==e.diffAnchor||a[2]!==e.diffLine||a[3]!==e.isLeftSide){let n=s();t=(0,E.Av)(n,e.diffLine,e.isLeftSide,e.diffAnchor),a[0]=s,a[1]=e.diffAnchor,a[2]=e.diffLine,a[3]=e.isLeftSide,a[4]=t}else t=a[4];let l=t;return e.fileDiffReference?(a[5]!==l||a[6]!==e.fileDiffReference?(n=(0,i.jsx)(iE.w,{showDivider:!0,selectedRange:l,fileDiffReference:e.fileDiffReference}),a[5]=l,a[6]=e.fileDiffReference,a[7]=n):n=a[7],n):null}:e=>{let t=H()(),n=(0,E.Av)(t,e.diffLine,e.isLeftSide,e.diffAnchor);return e.fileDiffReference?(0,i.jsx)(iE.w,{showDivider:!0,selectedRange:n,fileDiffReference:e.fileDiffReference}):null},i4=(0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(6),{diffAnchor:o}=e;l[0]!==o?(t=()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${o}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},l[0]=o,l[1]=t):t=l[1];let d=t;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MultiSelectIcon,{})}),l[2]=n):n=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+a"})}),l[3]=a):a=l[3],l[4]!==d?(s=(0,i.jsxs)(eO.l.Item,{onSelect:d,children:[n,"Select all",a]}),l[4]=d,l[5]=s):s=l[5],s}:function({diffAnchor:e}){return(0,i.jsxs)(eO.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+a"})})]})},i5=(0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(21),{diffLine:o,handleViewMarkersSelection:d,isLeftSide:c,isSplit:u,shouldDisplayCollapseComments:m,showStartConversation:f,startConversationCurrentLine:h,startConversationWithSuggestedChange:p,threads:g,annotations:x,viewerData:b}=e,v=x.length>0;return f||g||v?(l[0]!==o||l[1]!==c||l[2]!==u||l[3]!==f||l[4]!==h||l[5]!==p||l[6]!==b.shouldDisplayComments?(t=b.shouldDisplayComments&&f&&(0,i.jsx)(iU,{diffLine:o,handleStartConversation:h,handleStartConversationWithSuggestedChange:p,isLeftSide:c,isSplit:u}),l[0]=o,l[1]=c,l[2]=u,l[3]=f,l[4]=h,l[5]=p,l[6]=b.shouldDisplayComments,l[7]=t):t=l[7],l[8]!==x||l[9]!==o||l[10]!==d||l[11]!==c||l[12]!==u||l[13]!==m||l[14]!==g||l[15]!==b?(n=(0,i.jsx)(i6,{threads:g,annotations:x,diffLine:o,handleViewMarkersSelection:d,isLeftSide:c,isSplit:u,shouldDisplayCollapseComments:m,viewerData:b}),l[8]=x,l[9]=o,l[10]=d,l[11]=c,l[12]=u,l[13]=m,l[14]=g,l[15]=b,l[16]=n):n=l[16],l[17]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(eO.l.Divider,{}),l[17]=a):a=l[17],l[18]!==t||l[19]!==n?(s=(0,i.jsxs)(i.Fragment,{children:[t,n,a]}),l[18]=t,l[19]=n,l[20]=s):s=l[20],s):null}:function({diffLine:e,handleViewMarkersSelection:t,isLeftSide:n,isSplit:a,shouldDisplayCollapseComments:r,showStartConversation:s,startConversationCurrentLine:l,startConversationWithSuggestedChange:o,threads:d,annotations:c,viewerData:u}){let m=c.length>0;return s||d||m?(0,i.jsxs)(i.Fragment,{children:[u.shouldDisplayComments&&s&&(0,i.jsx)(iU,{diffLine:e,handleStartConversation:l,handleStartConversationWithSuggestedChange:o,isLeftSide:n,isSplit:a}),(0,i.jsx)(i6,{threads:d,annotations:c,diffLine:e,handleViewMarkersSelection:t,isLeftSide:n,isSplit:a,shouldDisplayCollapseComments:r,viewerData:u}),(0,i.jsx)(eO.l.Divider,{})]}):null},i6=(0,a.GV)()?function(e){let t,n=(0,r.c)(14),{diffLine:a,handleViewMarkersSelection:s,isLeftSide:l,isSplit:o,threads:d,annotations:c,shouldDisplayCollapseComments:u,viewerData:m}=e;if(m.commentsPreference===ip.sI.Visible)return null;if(!o){let e,t;return n[0]!==s?(e=()=>s(),n[0]=s,n[1]=e):e=n[1],n[2]!==c||n[3]!==a||n[4]!==u||n[5]!==e||n[6]!==d?(t=(0,i.jsx)(i8,{threads:d,annotations:c,diffLine:a,onSelect:e,shouldDisplayCollapseComments:u}),n[2]=c,n[3]=a,n[4]=u,n[5]=e,n[6]=d,n[7]=t):t=n[7],t}return n[8]!==c||n[9]!==s||n[10]!==l||n[11]!==u||n[12]!==d?(t=(0,i.jsx)(i7,{threads:d,annotations:c,handleViewMarkersSelection:s,isLeftSide:l,shouldDisplayCollapseComments:u}),n[8]=c,n[9]=s,n[10]=l,n[11]=u,n[12]=d,n[13]=t):t=n[13],t}:function({diffLine:e,handleViewMarkersSelection:t,isLeftSide:n,isSplit:a,threads:r,annotations:s,shouldDisplayCollapseComments:l,viewerData:o}){return o.commentsPreference===ip.sI.Visible?null:a?(0,i.jsx)(i7,{threads:r,annotations:s,handleViewMarkersSelection:t,isLeftSide:n,shouldDisplayCollapseComments:l}):(0,i.jsx)(i8,{threads:r,annotations:s,diffLine:e,onSelect:()=>t(),shouldDisplayCollapseComments:l})},i7=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(13),{handleViewMarkersSelection:s,isLeftSide:l,shouldDisplayCollapseComments:o,threads:d,annotations:c}=e,u=d.length>0,m=c.length>0;if(l){let e,t;return a[0]!==s||a[1]!==u||a[2]!==o?(e=u&&(0,i.jsx)(i9,{text:o?"Collapse comments":"Expand comments",onSelect:()=>s("LEFT")}),a[0]=s,a[1]=u,a[2]=o,a[3]=e):e=a[3],a[4]!==e?(t=(0,i.jsx)(i.Fragment,{children:e}),a[4]=e,a[5]=t):t=a[5],t}return a[6]!==s||a[7]!==m||a[8]!==u||a[9]!==o?(t=(u||m)&&(0,i.jsx)(i9,{text:o?"Collapse comments":"Expand comments",onSelect:()=>s("RIGHT")}),a[6]=s,a[7]=m,a[8]=u,a[9]=o,a[10]=t):t=a[10],a[11]!==t?(n=(0,i.jsx)(i.Fragment,{children:t}),a[11]=t,a[12]=n):n=a[12],n}:function({handleViewMarkersSelection:e,isLeftSide:t,shouldDisplayCollapseComments:n,threads:a,annotations:r}){let s=a.length>0,l=r.length>0;return t?(0,i.jsx)(i.Fragment,{children:s&&(0,i.jsx)(i9,{text:n?"Collapse comments":"Expand comments",onSelect:()=>e("LEFT")})}):(0,i.jsx)(i.Fragment,{children:(s||l)&&(0,i.jsx)(i9,{text:n?"Collapse comments":"Expand comments",onSelect:()=>e("RIGHT")})})},i8=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(5),{diffLine:s,onSelect:l,threads:o,annotations:d,shouldDisplayCollapseComments:c}=e;if(!(s&&(o.length>0||d.length>0)))return null;let u=c?"Collapse comments":"Expand comments";return a[0]!==l?(t=()=>l(),a[0]=l,a[1]=t):t=a[1],a[2]!==u||a[3]!==t?(n=(0,i.jsx)(i9,{text:u,onSelect:t}),a[2]=u,a[3]=t,a[4]=n):n=a[4],n}:function({diffLine:e,onSelect:t,threads:n,annotations:a,shouldDisplayCollapseComments:r}){return e&&(n.length>0||a.length>0)?(0,i.jsx)(i9,{text:r?"Collapse comments":"Expand comments",onSelect:()=>t()}):null},i9=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(4),{onSelect:s,text:l}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.CommentDiscussionIcon,{})}),a[0]=t):t=a[0],a[1]!==s||a[2]!==l?(n=(0,i.jsxs)(eO.l.Item,{onSelect:s,children:[t,l]}),a[1]=s,a[2]=l,a[3]=n):n=a[3],n}:function({onSelect:e,text:t}){return(0,i.jsxs)(eO.l.Item,{onSelect:e,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.CommentDiscussionIcon,{})}),t]})},ae=(0,a.GV)()?function(e){let t,n,a,s=(0,r.c)(4),{handleCopyCode:l}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.CopyIcon,{})}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+c"})}),s[1]=n):n=s[1],s[2]!==l?(a=(0,i.jsxs)(eO.l.Item,{onSelect:l,onMouseDown:at,children:[t,"Copy",n]}),s[2]=l,s[3]=a):a=s[3],a}:function({handleCopyCode:e}){return(0,i.jsxs)(eO.l.Item,{onSelect:e,onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.CopyIcon,{})}),"Copy",(0,i.jsx)(eO.l.TrailingVisual,{children:(0,i.jsx)(iO.U,{keys:"Mod+c"})})]})};function at(e){window.getSelection()?.toString()!==""&&e.preventDefault()}let an=(0,a.GV)()?function(e){let t,n,a,s,l,o=(0,r.c)(17),{currentHunk:d,diffAnchor:c,nextHunk:u,previousHunk:m}=e,f=z();o[0]!==d||o[1]!==u||o[2]!==m?(t={currentHunk:d,nextHunk:u,previousHunk:m},o[0]=d,o[1]=u,o[2]=m,o[3]=t):t=o[3];let{canExpandStartOfHunk:h,canExpandEndOfHunk:p}=iT(t);return h||p||m||u?(o[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(eO.l.Divider,{}),o[4]=n):n=o[4],o[5]!==d||o[6]!==f||o[7]!==u||o[8]!==m?(a=f.has(iY.YR.expandLines)?null:(0,i.jsx)(ai,{currentHunk:d,nextHunk:u,previousHunk:m}),o[5]=d,o[6]=f,o[7]=u,o[8]=m,o[9]=a):a=o[9],o[10]!==c||o[11]!==u||o[12]!==m?(s=(0,i.jsx)(aa,{diffAnchor:c,nextHunk:u,previousHunk:m}),o[10]=c,o[11]=u,o[12]=m,o[13]=s):s=o[13],o[14]!==a||o[15]!==s?(l=(0,i.jsxs)(i.Fragment,{children:[n,a,s]}),o[14]=a,o[15]=s,o[16]=l):l=o[16],l):null}:function({currentHunk:e,diffAnchor:t,nextHunk:n,previousHunk:a}){let r=z(),{canExpandStartOfHunk:s,canExpandEndOfHunk:l}=iT({currentHunk:e,nextHunk:n,previousHunk:a});return s||l||a||n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eO.l.Divider,{}),r.has(iY.YR.expandLines)?null:(0,i.jsx)(ai,{currentHunk:e,nextHunk:n,previousHunk:a}),(0,i.jsx)(aa,{diffAnchor:t,nextHunk:n,previousHunk:a})]}):null},ai=(0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(13),{currentHunk:o,nextHunk:d,previousHunk:u}=e;l[0]!==o||l[1]!==d||l[2]!==u?(t={currentHunk:o,nextHunk:d,previousHunk:u},l[0]=o,l[1]=d,l[2]=u,l[3]=t):t=l[3];let{canExpandStartOfHunk:m,expandEndOfHunk:f,expandStartOfHunk:h,canExpandEndOfHunk:p}=iT(t);return l[4]!==m||l[5]!==h?(n=m&&(0,i.jsxs)(eO.l.Item,{onSelect:h,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.FoldUpIcon,{})}),"Expand above"]}),l[4]=m,l[5]=h,l[6]=n):n=l[6],l[7]!==p||l[8]!==f?(a=p&&(0,i.jsxs)(eO.l.Item,{onSelect:f,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.FoldDownIcon,{})}),"Expand below"]}),l[7]=p,l[8]=f,l[9]=a):a=l[9],l[10]!==n||l[11]!==a?(s=(0,i.jsxs)(i.Fragment,{children:[n,a]}),l[10]=n,l[11]=a,l[12]=s):s=l[12],s}:function({currentHunk:e,nextHunk:t,previousHunk:n}){let{canExpandStartOfHunk:a,expandEndOfHunk:r,expandStartOfHunk:s,canExpandEndOfHunk:l}=iT({currentHunk:e,nextHunk:t,previousHunk:n});return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsxs)(eO.l.Item,{onSelect:s,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.FoldUpIcon,{})}),"Expand above"]}),l&&(0,i.jsxs)(eO.l.Item,{onSelect:r,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.FoldDownIcon,{})}),"Expand below"]})]})},aa=(0,a.GV)()?function(e){let t,n,a,s,l,o=(0,r.c)(13),{diffAnchor:d,nextHunk:u,previousHunk:m}=e,f=!!m,h=!!u;o[0]!==d?(t=()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${d}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},o[0]=d,o[1]=t):t=o[1];let p=t;o[2]!==d?(n=()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${d}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},o[2]=d,o[3]=n):n=o[3];let g=n;return o[4]!==p||o[5]!==h?(a=h?(0,i.jsxs)(eO.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:p,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(eO.l.TrailingVisual,{children:"Page Down"})]}):null,o[4]=p,o[5]=h,o[6]=a):a=o[6],o[7]!==g||o[8]!==f?(s=f?(0,i.jsxs)(eO.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:g,children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(eO.l.TrailingVisual,{children:"Page Up"})]}):null,o[7]=g,o[8]=f,o[9]=s):s=o[9],o[10]!==a||o[11]!==s?(l=(0,i.jsxs)(i.Fragment,{children:[a,s]}),o[10]=a,o[11]=s,o[12]=l):l=o[12],l}:function({diffAnchor:e,nextHunk:t,previousHunk:n}){return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(eO.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(eO.l.TrailingVisual,{children:"Page Down"})]}):null,n?(0,i.jsxs)(eO.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(eO.l.LeadingVisual,{children:(0,i.jsx)(c.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(eO.l.TrailingVisual,{children:"Page Up"})]}):null]})};try{i0.displayName||(i0.displayName="CellContextMenu")}catch{}try{i1.displayName||(i1.displayName="CopyAnchorLink")}catch{}try{i4.displayName||(i4.displayName="SelectAllListItem")}catch{}try{i5.displayName||(i5.displayName="MarkerListItems")}catch{}try{i6.displayName||(i6.displayName="ViewMarkerListItems")}catch{}try{i7.displayName||(i7.displayName="SplitDiffMarkersListItems")}catch{}try{i8.displayName||(i8.displayName="UnifiedDiffMarkerListItem")}catch{}try{i9.displayName||(i9.displayName="MarkerListItem")}catch{}try{ae.displayName||(ae.displayName="CopyContentListItems")}catch{}try{an.displayName||(an.displayName="HunkListItems")}catch{}try{ai.displayName||(ai.displayName="ExpandHunksListItems")}catch{}try{aa.displayName||(aa.displayName="JumpToHunkListItems")}catch{}var ar=n(17998);let as="InProgressCommentIndicator-module__statusAvatarBackground--xzHl8",al="InProgressCommentIndicator-module__statusAvatar--BNNHX",ao=(0,a.GV)()?function(e){let t,n=(0,r.c)(4),{authorAvatarUrl:a,authorLogin:s,lineSpacingPreference:l}=e,o="compact"===l?18:20,d=`${s}'s avatar image with pending indicator`;return n[0]!==a||n[1]!==o||n[2]!==d?(t=(0,i.jsx)(ar.k,{altText:d,icon:c.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:o,src:a,backgroundClassName:as,className:al}),n[0]=a,n[1]=o,n[2]=d,n[3]=t):t=n[3],t}:function({authorAvatarUrl:e,authorLogin:t,lineSpacingPreference:n}){return(0,i.jsx)(ar.k,{altText:`${t}'s avatar image with pending indicator`,icon:c.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===n?18:20,src:e,backgroundClassName:as,className:al})};try{ao.displayName||(ao.displayName="InProgressCommentIndicator")}catch{}let ad="ActionBar-module__action-bar-position--cMcOj",ac="ActionBar-module__addCommentButton--gIYSg",au="ActionBar-module__addCommentButtonDraftCompact--HKIKU",am="ActionBar-module__addCommentButtonDraftRelaxed--_qJPM",af="ActionBar-module__addCommentButtonNew--j1kFj",ah="ActionBar-module__actionBarArrowSizing--L93H4",ap="ActionBar-module__actionBarHeight--wiyuB",ag="ActionBar-module__actionBarStartCommentWidth--TTHf8",ax="ActionBar-module__action-bar-button-group--G1uFN";var ab=n(85933),av=n(82518);let ay=(0,l.forwardRef)(function({annotations:e,authorAvatarUrl:t,authorLogin:n,cellId:a,cellRef:r,copilotChatReference:s,currentHunk:o,diffAnchor:d,diffLine:u,enterDialogMode:m,hasDraftComment:f,handleCopyCode:h,isLeftSide:p,isSplit:g,nextHunk:x,onMouseDownAddCommentButton:v,onMouseLeaveAddCommentButton:y,previousHunk:j,shouldDisplayCollapseComments:C,shouldDisplayMinimizedComments:w,showStartConversation:N,threads:S,toggleViewingMarkers:L,viewerData:D},_){let I=(0,l.useRef)(null),R=(0,l.useRef)(null),{lineSpacingPreference:k,commentsPreference:A}=D,E=(0,l.useRef)(null),{sendAnalyticsEvent:T}=(0,tz.s)(),O=I.current?I:R;(0,iD.T)(_,O);let P=S.reduce((e,t)=>e+(t.commentsData?.comments.length??0),0),F=e.length,{isActionBarFocused:$,handleActionBarBlur:M,handleActionBarFocusCapture:B,handleActionBarKeydownCapture:V}=iL({cellRef:r}),{isContextMenuOpen:U,anyMenuOpen:G,toggleContextMenu:H,toggleContextMenuFromActionBar:q}=iN({cellId:a,actionBarRef:E}),{startNewConversation:z,startNewConversationWithSuggestedChange:K}=iS({cellId:a,onOpenDialog:m}),W=(0,l.useCallback)(e=>{(0,ab.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{T("diff-lines.inp_interaction","CELL_ADD_COMMENT_BUTTON",{latency:e.latency}),(0,av.au)({name:"PRS_COMMENT_BOX_INP",value:e.latency})}}),e.stopPropagation(),z()},[z,T]),Z=P+F>0&&A===ip.sI.Collapsed,Q={onBlur:M,onFocusCapture:B,onKeyDownCapture:V},X=(0,l.useCallback)(t=>{(1===S.length||1===e.length)&&t.preventDefault(),L?.()},[e.length,S.length,L]);return(0,i.jsxs)(i.Fragment,{children:[N&&(0,i.jsx)("div",{"aria-hidden":!$,className:(0,b.$)("d-flex","flex-row",ac),children:(0,i.jsx)(i.Fragment,{children:f?(0,i.jsx)(e_.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,b.$)("py-0","compact"===k?au:am,ap),onClick:z,...Q,children:(0,i.jsx)(ao,{lineSpacingPreference:k,authorAvatarUrl:t,authorLogin:n})}):(0,i.jsx)(e_.Q,{icon:c.PlusIcon,"aria-label":"Add comment",ref:R,size:"small","data-add-comment-button":!0,className:(0,b.$)("fgColor-muted","bgColor-accent-emphasis","borderColor-accent-emphasis","fgColor-onEmphasis","px-0",af,ap,ag),onClick:W,onMouseDown:v,onMouseLeave:y,...Q})})}),(0,i.jsx)("div",{"aria-hidden":!$,className:(0,b.$)("d-flex","flex-row",ad),children:(0,i.jsxs)(i_.A,{className:ax,...Q,children:[Z&&w&&(0,i.jsx)(e_.Q,{ref:I,"aria-expanded":G,"aria-label":"View comments",size:"small",className:(0,b.$)("py-0","px-1",ap),onClick:X,children:(0,i.jsx)(iA,{threads:S,annotations:e,lineSpacingPreference:k})}),(0,i.jsxs)(eT.W,{anchorRef:E,open:U,onOpenChange:H,children:[(0,i.jsx)(eT.W.Anchor,{children:(0,i.jsx)(e_.Q,{ref:E,"aria-haspopup":"true","aria-label":"More actions",icon:c.TriangleDownIcon,size:"small",className:(0,b.$)("fgColor-muted",ah),onClick:q})}),(0,i.jsx)(eT.W.Overlay,{width:"medium",children:(0,i.jsx)(eO.l,{children:(0,i.jsx)(i0,{threads:S,annotations:e,currentHunk:o,diffAnchor:d,diffLine:u,shouldDisplayCollapseComments:C,copilotChatReference:s,showStartConversation:N,handleCopyCode:h,handleViewMarkersSelection:L,isLeftSide:p,isSplit:g,nextHunk:x,previousHunk:j,startConversationCurrentLine:z,startConversationWithSuggestedChange:K,viewerData:D})})})]})]})})]})});function aj(e,t){let n=t>0,i=e>0;switch(!0){case n&&i:return"Code has comments and alerts. Press enter to view.";case i:return"Code has comments. Press enter to view.";case n:return"Code has alerts. Press enter to view.";default:return""}}ay.displayName="ActionBar";let aC=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(5),{threadCount:s,annotationCount:l}=e;a[0]!==l||a[1]!==s?(t=aj(s,l),a[0]=l,a[1]=s,a[2]=t):t=a[2];let o=t;return o?(a[3]!==o?(n=(0,i.jsx)("span",{className:"sr-only user-select-none",children:o}),a[3]=o,a[4]=n):n=a[4],n):null}:function({threadCount:e,annotationCount:t}){let n=aj(e,t);return n?(0,i.jsx)("span",{className:"sr-only user-select-none",children:n}):null};try{aC.displayName||(aC.displayName="DiffLineScreenReaderSummary")}catch{}let aw="ContentCell-module__comment-indicator--Avv5C",aN="ContentCell-module__in-progress-comment-indicator--Onob7",aS=(0,l.forwardRef)((0,a.GV)()?function(e,t){let n,a,s,o,d,c,u,m,f,h,p,g,x,b,v,y,j,C,w,N,S,L,D,_,I,R,k,A,T=(0,r.c)(63);if(T[0]!==e){let{cellId:t,children:i,className:r,columnIndex:l,diffLine:N,diffAnchor:S,handleDiffCellMouseDown:L,handleExitDialogMode:D,handleHideMarkersFromFocus:_,handleDiffSideCellSelectionBlocking:I,handleStartConversation:R,handleUserClosedMarkersDialog:k,isLeftSide:A,isRowSelected:E,isSplit:O,lineAnchor:P,commentDialogOpen:F,enterDialogMode:$,hasThreads:M,role:B,...V}=e;n=t,a=i,s=r,o=l,c=N,d=S,m=L,h=D,f=I,p=R,g=k,b=A,w=E,v=O,y=P,u=$,x=M,C=B,j=V,T[0]=e,T[1]=n,T[2]=a,T[3]=s,T[4]=o,T[5]=d,T[6]=c,T[7]=u,T[8]=m,T[9]=f,T[10]=h,T[11]=p,T[12]=g,T[13]=x,T[14]=b,T[15]=v,T[16]=y,T[17]=j,T[18]=C,T[19]=w}else n=T[1],a=T[2],s=T[3],o=T[4],d=T[5],c=T[6],u=T[7],m=T[8],f=T[9],h=T[10],p=T[11],g=T[12],x=T[13],b=T[14],v=T[15],y=T[16],j=T[17],C=T[18],w=T[19];let O=void 0!==w&&w,P=c,F=(0,l.useRef)(null),$=H(),{sendAnalyticsEvent:M}=(0,tz.s)();T[20]===Symbol.for("react.memo_cache_sentinel")?(N=()=>F.current,S=[],T[20]=N,T[21]=S):(N=T[20],S=T[21]),(0,l.useImperativeHandle)(t,N,S);let{disableDialogMode:B}=W();T[22]!==d||T[23]!==$||T[24]!==P?(L=()=>{let e=$(),t=(0,E.j2)({line:P,range:e,fileAnchor:d});t&&(0,ig.D)(t)},T[22]=d,T[23]=$,T[24]=P,T[25]=L):L=T[25];let q=L,z=G(),{clearFirstLineSelectionOnDrag:K}=Y();T[26]!==K||T[27]!==z||T[28]!==p||T[29]!==M?(D=e=>{(0,ab.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{M("diff-lines.inp_interaction","CELL_MULTI_SELECT",{latency:e.latency})}});let t=z();t?.shouldStartConversation&&p?.(),K()},T[26]=K,T[27]=z,T[28]=p,T[29]=M,T[30]=D):D=T[30];let Z=D;T[31]!==m||T[32]!==f?(_=e=>{e.shiftKey&&e.preventDefault(),m?.(e),f?.(e)},T[31]=m,T[32]=f,T[33]=_):_=T[33];let Q=_;T[34]!==B||T[35]!==h||T[36]!==g?(I=()=>{F.current?.focus(),B(),h?.(),g?.()},T[34]=B,T[35]=h,T[36]=g,T[37]=I):I=T[37];let X=I,J=V(),ee=U();T[38]!==q||T[39]!==c||T[40]!==u||T[41]!==X||T[42]!==ee||T[43]!==J||T[44]!==$||T[45]!==p||T[46]!==x||T[47]!==b||T[48]!==v?(R=async e=>{if(e.target===F.current&&(e?.metaKey||e?.ctrlKey)&&"c"===e.key){e.preventDefault();let t=ee();await ix({diffLine:c,diffLines:t,getSelectedDiffLines:J,getSelectedLineRange:$,isSplit:v,isLeftSide:b});return}if(e.target===F.current&&(e?.metaKey||e?.ctrlKey)&&e.altKey&&"y"===e.key)return void q();if(F.current?.contains(e.target)&&e?.key==="Escape")return void X();if(F.current?.contains(e.target)&&"true"===e.target.getAttribute("data-exit-dialog-mode-button")&&!e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),F.current?.querySelector('[data-is-first-collapse-button="true"]')?.focus();return}if(F.current?.contains(e.target)&&"true"===e.target.getAttribute("data-is-first-collapse-button")&&e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),F.current?.querySelector('[data-exit-dialog-mode-button="true"]')?.focus();return}e.target===F.current&&"Enter"===e.key&&(u?.(),!1===x&&p?.(),e.preventDefault())},T[38]=q,T[39]=c,T[40]=u,T[41]=X,T[42]=ee,T[43]=J,T[44]=$,T[45]=p,T[46]=x,T[47]=b,T[48]=v,T[49]=R):R=T[49];let et=R,en=`Cell-left:${P.left}-right:${P.right}-leftSide:${b}`,ei=!!O,ea=C??"gridcell";T[50]===Symbol.for("react.memo_cache_sentinel")?(k={userSelect:"none",position:"relative"},T[50]=k):k=T[50];let er=s?`focusable-grid-cell ${s} ${o<3?"left-side":""}`:"focusable-grid-cell";return T[51]!==n||T[52]!==a||T[53]!==Q||T[54]!==Z||T[55]!==et||T[56]!==en||T[57]!==y||T[58]!==j||T[59]!==ea||T[60]!==er||T[61]!==ei?(A=(0,i.jsx)("td",{ref:F,"data-grid-cell-id":n,"data-line-anchor":y,"data-selected":ei,role:ea,style:k,tabIndex:-1,valign:"top",className:er,onKeyDown:et,onMouseDown:Q,onMouseUp:Z,...j,children:a},en),T[51]=n,T[52]=a,T[53]=Q,T[54]=Z,T[55]=et,T[56]=en,T[57]=y,T[58]=j,T[59]=ea,T[60]=er,T[61]=ei,T[62]=A):A=T[62],A}:function({cellId:e,children:t,className:n,columnIndex:a,diffLine:r,diffAnchor:s,handleDiffCellMouseDown:o,handleExitDialogMode:d,handleHideMarkersFromFocus:c,handleDiffSideCellSelectionBlocking:u,handleStartConversation:m,handleUserClosedMarkersDialog:f,isLeftSide:h,isRowSelected:p=!1,isSplit:g,lineAnchor:x,commentDialogOpen:b,enterDialogMode:v,hasThreads:y,role:j,...C},w){let N=(0,l.useRef)(null),S=H(),{sendAnalyticsEvent:L}=(0,tz.s)();(0,l.useImperativeHandle)(w,()=>N.current,[]);let{disableDialogMode:D}=W(),_=(0,l.useCallback)(()=>{let e=S(),t=(0,E.j2)({line:r,range:e,fileAnchor:s});t&&(0,ig.D)(t)},[s,S,r]),I=G(),{clearFirstLineSelectionOnDrag:R}=Y(),k=(0,l.useCallback)(e=>{(0,ab.X)()?.registerCallback({event:e.nativeEvent,cb:e=>{L("diff-lines.inp_interaction","CELL_MULTI_SELECT",{latency:e.latency})}});let t=I();t?.shouldStartConversation&&m?.(),R()},[R,I,m,L]),A=(0,l.useCallback)(e=>{e.shiftKey&&e.preventDefault(),o?.(e),u?.(e)},[o,u]),T=(0,l.useCallback)(()=>{N.current?.focus(),D(),d?.(),f?.()},[D,d,f]),O=V(),P=U(),F=(0,l.useCallback)(async e=>{if(e.target===N.current&&(e?.metaKey||e?.ctrlKey)&&"c"===e.key){e.preventDefault();let t=P();await ix({diffLine:r,diffLines:t,getSelectedDiffLines:O,getSelectedLineRange:S,isSplit:g,isLeftSide:h});return}if(e.target===N.current&&(e?.metaKey||e?.ctrlKey)&&e.altKey&&"y"===e.key)return void _();if(N.current?.contains(e.target)&&e?.key==="Escape")return void T();if(N.current?.contains(e.target)&&"true"===e.target.getAttribute("data-exit-dialog-mode-button")&&!e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),N.current?.querySelector('[data-is-first-collapse-button="true"]')?.focus();return}if(N.current?.contains(e.target)&&"true"===e.target.getAttribute("data-is-first-collapse-button")&&e?.shiftKey&&e?.key==="Tab"){e.preventDefault(),N.current?.querySelector('[data-exit-dialog-mode-button="true"]')?.focus();return}e.target===N.current&&"Enter"===e.key&&(v?.(),!1===y&&m?.(),e.preventDefault())},[P,r,O,S,g,h,_,T,v,y,m]),$=`Cell-left:${r.left}-right:${r.right}-leftSide:${h}`;return(0,i.jsx)("td",{ref:N,"data-grid-cell-id":e,"data-line-anchor":x,"data-selected":!!p,role:j??"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:n?`focusable-grid-cell ${n} ${a<3?"left-side":""}`:"focusable-grid-cell",onKeyDown:F,onMouseDown:A,onMouseUp:k,...C,children:t},$)});try{aS.displayName||(aS.displayName="Cell")}catch{}let aL=new Set,aD=!1,a_=e=>{let t=e.target instanceof Node?e.target:null;for(let e of aL){let{element:n,shouldIgnore:i,onPointerExit:a}=e;if(!n.isConnected){aL.delete(e);continue}if(t&&n.contains(t)){e.pendingExit=!1;continue}e.pendingExit=!0,i?.()||(e.pendingExit=!1,a())}0===aL.size&&aI()},aI=()=>{aD&&g.XC&&!(aL.size>0)&&(g.XC.removeEventListener("pointermove",a_),aD=!1)};function aR(e){let{element:t}=e;if(!t)return()=>{};let n={...e,pendingExit:!1};return aL.add(n),!aD&&g.XC&&(g.XC.addEventListener("pointermove",a_),aD=!0),()=>{aL.delete(n),aI()}}let ak=(0,l.forwardRef)((0,a.GV)()?function(e,t){let n,a,s,o,d,u,m,f,h,p,x,y,j,C,w,N,S,L,D,I,R,k,A,P,F,$,M,B,q,z,Z,Q,X,J,ee,en,ea,er,es,el,eo,ed,ec,eu,em,ef,eh,ep,eg,ex,eb,ev,ey,ej=(0,r.c)(274),{annotationsAtPosition:ew,columnIndex:eN,commentsPreference:eS,copilotChatReference:eL,currentHunk:eD,diffAnchor:e_,diffLine:eI,dispatchMarkersStatus:eR,filePath:ek,handleDiffSideCellSelectionBlocking:eA,isLeftSide:eE,isRowSelected:eT,isSplit:eO,lineAnchor:eP,markersStatus:eF,nextHunk:e$,previousHunk:eM,rowId:eB,subjectId:eV,threadsAtPosition:eU,viewerData:eH}=e;ej[0]!==eI.html||ej[1]!==eI.type?(n=(0,E.x_)(eI.html,eI.type),ej[0]=eI.html,ej[1]=eI.type,ej[2]=n):n=ej[2];let[eq,ez]=n;ej[3]!==ez?(a=ez&&["+","-"].includes(ez),ej[3]=ez,ej[4]=a):a=ej[4];let eK=a,{isActionBarVisible:eW,hideActionBar:eQ,anyMenuOpen:eX}=iw(),eJ=(0,eG.u)("move_new_comments_ui"),eY=eE?"LEFT":"RIGHT";ej[5]!==ek||ej[6]!==eI.blobLineNumber||ej[7]!==eV||ej[8]!==eY?(s={diffSide:eY,filePath:ek,line:eI.blobLineNumber,subjectId:eV,fileLevelComment:!1},ej[5]=ek,ej[6]=eI.blobLineNumber,ej[7]=eV,ej[8]=eY,ej[9]=s):s=ej[9];let{hasPersistedComment:e0}=(0,v.L)(s);ej[10]!==eS||ej[11]!==eH?(o={...eH,commentsPreference:eS},ej[10]=eS,ej[11]=eH,ej[12]=o):o=ej[12];let e1=o;ej[13]!==eN||ej[14]!==eB?(d=(0,E.u6)(eB,eN),ej[13]=eN,ej[14]=eB,ej[15]=d):d=ej[15];let e2=d,e3=K(e2),{disableDialogMode:e4}=W(),e5=eE?"LEFT":"RIGHT",e6="RIGHT"===e5?eI.right:eI.left;ej[16]!==e6||ej[17]!==e5?(u=(0,E.oH)(e6,e5),ej[16]=e6,ej[17]=e5,ej[18]=u):u=ej[18];let e7=u,e8=eU.length,e9=ew.length,te=(0,l.useRef)(null),tt=(0,l.useRef)(null);(ej[19]===Symbol.for("react.memo_cache_sentinel")?(m=()=>tt.current,f=[],ej[19]=m,ej[20]=f):(m=ej[19],f=ej[20]),(0,l.useImperativeHandle)(t,m,f),ej[21]!==e9||ej[22]!==eS||ej[23]!==e8)?(h=0!==e8+e9,p=(0,E.S4)({hasThreads:h&&eS===ip.sI.Collapsed}),ej[21]=e9,ej[22]=eS,ej[23]=e8,ej[24]=h,ej[25]=p):(h=ej[24],p=ej[25]);let tn=p;ej[26]===Symbol.for("react.memo_cache_sentinel")?(x={cellRef:tt},ej[26]=x):x=ej[26];let{handleCellBlur:ti,handleCellFocus:ta,handleCellMouseEnter:tr,handleCellMouseLeave:ts}=iL(x);ej[27]!==eX||ej[28]!==eQ||ej[29]!==eW?(y=()=>{if(eW&&tt.current)return aR({element:tt.current,shouldIgnore:()=>{let e,t;return eX||(e=g.XC?.activeElement,!!(t=tt.current)&&!!e&&(t===e||t.contains(e)))},onPointerExit:eQ})},j=[eX,eQ,eW],ej[27]=eX,ej[28]=eQ,ej[29]=eW,ej[30]=y,ej[31]=j):(y=ej[30],j=ej[31]),(0,l.useEffect)(y,j);let tl=(0,l.useRef)(null),to=is(e2,tt,eR),td=U(),tc=V(),tu=ei(),tm=H(),tf=(0,eG.u)("cotd_ui");ej[32]!==e4||ej[33]!==eR?(C=e=>{(void 0===e||e)&&requestAnimationFrame(()=>tt.current?.focus()),e4(),eR("USER_MINIMIZED_MARKERS")},ej[32]=e4,ej[33]=eR,ej[34]=C):C=ej[34];let th=C;ej[35]!==th||ej[36]!==eS||ej[37]!==to||ej[38]!==eF.showMarkers?(w=()=>{eS===ip.sI.Collapsed&&eF.showMarkers?th():to()},ej[35]=th,ej[36]=eS,ej[37]=to,ej[38]=eF.showMarkers,ej[39]=w):w=ej[39];let tp=w;ej[40]!==e2?(N={cellId:e2,actionBarRef:te},ej[40]=e2,ej[41]=N):N=ej[41];let{closeMarkerListDialog:tg,isContextMenuOpen:tx}=iN(N);ej[42]!==e_||ej[43]!==to||ej[44]!==ek||ej[45]!==tm||ej[46]!==eQ||ej[47]!==eE||ej[48]!==eI.blobLineNumber||ej[49]!==eH.shouldDisplayComments?(S=()=>{to(),eH.shouldDisplayComments||eQ();let e=tm();e||(e={startLineNumber:eI.blobLineNumber,endLineNumber:eI.blobLineNumber,startOrientation:eE?"left":"right",endOrientation:eE?"left":"right",diffAnchor:e_});let t=new O.L(e,ek);g.cg?.dispatchEvent(t)},ej[42]=e_,ej[43]=to,ej[44]=ek,ej[45]=tm,ej[46]=eQ,ej[47]=eE,ej[48]=eI.blobLineNumber,ej[49]=eH.shouldDisplayComments,ej[50]=S):S=ej[50];let tb=S;ej[51]!==e2||ej[52]!==tb?(L={cellId:e2,onOpenDialog:tb},ej[51]=e2,ej[52]=tb,ej[53]=L):L=ej[53];let{isNewConversationDialogOpen:tv,shouldStartNewConversationWithSuggestedChange:ty,startNewConversation:tj,closeNewConversation:tC}=iS(L);e:{if(!eW){D=!1;break e}if(!eH.shouldDisplayComments)if(tf){let e;ej[54]!==eI?(e=(0,E.Po)(eI),ej[54]=eI,ej[55]=e):e=ej[55],D=!e;break e}else{let e;ej[56]!==tc||ej[57]!==eI?(e=(0,E.a1)(eI,(0,E.Mk)(tc())),ej[56]=tc,ej[57]=eI,ej[58]=e):e=ej[58],D=e;break e}if(tv||!eH.viewerCanComment){D=!1;break e}if(tf){let e;ej[59]!==eI?(e=(0,E.Po)(eI),ej[59]=eI,ej[60]=e):e=ej[60],D=!e}else{let e;ej[61]!==tc||ej[62]!==eI?(e=(0,E.a1)(eI,(0,E.Mk)(tc())),ej[61]=tc,ej[62]=eI,ej[63]=e):e=ej[63],D=e}}let tw=D,{baseOid:tN,headOid:tS}=(0,_.E4)(),{mutate:tL}=t5(),{effectiveRange:tD}=(0,_.L3)(),{newTreeEntry:t_,oldTreeEntry:tI}=et();ej[64]!==tf||ej[65]!==tL||ej[66]!==tD||ej[67]!==tS||ej[68]!==to||ej[69]!==ek||ej[70]!==tm||ej[71]!==eE||ej[72]!==eT||ej[73]!==eI||ej[74]!==t_||ej[75]!==tI||ej[76]!==tN?(I=e=>{let{onCompleted:t,onError:n,submitBatch:i,text:a}=e;if(!eI)return;let r=tm();if(tf){let e=new ReviewCommentFactory({filePath:ek,newTreeEntry:t_,oldTreeEntry:tI,effectiveDiffRange:tD,submitBatch:i,text:a});tL(r&&nd(eT,r)?e.multilineRequestData(r):e.lineRequestData(eI,eE),{onError:n,onSuccess:e=>{t?.(e.thread.id,e.comment?.databaseId),to()}})}else{let e,s,l=!!r&&r.startLineNumber!==r.endLineNumber,o=eI.blobLineNumber,d=eE&&!(0,E.Ji)(eI)?"left":"right";r&&l&&eT&&(d="left"===r.endOrientation?"left":"right",s="left"===r.startOrientation?"left":"right",o=r.endLineNumber,e=r.startLineNumber),tL({text:a,line:o,path:ek,side:d,startSide:s,submitBatch:i,startLine:e,comparisonEndOid:tS,comparisonStartOid:tN},{onError:n,onSuccess:e=>{t?.(e.thread.id,e.comment?.databaseId),to()}})}},ej[64]=tf,ej[65]=tL,ej[66]=tD,ej[67]=tS,ej[68]=to,ej[69]=ek,ej[70]=tm,ej[71]=eE,ej[72]=eT,ej[73]=eI,ej[74]=t_,ej[75]=tI,ej[76]=tN,ej[77]=I):I=ej[77];let tR=I;ej[78]!==eU.length?(R=()=>{eU.length<=1&&setTimeout(()=>tt.current?.focus())},ej[78]=eU.length,ej[79]=R):R=ej[79];let tk=R;ej[80]!==to||ej[81]!==tj?(k=()=>{to?.(),tj?.()},ej[80]=to,ej[81]=tj,ej[82]=k):k=ej[82];let tA=k;ej[83]!==tu||ej[84]!==tA||ej[85]!==eI||ej[86]!==e7||ej[87]!==eJ?(A=()=>{eJ&&tu(e7,tA,(0,T.bo)(eI))},P=[tu,tA,eI,e7,eJ],ej[83]=tu,ej[84]=tA,ej[85]=eI,ej[86]=e7,ej[87]=eJ,ej[88]=A,ej[89]=P):(A=ej[88],P=ej[89]),(0,l.useEffect)(A,P);let tE=(0,l.useRef)(!0);t:{if(!eH.shouldDisplayComments||!eS){F=!1;break t}if(h&&eS===ip.sI.Collapsed){F=!eF.userMinimized;break t}if(!tv&&!h){F=!1;break t}if(eS===ip.sI.Collapsed&&(tv||e3)||eS===ip.sI.Visible&&(h||tv||eF.showMarkers)){F=!0;break t}F=!1}let tT=F,tO=(0,E.dT)(eI),{addLineToSelection:tP,clearSelectedLines:tF,selectLine:t$}=Y(),tM=G();ej[90]!==eS||ej[91]!==tA||ej[92]!==e0?($=()=>{e0&&eS===ip.sI.Visible&&tA()},M=[e0,tA,eS],ej[90]=eS,ej[91]=tA,ej[92]=e0,ej[93]=$,ej[94]=M):($=ej[93],M=ej[94]),(0,l.useEffect)($,M),ej[95]!==tm||ej[96]!==eE||ej[97]!==eI.left||ej[98]!==eI.right?(B=()=>{let e=tm();return!!e&&("right"===e.endOrientation&&!eE&&e.endLineNumber===eI.right||!!e&&"left"===e.endOrientation&&!!eE&&e.endLineNumber===eI.left)},ej[95]=tm,ej[96]=eE,ej[97]=eI.left,ej[98]=eI.right,ej[99]=B):B=ej[99];let tV=B;ej[100]!==tF||ej[101]!==tV?(q=()=>{tV()||tF()},ej[100]=tF,ej[101]=tV,ej[102]=q):q=ej[102];let tU=q;ej[103]!==tP||ej[104]!==ts||ej[105]!==tV||ej[106]!==eE||ej[107]!==eT||ej[108]!==eI||ej[109]!==t$?(z=e=>{if(1!==e.buttons)return;ts();let t=eE?eI.left:eI.right,n=(0,T.bo)(eI);eT||!t||tV()?tP({lineKey:(0,T.bo)(eI),orientation:eE?"left":"right"},eC):t$({lineKey:n,firstLineSelectionOnDrag:{lineNumber:t,orientation:eE?"left":"right",lineKey:n,shouldStartConversation:!0}},eC)},ej[103]=tP,ej[104]=ts,ej[105]=tV,ej[106]=eE,ej[107]=eT,ej[108]=eI,ej[109]=t$,ej[110]=z):z=ej[110];let tG=z;ej[111]!==tP||ej[112]!==tM||ej[113]!==tr||ej[114]!==eE||ej[115]!==eI?(Z=e=>{let t=tM();1===e.buttons&&t&&tP({lineKey:(0,T.bo)(eI),orientation:eE?"left":"right"},eC),tr()},ej[111]=tP,ej[112]=tM,ej[113]=tr,ej[114]=eE,ej[115]=eI,ej[116]=Z):Z=ej[116];let tH=Z;ej[117]!==tm||ej[118]!==tM||ej[119]!==ts||ej[120]!==eQ||ej[121]!==tx||ej[122]!==eE||ej[123]!==eI.left||ej[124]!==eI.right||ej[125]!==eH.shouldDisplayComments?(Q=()=>{let e=tM();if(!e){eH.shouldDisplayComments||tx||eQ(),ts();return}let t=tm(),n=t?.startOrientation==="right"&&"right"===e.orientation&&!eE&&eI.right===e.lineNumber,i=t?.startOrientation==="left"&&"left"===e.orientation&&eE&&eI.left===e.lineNumber;n||i||ts()},ej[117]=tm,ej[118]=tM,ej[119]=ts,ej[120]=eQ,ej[121]=tx,ej[122]=eE,ej[123]=eI.left,ej[124]=eI.right,ej[125]=eH.shouldDisplayComments,ej[126]=Q):Q=ej[126];let tq=Q;ej[127]!==eR?(X=()=>{eR("USER_EXITED_MARKERS_DIALOG")},ej[127]=eR,ej[128]=X):X=ej[128];let tz=X;ej[129]!==eR?(J=()=>{eR("USER_MINIMIZED_MARKERS")},ej[129]=eR,ej[130]=J):J=ej[130];let tK=J;ej[131]!==th||ej[132]!==tC?(ee=e=>{th(void 0===e||e),tC()},ej[131]=th,ej[132]=tC,ej[133]=ee):ee=ej[133];let tW=ee;ej[134]!==eI||ej[135]!==td||ej[136]!==tc||ej[137]!==tm||ej[138]!==eE||ej[139]!==eO?(en=async()=>{let e=td();await ix({diffLine:eI,diffLines:e,getSelectedDiffLines:tc,getSelectedLineRange:tm,isSplit:eO,isLeftSide:eE})},ej[134]=eI,ej[135]=td,ej[136]=tc,ej[137]=tm,ej[138]=eE,ej[139]=eO,ej[140]=en):en=ej[140];let tZ=en,tQ=`ContentCell-left:${eI.left}-right:${eI.right}-leftSide:${eE}`,tX=`inline-dialog-heading-${(0,l.useId)()}`;n:{let e;if(!eT){ea=eI.blobLineNumber;break n}ej[141]!==tm?(e=tm(),ej[141]=tm,ej[142]=e):e=ej[142];let t=e;ea=t?.endLineNumber??eI.blobLineNumber}let tJ=ea;i:{let e;if(!eT){er=void 0;break i}ej[143]!==tm?(e=tm(),ej[143]=tm,ej[144]=e):e=ej[144];let t=e;er=t?.startLineNumber}let tY=er,t0=`diff-text-cell ${eE?"left-side-diff-cell":"right-side-diff-cell"} ${tO?"pt-4":""}`,t1=eE&&"HUNK"!==eI.type;ej[145]!==t0||ej[146]!==t1?(es=(0,b.$)(t0,{"border-right":t1}),ej[145]=t0,ej[146]=t1,ej[147]=es):es=ej[147],ej[148]!==eT||ej[149]!==eI.type?(el=(0,E.Yf)(eI.type,!1,eT),ej[148]=eT,ej[149]=eI.type,ej[150]=el):el=ej[150],ej[151]!==tn||ej[152]!==el?(eo={backgroundColor:el,paddingRight:tn},ej[151]=tn,ej[152]=el,ej[153]=eo):eo=ej[153];let t2=e3?tX:void 0,t3=e3?"dialog":"gridcell";ej[154]!==tX||ej[155]!==e3?(ed=e3&&(0,i.jsx)("h1",{id:tX,className:"sr-only",children:"Comment view"}),ej[154]=tX,ej[155]=e3,ej[156]=ed):ed=ej[156];let t4="ADDITION"===eI.type,t6="DELETION"===eI.type;ej[157]!==t4||ej[158]!==t6?(ec=(0,b.$)("diff-text syntax-highlighted-line",{addition:t4,deletion:t6}),ej[157]=t4,ej[158]=t6,ej[159]=ec):ec=ej[159],ej[160]!==ez||ej[161]!==eK?(eu=eK&&(0,i.jsx)("span",{className:"diff-text-marker",children:ez}),ej[160]=ez,ej[161]=eK,ej[162]=eu):eu=ej[162];let t7="HUNK"===eI.type;return ej[163]!==t7?(em=(0,b.$)("diff-text-inner",{"color-fg-muted":t7}),ej[163]=t7,ej[164]=em):em=ej[164],ej[165]!==eq||ej[166]!==em?(ef=(0,i.jsx)(eZ.$6,{html:eq,className:em}),ej[165]=eq,ej[166]=em,ej[167]=ef):ef=ej[167],ej[168]!==ec||ej[169]!==eu||ej[170]!==ef?(eh=(0,i.jsxs)("code",{className:ec,children:[eu,ef]}),ej[168]=ec,ej[169]=eu,ej[170]=ef,ej[171]=eh):eh=ej[171],ej[172]!==eI.displayNoNewLineWarning?(ep=eI.displayNoNewLineWarning&&(0,i.jsx)(c.NoEntryIcon,{size:16,className:"fgColor-danger"}),ej[172]=eI.displayNoNewLineWarning,ej[173]=ep):ep=ej[173],ej[174]!==ew||ej[175]!==e2||ej[176]!==eL||ej[177]!==eD||ej[178]!==e_||ej[179]!==eI||ej[180]!==tm||ej[181]!==tZ||ej[182]!==tU||ej[183]!==tG||ej[184]!==e0||ej[185]!==eW||ej[186]!==eE||ej[187]!==eO||ej[188]!==eI.isLastSelected||ej[189]!==eI.left||ej[190]!==eI.right||ej[191]!==eF.showMarkers||ej[192]!==e$||ej[193]!==tb||ej[194]!==eM||ej[195]!==tw||ej[196]!==eU||ej[197]!==tp||ej[198]!==eH.avatarUrl||ej[199]!==eH.login||ej[200]!==eH.shouldDisplayComments||ej[201]!==e1?(eg=(eW||eI.isLastSelected&&eE&&tm()?.endOrientation==="left"&&eI.left===tm()?.endLineNumber||!eE&&tm()?.endOrientation==="right"&&eI.right===tm()?.endLineNumber)&&(0,i.jsx)(ay,{authorAvatarUrl:eH.avatarUrl,authorLogin:eH.login,ref:te,cellId:e2,cellRef:tt,copilotChatReference:eL,currentHunk:eD,diffAnchor:e_,diffLine:eI,threads:eU,annotations:ew,enterDialogMode:tb,handleCopyCode:tZ,hasDraftComment:e0,isLeftSide:eE,isSplit:eO,nextHunk:e$,onMouseDownAddCommentButton:tU,onMouseLeaveAddCommentButton:tG,previousHunk:eM,showStartConversation:tw,shouldDisplayMinimizedComments:eH.shouldDisplayComments,shouldDisplayCollapseComments:eF.showMarkers,toggleViewingMarkers:tp,viewerData:e1}),ej[174]=ew,ej[175]=e2,ej[176]=eL,ej[177]=eD,ej[178]=e_,ej[179]=eI,ej[180]=tm,ej[181]=tZ,ej[182]=tU,ej[183]=tG,ej[184]=e0,ej[185]=eW,ej[186]=eE,ej[187]=eO,ej[188]=eI.isLastSelected,ej[189]=eI.left,ej[190]=eI.right,ej[191]=eF.showMarkers,ej[192]=e$,ej[193]=tb,ej[194]=eM,ej[195]=tw,ej[196]=eU,ej[197]=tp,ej[198]=eH.avatarUrl,ej[199]=eH.login,ej[200]=eH.shouldDisplayComments,ej[201]=e1,ej[202]=eg):eg=ej[202],ej[203]!==ew||ej[204]!==e2||ej[205]!==th||ej[206]!==tg||ej[207]!==tn||ej[208]!==eS||ej[209]!==e_||ej[210]!==eR||ej[211]!==ek||ej[212]!==tR||ej[213]!==tk||ej[214]!==e0||ej[215]!==e3||ej[216]!==eE||ej[217]!==tv||ej[218]!==eT||ej[219]!==eI||ej[220]!==e7||ej[221]!==tW||ej[222]!==ty||ej[223]!==tT||ej[224]!==tJ||ej[225]!==tY||ej[226]!==eU||ej[227]!==e1?(ex=tT?(0,i.jsx)(io,{gridCellId:e2,gutterSizeOffset:tn,inlineMarkersRef:tl,cellRef:tt,dispatchMarkersStatus:eR,lineMarkersKey:e7,annotations:ew,batchingEnabled:!0,conversationListThreads:eU,fileAnchor:e_,filePath:ek,onCloseFocusMode:th,isRowSelected:eT,lineType:eI.type,diffLine:eI,shouldStartNewConversationWithSuggestedChange:ty,onCloseConversationList:tg,onDeleteLineComment:tk,viewerData:e1,ghostUser:tB,children:tv&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default",(eU.length,"mt-2 mb-1")),children:(0,i.jsx)(nu,{diffLine:eI,diffAnchor:e_,batchingEnabled:!0,filePath:ek,focusOnMount:!(e0&&eS===ip.sI.Visible),isLeftSide:!!eE,isInDialogMode:e3,isOpen:tv,lineNumber:tJ,startLineNumber:tY,shouldStartNewConversationWithSuggestedChange:ty,viewerData:e1,onAddComment:tR,onCloseCommentDialog:tW})})}):null,ej[203]=ew,ej[204]=e2,ej[205]=th,ej[206]=tg,ej[207]=tn,ej[208]=eS,ej[209]=e_,ej[210]=eR,ej[211]=ek,ej[212]=tR,ej[213]=tk,ej[214]=e0,ej[215]=e3,ej[216]=eE,ej[217]=tv,ej[218]=eT,ej[219]=eI,ej[220]=e7,ej[221]=tW,ej[222]=ty,ej[223]=tT,ej[224]=tJ,ej[225]=tY,ej[226]=eU,ej[227]=e1,ej[228]=ex):ex=ej[228],ej[229]!==ew||ej[230]!==eS||ej[231]!==e0||ej[232]!==eW||ej[233]!==eU||ej[234]!==eH.avatarUrl||ej[235]!==eH.lineSpacingPreference||ej[236]!==eH.login||ej[237]!==eH.shouldDisplayComments?(eb=!eW&&eS===ip.sI.Collapsed&&eH.shouldDisplayComments&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===eH.lineSpacingPreference?"-8px":"-9px"},className:(0,b.$)("position-absolute top-0 d-flex user-select-none",aN),children:e0&&(0,i.jsx)(ao,{lineSpacingPreference:eH.lineSpacingPreference,authorAvatarUrl:eH.avatarUrl,authorLogin:eH.login})}),(0,i.jsx)("div",{"aria-hidden":"true",className:(0,b.$)("position-absolute top-0 d-flex user-select-none",aw),children:(0,i.jsx)(iA,{threads:eU,annotations:ew,shouldAnimateRef:tE,lineSpacingPreference:eH.lineSpacingPreference})})]}),ej[229]=ew,ej[230]=eS,ej[231]=e0,ej[232]=eW,ej[233]=eU,ej[234]=eH.avatarUrl,ej[235]=eH.lineSpacingPreference,ej[236]=eH.login,ej[237]=eH.shouldDisplayComments,ej[238]=eb):eb=ej[238],ej[239]!==e9||ej[240]!==e8?(ev=(0,i.jsx)(aC,{annotationCount:e9,threadCount:e8}),ej[239]=e9,ej[240]=e8,ej[241]=ev):ev=ej[241],ej[242]!==e2||ej[243]!==eN||ej[244]!==e_||ej[245]!==eI||ej[246]!==to||ej[247]!==ti||ej[248]!==ta||ej[249]!==eA||ej[250]!==tz||ej[251]!==tH||ej[252]!==tq||ej[253]!==tA||ej[254]!==tK||ej[255]!==h||ej[256]!==eE||ej[257]!==tv||ej[258]!==eT||ej[259]!==eO||ej[260]!==tQ||ej[261]!==eP||ej[262]!==es||ej[263]!==eo||ej[264]!==t2||ej[265]!==t3||ej[266]!==ed||ej[267]!==eh||ej[268]!==ep||ej[269]!==eg||ej[270]!==ex||ej[271]!==eb||ej[272]!==ev?(ey=(0,i.jsxs)(aS,{ref:tt,cellId:e2,columnIndex:eN,commentDialogOpen:tv,diffAnchor:e_,diffLine:eI,enterDialogMode:to,handleDiffSideCellSelectionBlocking:eA,handleExitDialogMode:tz,handleUserClosedMarkersDialog:tK,lineAnchor:eP,handleStartConversation:tA,hasThreads:h,isLeftSide:eE,isRowSelected:eT,isSplit:eO,className:es,style:eo,onBlur:ti,onFocus:ta,onMouseEnter:tH,onMouseLeave:tq,"aria-labelledby":t2,role:t3,children:[ed,eh,ep,eg,ex,eb,ev]},tQ),ej[242]=e2,ej[243]=eN,ej[244]=e_,ej[245]=eI,ej[246]=to,ej[247]=ti,ej[248]=ta,ej[249]=eA,ej[250]=tz,ej[251]=tH,ej[252]=tq,ej[253]=tA,ej[254]=tK,ej[255]=h,ej[256]=eE,ej[257]=tv,ej[258]=eT,ej[259]=eO,ej[260]=tQ,ej[261]=eP,ej[262]=es,ej[263]=eo,ej[264]=t2,ej[265]=t3,ej[266]=ed,ej[267]=eh,ej[268]=ep,ej[269]=eg,ej[270]=ex,ej[271]=eb,ej[272]=ev,ej[273]=ey):ey=ej[273],ey}:function({annotationsAtPosition:e,columnIndex:t,commentsPreference:n,copilotChatReference:a,currentHunk:r,diffAnchor:s,diffLine:o,dispatchMarkersStatus:d,filePath:u,handleDiffSideCellSelectionBlocking:m,isLeftSide:f,isRowSelected:h,isSplit:p,lineAnchor:x,markersStatus:y,nextHunk:j,previousHunk:C,rowId:w,subjectId:N,threadsAtPosition:S,viewerData:L},D){let[I,R]=(0,E.x_)(o.html,o.type),k=R&&["+","-"].includes(R),{isActionBarVisible:A,hideActionBar:P,anyMenuOpen:F}=iw(),$=(0,eG.u)("move_new_comments_ui"),{hasPersistedComment:M}=(0,v.L)({diffSide:f?"LEFT":"RIGHT",filePath:u,line:o.blobLineNumber,subjectId:N,fileLevelComment:!1}),B={...L,commentsPreference:n},q=(0,E.u6)(w,t),z=K(q),{disableDialogMode:Z}=W(),Q=f?"LEFT":"RIGHT",X="RIGHT"===Q?o.right:o.left,J=(0,E.oH)(X,Q),ee=S.length,en=e.length,ea=(0,l.useRef)(null),er=(0,l.useRef)(null);(0,l.useImperativeHandle)(D,()=>er.current,[]);let es=0!==ee+en,el=(0,E.S4)({hasThreads:es&&n===ip.sI.Collapsed}),{handleCellBlur:eo,handleCellFocus:ed,handleCellMouseEnter:ec,handleCellMouseLeave:eu}=iL({cellRef:er});(0,l.useEffect)(()=>{if(A&&er.current)return aR({element:er.current,shouldIgnore:()=>{let e,t;return F||(e=g.XC?.activeElement,!!(t=er.current)&&!!e&&(t===e||t.contains(e)))},onPointerExit:P})},[F,P,A]);let em=(0,l.useRef)(null),ef=is(q,er,d),eh=U(),ep=V(),eg=ei(),ex=H(),eb=(0,eG.u)("cotd_ui"),ev=(0,l.useCallback)((e=!0)=>{e&&requestAnimationFrame(()=>er.current?.focus()),Z(),d("USER_MINIMIZED_MARKERS")},[Z,d]),ey=(0,l.useCallback)(()=>{n===ip.sI.Collapsed&&y.showMarkers?ev():ef()},[ev,ef,y.showMarkers,n]),{closeMarkerListDialog:ej,isContextMenuOpen:ew}=iN({cellId:q,actionBarRef:ea}),eN=(0,l.useCallback)(()=>{ef(),L.shouldDisplayComments||P();let e=ex();e||(e={startLineNumber:o.blobLineNumber,endLineNumber:o.blobLineNumber,startOrientation:f?"left":"right",endOrientation:f?"left":"right",diffAnchor:s});let t=new O.L(e,u);g.cg?.dispatchEvent(t)},[ef,L.shouldDisplayComments,ex,u,P,o.blobLineNumber,f,s]),{isNewConversationDialogOpen:eS,shouldStartNewConversationWithSuggestedChange:eL,startNewConversation:eD,closeNewConversation:e_}=iS({cellId:q,onOpenDialog:eN}),eI=(0,l.useMemo)(()=>{if(!A)return!1;if(!L.shouldDisplayComments)if(eb)return!(0,E.Po)(o);else return(0,E.a1)(o,(0,E.Mk)(ep()));return!eS&&!!L.viewerCanComment&&(eb?!(0,E.Po)(o):(0,E.a1)(o,(0,E.Mk)(ep())))},[A,eS,L.shouldDisplayComments,L.viewerCanComment,eb,o,ep]),{baseOid:eR,headOid:ek}=(0,_.E4)(),{mutate:eA}=t5(),{effectiveRange:eE}=(0,_.L3)(),{newTreeEntry:eT,oldTreeEntry:eO}=et(),eP=(0,l.useCallback)(()=>{ef?.(),eD?.()},[ef,eD]);(0,l.useEffect)(()=>{$&&eg(J,eP,(0,T.bo)(o))},[eg,eP,o,J,$]);let eF=(0,l.useRef)(!0),e$=(0,l.useMemo)(()=>!!L.shouldDisplayComments&&!!n&&(es&&n===ip.sI.Collapsed?!y.userMinimized:(!!eS||!!es)&&(n===ip.sI.Collapsed&&(!!eS||!!z)||n===ip.sI.Visible&&(!!es||!!eS||!!y.showMarkers)||!1)),[es,z,eS,y.showMarkers,y.userMinimized,n,L.shouldDisplayComments]),eM=(0,l.useMemo)(()=>(0,E.dT)(o),[o]),{addLineToSelection:eB,clearSelectedLines:eV,selectLine:eU}=Y(),eH=G();(0,l.useEffect)(()=>{M&&n===ip.sI.Visible&&eP()},[M,eP,n]);let eq=(0,l.useCallback)(()=>{let e=ex();return!!e&&("right"===e.endOrientation&&!f&&e.endLineNumber===o.right||!!e&&"left"===e.endOrientation&&!!f&&e.endLineNumber===o.left)},[ex,f,o.left,o.right]),ez=(0,l.useCallback)(()=>{eq()||eV()},[eV,eq]),eK=(0,l.useCallback)(e=>{if(1!==e.buttons)return;eu();let t=f?o.left:o.right,n=(0,T.bo)(o);h||!t||eq()?eB({lineKey:(0,T.bo)(o),orientation:f?"left":"right"},eC):eU({lineKey:n,firstLineSelectionOnDrag:{lineNumber:t,orientation:f?"left":"right",lineKey:n,shouldStartConversation:!0}},eC)},[eB,eu,eq,f,h,o,eU]),eW=(0,l.useCallback)(e=>{let t=eH();1===e.buttons&&t&&eB({lineKey:(0,T.bo)(o),orientation:f?"left":"right"},eC),ec()},[eB,eH,ec,f,o]),eQ=(0,l.useCallback)(()=>{let e=eH();if(!e){L.shouldDisplayComments||ew||P(),eu();return}let t=ex(),n=t?.startOrientation==="right"&&"right"===e.orientation&&!f&&o.right===e.lineNumber,i=t?.startOrientation==="left"&&"left"===e.orientation&&f&&o.left===e.lineNumber;n||i||eu()},[eH,ex,f,o.right,o.left,L.shouldDisplayComments,ew,eu,P]),eX=(0,l.useCallback)(()=>{d("USER_EXITED_MARKERS_DIALOG")},[d]),eJ=(0,l.useCallback)(()=>{d("USER_MINIMIZED_MARKERS")},[d]),eY=(0,l.useCallback)((e=!0)=>{ev(e),e_()},[ev,e_]),e0=async()=>{let e=eh();await ix({diffLine:o,diffLines:e,getSelectedDiffLines:ep,getSelectedLineRange:ex,isSplit:p,isLeftSide:f})},e1=`ContentCell-left:${o.left}-right:${o.right}-leftSide:${f}`,e2=`inline-dialog-heading-${(0,l.useId)()}`,e3=(0,l.useMemo)(()=>{if(!h)return o.blobLineNumber;let e=ex();return e?.endLineNumber??o.blobLineNumber},[ex,h,o.blobLineNumber]),e4=(0,l.useMemo)(()=>{if(!h)return;let e=ex();return e?.startLineNumber},[ex,h]);return(0,i.jsxs)(aS,{ref:er,cellId:q,columnIndex:t,commentDialogOpen:eS,diffAnchor:s,diffLine:o,enterDialogMode:ef,handleDiffSideCellSelectionBlocking:m,handleExitDialogMode:eX,handleUserClosedMarkersDialog:eJ,lineAnchor:x,handleStartConversation:eP,hasThreads:es,isLeftSide:f,isRowSelected:h,isSplit:p,className:(0,b.$)(`diff-text-cell ${f?"left-side-diff-cell":"right-side-diff-cell"} ${eM?"pt-4":""}`,{"border-right":f&&"HUNK"!==o.type}),style:{backgroundColor:(0,E.Yf)(o.type,!1,h),paddingRight:el},onBlur:eo,onFocus:ed,onMouseEnter:eW,onMouseLeave:eQ,"aria-labelledby":z?e2:void 0,role:z?"dialog":"gridcell",children:[z&&(0,i.jsx)("h1",{id:e2,className:"sr-only",children:"Comment view"}),(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===o.type,deletion:"DELETION"===o.type}),children:[k&&(0,i.jsx)("span",{className:"diff-text-marker",children:R}),(0,i.jsx)(eZ.$6,{html:I,className:(0,b.$)("diff-text-inner",{"color-fg-muted":"HUNK"===o.type})})]}),o.displayNoNewLineWarning&&(0,i.jsx)(c.NoEntryIcon,{size:16,className:"fgColor-danger"}),(A||o.isLastSelected&&f&&ex()?.endOrientation==="left"&&o.left===ex()?.endLineNumber||!f&&ex()?.endOrientation==="right"&&o.right===ex()?.endLineNumber)&&(0,i.jsx)(ay,{authorAvatarUrl:L.avatarUrl,authorLogin:L.login,ref:ea,cellId:q,cellRef:er,copilotChatReference:a,currentHunk:r,diffAnchor:s,diffLine:o,threads:S,annotations:e,enterDialogMode:eN,handleCopyCode:e0,hasDraftComment:M,isLeftSide:f,isSplit:p,nextHunk:j,onMouseDownAddCommentButton:ez,onMouseLeaveAddCommentButton:eK,previousHunk:C,showStartConversation:eI,shouldDisplayMinimizedComments:L.shouldDisplayComments,shouldDisplayCollapseComments:y.showMarkers,toggleViewingMarkers:ey,viewerData:B}),e$?(0,i.jsx)(io,{gridCellId:q,gutterSizeOffset:el,inlineMarkersRef:em,cellRef:er,dispatchMarkersStatus:d,lineMarkersKey:J,annotations:e,batchingEnabled:!0,conversationListThreads:S,fileAnchor:s,filePath:u,onCloseFocusMode:ev,isRowSelected:h,lineType:o.type,diffLine:o,shouldStartNewConversationWithSuggestedChange:eL,onCloseConversationList:ej,onDeleteLineComment:()=>{S.length<=1&&setTimeout(()=>er.current?.focus())},viewerData:B,ghostUser:tB,children:eS&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default",(S.length,"mt-2 mb-1")),children:(0,i.jsx)(nu,{diffLine:o,diffAnchor:s,batchingEnabled:!0,filePath:u,focusOnMount:!(M&&n===ip.sI.Visible),isLeftSide:!!f,isInDialogMode:z,isOpen:eS,lineNumber:e3,startLineNumber:e4,shouldStartNewConversationWithSuggestedChange:eL,viewerData:B,onAddComment:({onCompleted:e,onError:t,submitBatch:n,text:i})=>{if(!o)return;let a=ex();if(eb){let r=new ReviewCommentFactory({filePath:u,newTreeEntry:eT,oldTreeEntry:eO,effectiveDiffRange:eE,submitBatch:n,text:i});eA(a&&nd(h,a)?r.multilineRequestData(a):r.lineRequestData(o,f),{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment?.databaseId),ef()}})}else{let r,s,l=!!a&&a.startLineNumber!==a.endLineNumber,d=o.blobLineNumber,c=f&&!(0,E.Ji)(o)?"left":"right";a&&l&&h&&(c="left"===a.endOrientation?"left":"right",s="left"===a.startOrientation?"left":"right",d=a.endLineNumber,r=a.startLineNumber),eA({text:i,line:d,path:u,side:c,startSide:s,submitBatch:n,startLine:r,comparisonEndOid:ek,comparisonStartOid:eR},{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment?.databaseId),ef()}})}},onCloseCommentDialog:eY})})}):null,!A&&n===ip.sI.Collapsed&&L.shouldDisplayComments&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===L.lineSpacingPreference?"-8px":"-9px"},className:(0,b.$)("position-absolute top-0 d-flex user-select-none",aN),children:M&&(0,i.jsx)(ao,{lineSpacingPreference:L.lineSpacingPreference,authorAvatarUrl:L.avatarUrl,authorLogin:L.login})}),(0,i.jsx)("div",{"aria-hidden":"true",className:(0,b.$)("position-absolute top-0 d-flex user-select-none",aw),children:(0,i.jsx)(iA,{threads:S,annotations:e,shouldAnimateRef:eF,lineSpacingPreference:L.lineSpacingPreference})})]}),(0,i.jsx)(aC,{annotationCount:en,threadCount:ee})]},e1)}),aA=(0,l.memo)(ak);try{ak.displayName||(ak.displayName="ContentCellUnmemoized")}catch{}try{aA.displayName||(aA.displayName="ContentCell")}catch{}let aE=["CONTEXT","INJECTED_CONTEXT"];function aT(e,t,n,i){return("CONTEXT"!==e.type||!t||!n)&&i>0}let aO=(0,l.memo)(aF),aP=(0,a.GV)();function aF(e){return aP?function(e){let t,n,a,s,o,d,c,u,m,f,h,p,g,x,v,y,j,C,w,N,S,L,D,_,I,R,k=(0,r.c)(70);if(k[0]!==e){let{children:i,columnIndex:r,diffAnchor:l,diffLine:b,handleDiffSideCellSelectionBlocking:y,isLeftSide:j,isRowSelected:C,isSplit:w,filePath:N,copilotChatReference:S,contentRef:L,contentColumnIndex:D,dispatchMarkersStatus:_,rowId:I,threadsAtPosition:R,annotationsAtPosition:A,...E}=e;n=i,a=r,d=l,c=b,m=y,f=j,h=C,p=w,o=L,s=D,u=_,x=I,v=R,t=A,g=E,k[0]=e,k[1]=t,k[2]=n,k[3]=a,k[4]=s,k[5]=o,k[6]=d,k[7]=c,k[8]=u,k[9]=m,k[10]=f,k[11]=h,k[12]=p,k[13]=g,k[14]=x,k[15]=v}else t=k[1],n=k[2],a=k[3],s=k[4],o=k[5],d=k[6],c=k[7],u=k[8],m=k[9],f=k[10],h=k[11],p=k[12],g=k[13],x=k[14],v=k[15];let A=(0,l.useRef)(null),O=c,P=G(),{addLineToSelection:F}=Y();k[16]!==F||k[17]!==P||k[18]!==f||k[19]!==O?(y=e=>{1!==e.buttons||P()&&F({lineKey:(0,T.bo)(O),orientation:f?"left":"right"},eC)},k[16]=F,k[17]=P,k[18]=f,k[19]=O,k[20]=y):y=k[20];let $=y,{selectLine:M}=Y(),B=H();k[21]!==F||k[22]!==B||k[23]!==f||k[24]!==O||k[25]!==M?(j=e=>{if(B()&&e.shiftKey)return void F({lineKey:(0,T.bo)(O),orientation:f?"left":"right"},eC);let t=f?O.left:O.right;t&&M({lineKey:(0,T.bo)(O),firstLineSelectionOnDrag:{orientation:f?"left":"right",lineNumber:t,shouldStartConversation:!1,lineKey:(0,T.bo)(O)}},eC)},k[21]=F,k[22]=B,k[23]=f,k[24]=O,k[25]=M,k[26]=j):j=k[26];let V=j,U=`LineNumberCell-left:${O.left}-right:${O.right}-leftSide:${f}`;k[27]!==s||k[28]!==x?(C=(0,E.u6)(x,s),k[27]=s,k[28]=x,k[29]=C):C=k[29];let q=C,z=is(q,o,u);k[30]!==q||k[31]!==z?(w={cellId:q,onOpenDialog:z},k[30]=q,k[31]=z,k[32]=w):w=k[32];let{startNewConversation:K}=iS(w);k[33]!==a||k[34]!==x?(N=(0,E.u6)(x,a),k[33]=a,k[34]=x,k[35]=N):N=k[35];let W=N;k[36]!==O.type?(S=(0,b.$)("diff-line-number position-relative",aE.includes(O.type)&&"diff-line-number-neutral"),k[36]=O.type,k[37]=S):S=k[37];let Z=!p&&0===a,Q=v.length+t.length;return k[38]!==f||k[39]!==p||k[40]!==O||k[41]!==Q?(L=aT(O,f,p,Q),k[38]=f,k[39]=p,k[40]=O,k[41]=Q,k[42]=L):L=k[42],k[43]!==h||k[44]!==O.type?(D=(0,E.Yf)(O.type,!0,h),k[43]=h,k[44]=O.type,k[45]=D):D=k[45],k[46]!==D?(_={backgroundColor:D,textAlign:"center"},k[46]=D,k[47]=_):_=k[47],k[48]!==n?(I=(0,i.jsx)("code",{children:n}),k[48]=n,k[49]=I):I=k[49],k[50]!==W||k[51]!==a||k[52]!==d||k[53]!==c||k[54]!==z||k[55]!==m||k[56]!==V||k[57]!==$||k[58]!==f||k[59]!==h||k[60]!==p||k[61]!==U||k[62]!==g||k[63]!==K||k[64]!==_||k[65]!==I||k[66]!==S||k[67]!==Z||k[68]!==L?(R=(0,i.jsx)(aS,{ref:A,cellId:W,className:S,columnIndex:a,diffAnchor:d,diffLine:c,"data-first-unified-line-number-cell":Z,enterDialogMode:z,handleDiffSideCellSelectionBlocking:m,hasThreads:L,style:_,handleDiffCellMouseDown:V,handleStartConversation:K,isLeftSide:f,isRowSelected:h,isSplit:p,onMouseEnter:$,...g,children:I},U),k[50]=W,k[51]=a,k[52]=d,k[53]=c,k[54]=z,k[55]=m,k[56]=V,k[57]=$,k[58]=f,k[59]=h,k[60]=p,k[61]=U,k[62]=g,k[63]=K,k[64]=_,k[65]=I,k[66]=S,k[67]=Z,k[68]=L,k[69]=R):R=k[69],R}(e):function({children:e,columnIndex:t,diffAnchor:n,diffLine:a,handleDiffSideCellSelectionBlocking:r,isLeftSide:s,isRowSelected:o,isSplit:d,filePath:c,copilotChatReference:u,contentRef:m,contentColumnIndex:f,dispatchMarkersStatus:h,rowId:p,threadsAtPosition:g,annotationsAtPosition:x,...v}){let y=(0,l.useRef)(null),j=G(),{addLineToSelection:C}=Y(),w=(0,l.useCallback)(e=>{1!==e.buttons||j()&&C({lineKey:(0,T.bo)(a),orientation:s?"left":"right"},eC)},[j,C,a,s]),{selectLine:N}=Y(),S=H(),L=`LineNumberCell-left:${a.left}-right:${a.right}-leftSide:${s}`,D=(0,E.u6)(p,f),_=is(D,m,h),{startNewConversation:I}=iS({cellId:D,onOpenDialog:_}),R=(0,E.u6)(p,t);return(0,i.jsx)(aS,{ref:y,cellId:R,className:(0,b.$)("diff-line-number position-relative",aE.includes(a.type)&&"diff-line-number-neutral"),columnIndex:t,diffAnchor:n,diffLine:a,"data-first-unified-line-number-cell":!d&&0===t,enterDialogMode:_,handleDiffSideCellSelectionBlocking:r,hasThreads:aT(a,s,d,g.length+x.length),style:{backgroundColor:(0,E.Yf)(a.type,!0,o),textAlign:"center"},handleDiffCellMouseDown:e=>{if(S()&&e.shiftKey)return void C({lineKey:(0,T.bo)(a),orientation:s?"left":"right"},eC);let t=s?a.left:a.right;t&&N({lineKey:(0,T.bo)(a),firstLineSelectionOnDrag:{orientation:s?"left":"right",lineNumber:t,shouldStartConversation:!1,lineKey:(0,T.bo)(a)}},eC)},handleStartConversation:I,isLeftSide:s,isRowSelected:o,isSplit:d,onMouseEnter:w,...v,children:(0,i.jsx)("code",{children:e})},L)}(e)}try{aO.displayName||(aO.displayName="LineNumberCell")}catch{}try{aF.displayName||(aF.displayName="LineNumberCellUnmemoized")}catch{}let a$=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(9),{columnIndex:s,diffAnchor:l,diffLine:o,isLeftSide:d,isSplit:c,showRightBorder:u}=e;return a[0]!==u?(t=(0,b.$)("empty-diff-line",{"border-right":u}),a[0]=u,a[1]=t):t=a[1],a[2]!==s||a[3]!==l||a[4]!==o||a[5]!==d||a[6]!==c||a[7]!==t?(n=(0,i.jsx)(aS,{className:t,columnIndex:s,diffAnchor:l,diffLine:o,isLeftSide:d,isSplit:c}),a[2]=s,a[3]=l,a[4]=o,a[5]=d,a[6]=c,a[7]=t,a[8]=n):n=a[8],n}:function({columnIndex:e,diffAnchor:t,diffLine:n,isLeftSide:a,isSplit:r,showRightBorder:s}){return(0,i.jsx)(aS,{className:(0,b.$)("empty-diff-line",{"border-right":s}),columnIndex:e,diffAnchor:t,diffLine:n,isLeftSide:a,isSplit:r})};try{a$.displayName||(a$.displayName="EmptyCell")}catch{}function aM(e,t){switch(t){case"SHOW_MARKERS":return{userMinimized:!1,showMarkers:!0};case"USER_EXPANDED_MARKERS":return{showMarkers:!0,userMinimized:!1};case"USER_MINIMIZED_MARKERS":return{userMinimized:!0,showMarkers:!1};case"USER_EXITED_MARKERS_DIALOG":return{...e,showMarkers:!1}}}let aB=(0,a.GV)()?function(e){let t,n,i,a,s=(0,r.c)(7),o=e===ip.sI.Collapsed;s[0]!==o?(t={userMinimized:o,showMarkers:!1},s[0]=o,s[1]=t):t=s[1];let[d,c]=(0,l.useReducer)(aM,t),u=(0,l.useRef)(e);return s[2]!==e?(n=()=>{u.current!==e&&(u.current=e,e===ip.sI.Visible?c("SHOW_MARKERS"):c("USER_MINIMIZED_MARKERS"))},i=[e,c],s[2]=e,s[3]=n,s[4]=i):(n=s[3],i=s[4]),(0,l.useEffect)(n,i),s[5]!==d?(a=[d,c],s[5]=d,s[6]=a):a=s[6],a}:function(e){let[t,n]=(0,l.useReducer)(aM,{userMinimized:e===ip.sI.Collapsed,showMarkers:!1}),i=(0,l.useRef)(e);return(0,l.useEffect)(()=>{i.current!==e&&(i.current=e,e===ip.sI.Visible?n("SHOW_MARKERS"):n("USER_MINIMIZED_MARKERS"))},[e,n]),[t,n]};var aV=n(87825);let aU=(0,a.GV)()?e=>{let t,n,a,s,o,d,c=(0,r.c)(67),{annotationsAtPosition:u,commentsPreference:m,copilotChatReference:f,currentHunk:h,diffAnchor:p,diffLine:g,filePath:x,lineAnchor:b,handleDiffSideCellSelectionBlocking:v,hasHiddenUnicodeCharacters:y,isLeftSide:j,isRowSelected:C,isSplit:w,nextHunk:N,previousHunk:S,rowId:L,subjectId:D,threadsAtPosition:_,viewerData:I}=e,R=(0,l.useRef)(null),k="ADDITION"!==g.type,A=!w||j,E="DELETION"!==g.type,T=!w||!j;c[0]!==v?(t=()=>{v&&v("left")},c[0]=v,c[1]=t):t=c[1];let O=t;c[2]!==v?(n=()=>{v&&v("right")},c[2]=v,c[3]=n):n=c[3];let P=n,F=w?j?1:3:2,[$,M]=aB(m??ip.sI.Visible);c[4]!==u||c[5]!==F||c[6]!==f||c[7]!==p||c[8]!==g||c[9]!==M||c[10]!==x||c[11]!==P||c[12]!==y||c[13]!==j||c[14]!==C||c[15]!==w||c[16]!==g.left||c[17]!==L||c[18]!==k||c[19]!==A||c[20]!==E||c[21]!==_?(a=A&&(0,i.jsxs)(aO,{threadsAtPosition:_,annotationsAtPosition:u,copilotChatReference:f,columnIndex:0,contentColumnIndex:F,contentRef:R,diffAnchor:p,diffLine:g,dispatchMarkersStatus:M,filePath:x,handleDiffSideCellSelectionBlocking:P,isLeftSide:j,isRowSelected:C,isSplit:w,rowId:L,children:[y&&!E&&(0,i.jsx)(aH,{children:(0,i.jsx)(aV.o,{})}),k&&g.left]}),c[4]=u,c[5]=F,c[6]=f,c[7]=p,c[8]=g,c[9]=M,c[10]=x,c[11]=P,c[12]=y,c[13]=j,c[14]=C,c[15]=w,c[16]=g.left,c[17]=L,c[18]=k,c[19]=A,c[20]=E,c[21]=_,c[22]=a):a=c[22],c[23]!==u||c[24]!==F||c[25]!==f||c[26]!==p||c[27]!==g||c[28]!==M||c[29]!==x||c[30]!==O||c[31]!==y||c[32]!==j||c[33]!==C||c[34]!==w||c[35]!==g.right||c[36]!==L||c[37]!==E||c[38]!==T||c[39]!==_?(s=T&&(0,i.jsxs)(aO,{annotationsAtPosition:u,copilotChatReference:f,columnIndex:w?2:1,contentColumnIndex:F,contentRef:R,diffAnchor:p,diffLine:g,dispatchMarkersStatus:M,filePath:x,handleDiffSideCellSelectionBlocking:O,isLeftSide:j,isRowSelected:C,isSplit:w,rowId:L,threadsAtPosition:_,children:[y&&E&&(0,i.jsx)(aH,{children:(0,i.jsx)(aV.o,{})}),E&&g.right]}),c[23]=u,c[24]=F,c[25]=f,c[26]=p,c[27]=g,c[28]=M,c[29]=x,c[30]=O,c[31]=y,c[32]=j,c[33]=C,c[34]=w,c[35]=g.right,c[36]=L,c[37]=E,c[38]=T,c[39]=_,c[40]=s):s=c[40];let B=j?P:O;return c[41]!==u||c[42]!==m||c[43]!==F||c[44]!==f||c[45]!==h||c[46]!==p||c[47]!==g||c[48]!==M||c[49]!==x||c[50]!==j||c[51]!==C||c[52]!==w||c[53]!==b||c[54]!==$||c[55]!==N||c[56]!==S||c[57]!==L||c[58]!==D||c[59]!==B||c[60]!==_||c[61]!==I?(o=(0,i.jsx)(aA,{annotationsAtPosition:u,commentsPreference:m,copilotChatReference:f,columnIndex:F,currentHunk:h,diffAnchor:p,diffLine:g,dispatchMarkersStatus:M,filePath:x,lineAnchor:b,handleDiffSideCellSelectionBlocking:B,isLeftSide:j,isRowSelected:C,isSplit:w,markersStatus:$,nextHunk:N,previousHunk:S,ref:R,rowId:L,subjectId:D,threadsAtPosition:_,viewerData:I}),c[41]=u,c[42]=m,c[43]=F,c[44]=f,c[45]=h,c[46]=p,c[47]=g,c[48]=M,c[49]=x,c[50]=j,c[51]=C,c[52]=w,c[53]=b,c[54]=$,c[55]=N,c[56]=S,c[57]=L,c[58]=D,c[59]=B,c[60]=_,c[61]=I,c[62]=o):o=c[62],c[63]!==a||c[64]!==s||c[65]!==o?(d=(0,i.jsxs)(iC,{children:[a,s,o]}),c[63]=a,c[64]=s,c[65]=o,c[66]=d):d=c[66],d}:({annotationsAtPosition:e,commentsPreference:t,copilotChatReference:n,currentHunk:a,diffAnchor:r,diffLine:s,filePath:o,lineAnchor:d,handleDiffSideCellSelectionBlocking:c,hasHiddenUnicodeCharacters:u,isLeftSide:m,isRowSelected:f,isSplit:h,nextHunk:p,previousHunk:g,rowId:x,subjectId:b,threadsAtPosition:v,viewerData:y})=>{let j=(0,l.useRef)(null),C="ADDITION"!==s.type,w=!h||m,N="DELETION"!==s.type,S=!h||!m,L=(0,l.useCallback)(()=>{c&&c("left")},[c]),D=(0,l.useCallback)(()=>{c&&c("right")},[c]),_=h?m?1:3:2,[I,R]=aB(t??ip.sI.Visible);return(0,i.jsxs)(iC,{children:[w&&(0,i.jsxs)(aO,{threadsAtPosition:v,annotationsAtPosition:e,copilotChatReference:n,columnIndex:0,contentColumnIndex:_,contentRef:j,diffAnchor:r,diffLine:s,dispatchMarkersStatus:R,filePath:o,handleDiffSideCellSelectionBlocking:D,isLeftSide:m,isRowSelected:f,isSplit:h,rowId:x,children:[u&&!N&&(0,i.jsx)(aH,{children:(0,i.jsx)(aV.o,{})}),C&&s.left]}),S&&(0,i.jsxs)(aO,{annotationsAtPosition:e,copilotChatReference:n,columnIndex:h?2:1,contentColumnIndex:_,contentRef:j,diffAnchor:r,diffLine:s,dispatchMarkersStatus:R,filePath:o,handleDiffSideCellSelectionBlocking:L,isLeftSide:m,isRowSelected:f,isSplit:h,rowId:x,threadsAtPosition:v,children:[u&&N&&(0,i.jsx)(aH,{children:(0,i.jsx)(aV.o,{})}),N&&s.right]}),(0,i.jsx)(aA,{annotationsAtPosition:e,commentsPreference:t,copilotChatReference:n,columnIndex:_,currentHunk:a,diffAnchor:r,diffLine:s,dispatchMarkersStatus:R,filePath:o,lineAnchor:d,handleDiffSideCellSelectionBlocking:m?D:L,isLeftSide:m,isRowSelected:f,isSplit:h,markersStatus:I,nextHunk:p,previousHunk:g,ref:j,rowId:x,subjectId:b,threadsAtPosition:v,viewerData:y})]})},aG=(0,a.GV)()?e=>{let t,n=(0,r.c)(41),{annotationsAtPosition:a,commentsPreference:s,copilotChatReference:l,currentHunk:o,diffLine:d,diffAnchor:c,filePath:u,handleDiffSideCellSelectionBlocking:m,hasHiddenUnicodeCharacters:f,isLeftSide:h,isRowSelected:p,isSplit:g,nextHunk:x,previousHunk:b,rowId:v,subjectId:y,threadsAtPosition:j,viewerData:C}=e;if((0,E.Po)(d)){let e,t,a,r=2*!h;n[0]!==c||n[1]!==d||n[2]!==h||n[3]!==g||n[4]!==r?(e=(0,i.jsx)(a$,{columnIndex:r,diffAnchor:c,diffLine:d,isLeftSide:h,isSplit:g}),n[0]=c,n[1]=d,n[2]=h,n[3]=g,n[4]=r,n[5]=e):e=n[5];let s=h?1:3;return n[6]!==c||n[7]!==d||n[8]!==h||n[9]!==g||n[10]!==s?(t=(0,i.jsx)(a$,{columnIndex:s,diffAnchor:c,diffLine:d,isLeftSide:h,isSplit:g}),n[6]=c,n[7]=d,n[8]=h,n[9]=g,n[10]=s,n[11]=t):t=n[11],n[12]!==e||n[13]!==t?(a=(0,i.jsxs)(i.Fragment,{children:[e,t]}),n[12]=e,n[13]=t,n[14]=a):a=n[14],a}if(n[15]!==c||n[16]!==d.left||n[17]!==d.right||n[18]!==d.type||n[19]!==h){let e=h?"left":(0,e2.XU)(d.type),i="left"===e?d.left:d.right;t=(0,e2.IQ)(c,e,i??0),n[15]=c,n[16]=d.left,n[17]=d.right,n[18]=d.type,n[19]=h,n[20]=t}else t=n[20];let w=t;switch(d.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":{let e;return n[21]!==a||n[22]!==s||n[23]!==l||n[24]!==o||n[25]!==c||n[26]!==d||n[27]!==u||n[28]!==m||n[29]!==f||n[30]!==h||n[31]!==p||n[32]!==g||n[33]!==w||n[34]!==x||n[35]!==b||n[36]!==v||n[37]!==y||n[38]!==j||n[39]!==C?(e=(0,i.jsx)(az,{annotationsAtPosition:a,commentsPreference:s,copilotChatReference:l,currentHunk:o,diffAnchor:c,diffLine:d,filePath:u,handleDiffSideCellSelectionBlocking:m,hasHiddenUnicodeCharacters:f,isLeftSide:h,isRowSelected:p,isSplit:g,lineAnchor:w,nextHunk:x,previousHunk:b,rowId:v,subjectId:y,threadsAtPosition:j,viewerData:C}),n[21]=a,n[22]=s,n[23]=l,n[24]=o,n[25]=c,n[26]=d,n[27]=u,n[28]=m,n[29]=f,n[30]=h,n[31]=p,n[32]=g,n[33]=w,n[34]=x,n[35]=b,n[36]=v,n[37]=y,n[38]=j,n[39]=C,n[40]=e):e=n[40],e}default:throw Error(`cannot handle type ${d.type}`)}}:({annotationsAtPosition:e,commentsPreference:t,copilotChatReference:n,currentHunk:a,diffLine:r,diffAnchor:s,filePath:l,handleDiffSideCellSelectionBlocking:o,hasHiddenUnicodeCharacters:d,isLeftSide:c,isRowSelected:u,isSplit:m,nextHunk:f,previousHunk:h,rowId:p,subjectId:g,threadsAtPosition:x,viewerData:b})=>{if((0,E.Po)(r))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a$,{columnIndex:2*!c,diffAnchor:s,diffLine:r,isLeftSide:c,isSplit:m}),(0,i.jsx)(a$,{columnIndex:c?1:3,diffAnchor:s,diffLine:r,isLeftSide:c,isSplit:m})]});let v=c?"left":(0,e2.XU)(r.type),y="left"===v?r.left:r.right,j=(0,e2.IQ)(s,v,y??0);switch(r.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(az,{annotationsAtPosition:e,commentsPreference:t,copilotChatReference:n,currentHunk:a,diffAnchor:s,diffLine:r,filePath:l,handleDiffSideCellSelectionBlocking:o,hasHiddenUnicodeCharacters:d,isLeftSide:c,isRowSelected:u,isSplit:m,lineAnchor:j,nextHunk:f,previousHunk:h,rowId:p,subjectId:g,threadsAtPosition:x,viewerData:b});default:throw Error(`cannot handle type ${r.type}`)}},aH=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(3),{children:s}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={left:"-1px",zIndex:"1"},a[0]=t):t=a[0],a[1]!==s?(n=(0,i.jsx)("span",{className:"position-absolute",style:t,children:s}),a[1]=s,a[2]=n):n=a[2],n}:function({children:e}){return(0,i.jsx)("span",{className:"position-absolute",style:{left:"-1px",zIndex:"1"},children:e})},aq=l.memo(aG),az=l.memo(aU);try{aU.displayName||(aU.displayName="CodeDiffLineUnmemoized")}catch{}try{aG.displayName||(aG.displayName="DiffLineSideUnmemoized")}catch{}try{aH.displayName||(aH.displayName="DiffCodeAlert")}catch{}try{aq.displayName||(aq.displayName="DiffLineSide")}catch{}try{az.displayName||(az.displayName="CodeDiffLine")}catch{}let aK=(0,a.GV)()?function(e){let t,n,a,s=(0,r.c)(5),{isSplit:l}=e,o=!l&&"hunk-kebab-icon-unified";return s[0]!==o?(t=(0,b.$)("hunk-kebab-icon pr-2 pb-1",o),s[0]=o,s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(c.KebabHorizontalIcon,{}),s[2]=n):n=s[2],s[3]!==t?(a=(0,i.jsx)("div",{className:t,children:n}),s[3]=t,s[4]=a):a=s[4],a}:function({isSplit:e}){return(0,i.jsx)("div",{className:(0,b.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,i.jsx)(c.KebabHorizontalIcon,{})})};try{aK.displayName||(aK.displayName="HunkKebabIcon")}catch{}let aW=(0,a.GV)()?function(e){let t,n,i,a,s,o,d,c=(0,r.c)(17),[u,m]=(0,l.useState)(!1),[f,h]=(0,l.useState)(!1),p=u?0:-1;c[0]!==e?(t=t=>{e.current&&e.current.contains(t.relatedTarget)||m(!1)},c[0]=e,c[1]=t):t=c[1];let g=t;c[2]!==e?(n=()=>{e.current===document.activeElement&&m(!0)},c[2]=e,c[3]=n):n=c[3];let x=n;c[4]!==e?(i=t=>{e.current&&!e.current.contains(t.relatedTarget)&&m(!1),h(!1)},c[4]=e,c[5]=i):i=c[5];let b=i;c[6]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{e.stopPropagation(),h(!0)},c[6]=a):a=c[6];let v=a;c[7]!==g||c[8]!==x?(s={onFocus:x,onBlur:g},c[7]=g,c[8]=x,c[9]=s):s=c[9];let y=s,j=!f;c[10]!==p||c[11]!==b||c[12]!==j?(o={"aria-hidden":j,tabIndex:p,onBlur:b,onFocusCapture:v,onKeyDownCapture:aZ},c[10]=p,c[11]=b,c[12]=j,c[13]=o):o=c[13];let C=o;return c[14]!==C||c[15]!==y?(d=[y,C],c[14]=C,c[15]=y,c[16]=d):d=c[16],d}:function(e){let[t,n]=(0,l.useState)(!1),[i,a]=(0,l.useState)(!1),r=(0,l.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||n(!1)},[e]);return[{onFocus:(0,l.useCallback)(()=>{e.current===document.activeElement&&n(!0)},[e]),onBlur:r},{"aria-hidden":!i,tabIndex:t?0:-1,onBlur:(0,l.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&n(!1),a(!1)},[e]),onFocusCapture:(0,l.useCallback)(e=>{e.stopPropagation(),a(!0)},[]),onKeyDownCapture:(0,l.useCallback)(e=>{tU(e.key)&&e.stopPropagation()},[])}]};function aZ(e){tU(e.key)&&e.stopPropagation()}let aQ=(0,a.GV)()?function(e){let t,n,a,s,o,d=(0,r.c)(18),{diffAnchor:c,diffLine:u,isLeftSide:m,isSplit:f,renderHunkButton:h}=e,p=(0,l.useRef)(null),[g,x]=aW(p);if((0,E.Po)(u))return null;let b=`HunkCell-left:${u.left}-right:${u.right}`;d[0]===Symbol.for("react.memo_cache_sentinel")?(t={backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},d[0]=t):t=d[0],d[1]!==x||d[2]!==f||d[3]!==h?(n=h?.(x)??(0,i.jsx)(aK,{isSplit:f}),d[1]=x,d[2]=f,d[3]=h,d[4]=n):n=d[4];let v=u.html;return d[5]!==v?(a=(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:v})}),d[5]=v,d[6]=a):a=d[6],d[7]!==n||d[8]!==a?(s=(0,i.jsxs)("div",{className:"d-flex flex-row",children:[n,a]}),d[7]=n,d[8]=a,d[9]=s):s=d[9],d[10]!==g||d[11]!==c||d[12]!==u||d[13]!==m||d[14]!==f||d[15]!==b||d[16]!==s?(o=(0,i.jsx)(aS,{className:"diff-hunk-cell",colSpan:4,columnIndex:0,diffAnchor:c,diffLine:u,isLeftSide:m,isSplit:f,ref:p,style:t,...g,children:s},b),d[10]=g,d[11]=c,d[12]=u,d[13]=m,d[14]=f,d[15]=b,d[16]=s,d[17]=o):o=d[17],o}:function({diffAnchor:e,diffLine:t,isLeftSide:n,isSplit:a,renderHunkButton:r}){let s=(0,l.useRef)(null),[o,d]=aW(s);if((0,E.Po)(t))return null;let c=`HunkCell-left:${t.left}-right:${t.right}`;return(0,i.jsx)(aS,{className:"diff-hunk-cell",colSpan:4,columnIndex:0,diffAnchor:e,diffLine:t,isLeftSide:n,isSplit:a,ref:s,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...o,children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[r?.(d)??(0,i.jsx)(aK,{isSplit:a}),(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:t.html})})]})},c)};try{aQ.displayName||(aQ.displayName="HunkCell")}catch{}let aX="ExpandableHunkHeaderDiffLine-module__expand-button-line--CbsbZ",aJ="ExpandableHunkHeaderDiffLine-module__expand-up-and-down--amzYl",aY="ExpandableHunkHeaderDiffLine-module__expand-button-unified--pt9f0",a0=(0,a.GV)()?function(e){let t,n,a,s,l,o,d,c,u,m,f,h,p=(0,r.c)(24);p[0]!==e?({direction:l,icon:t,isSplit:o,label:d,onClick:c,ariaLabel:a,className:s,...n}=e,p[0]=e,p[1]=t,p[2]=n,p[3]=a,p[4]=s,p[5]=l,p[6]=o,p[7]=d,p[8]=c):(t=p[1],n=p[2],a=p[3],s=p[4],l=p[5],o=p[6],d=p[7],c=p[8]);let{sendAnalyticsEvent:g}=(0,tz.s)();p[9]!==c||p[10]!==g?(u=()=>{c(),g("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},p[9]=c,p[10]=g,p[11]=u):u=p[11];let x=!o&&aY;p[12]!==s||p[13]!==x?(m=(0,b.$)("Button Button--iconOnly Button--invisible",aX,x,s),p[12]=s,p[13]=x,p[14]=m):m=p[14];let v=a??d;return p[15]!==t?(f=(0,i.jsx)(t,{}),p[15]=t,p[16]=f):f=p[16],p[17]!==n||p[18]!==l||p[19]!==u||p[20]!==m||p[21]!==v||p[22]!==f?(h=(0,i.jsx)("button",{onClick:u,className:m,"aria-label":v,"data-direction":l,...n,children:f}),p[17]=n,p[18]=l,p[19]=u,p[20]=m,p[21]=v,p[22]=f,p[23]=h):h=p[23],h}:function({direction:e,icon:t,isSplit:n,label:a,onClick:r,ariaLabel:s,className:l,...o}){let{sendAnalyticsEvent:d}=(0,tz.s)();return(0,i.jsx)("button",{onClick:()=>{r(),d("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,b.$)("Button Button--iconOnly Button--invisible",aX,!n&&aY,l),"aria-label":s??a,"data-direction":e,...o,children:(0,i.jsx)(t,{})})},a1=(0,a.GV)()?function(e){let t,n,a,s,l,o,d,u,m,f,h,p=(0,r.c)(25),{currentHunk:g,diffAnchor:x,diffLine:b,fileLineCount:v,isLeftSide:y,isSplit:j,nextHunk:C,nextLine:w,previousHunk:N,prevLine:S}=e;p[0]!==g||p[1]!==C||p[2]!==N?(t={currentHunk:g,nextHunk:C,previousHunk:N},p[0]=g,p[1]=C,p[2]=N,p[3]=t):t=p[3];let{expandStartOfHunk:L,expandEndOfPreviousHunk:D}=iT(t),_=0===b.position&&0!==b.blobLineNumber||!S,I=!w,R=0===b.blobLineNumber,k=_||I,A=I&&S?.blobLineNumber===v;e:{if(k||b.blobLineNumber<=0){n=!1;break e}if(b.blobLineNumber-S.blobLineNumber<=20||w.blobLineNumber-b.blobLineNumber>=20){n=!0;break e}n=!1}let E=n;t:{if(k||A){a=!1;break t}if(b.blobLineNumber-S.blobLineNumber>20){a=!0;break t}a=!1}let T=a;n:{if(b.blobLineNumber<=0||R){s=!1;break n}if(_){s=!0;break n}s=!1}let O=s;i:{if(_||A){l=!1;break i}if(I){l=!0;break i}l=!1}let P=l;a:{switch(!0){case E:o="expand-all";break a;case T:o="expand-up-and-down";break a;case O:o="expand-up";break a;case P:o="expand-down";break a}o=void 0}let F=o;p[4]!==L?(d=()=>L(),p[4]=L,p[5]=d):d=p[5];let $=d;p[6]!==D?(u=()=>D(),p[6]=D,p[7]=u):u=p[7];let M=u;p[8]!==L?(m=()=>L(),p[8]=L,p[9]=m):m=p[9];let B=m,V=z();p[10]!==F||p[11]!==$||p[12]!==B||p[13]!==M||p[14]!==V||p[15]!==j||p[16]!==w?.blobLineNumber||p[17]!==S?.blobLineNumber?(f=e=>{if(V.has(iY.YR.expandLines))return null;switch(F){case"expand-all":return(0,i.jsx)(a0,{...e,direction:"all",icon:c.UnfoldIcon,isSplit:j,label:`Expand file from line ${S?.blobLineNumber||""} to line ${w?.blobLineNumber||""}`,onClick:B});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(a0,{...e,direction:"down",icon:c.FoldDownIcon,isSplit:j,label:`Expand file down from line ${S?.blobLineNumber||""}`,className:aJ,onClick:M}),(0,i.jsx)(a0,{...e,direction:"up",icon:c.FoldUpIcon,isSplit:j,label:`Expand file up from line ${w?.blobLineNumber||""}`,className:aJ,onClick:$})]});case"expand-up":return(0,i.jsx)(a0,{...e,direction:"up",icon:c.FoldUpIcon,isSplit:j,label:`Expand file up from line ${w?.blobLineNumber||""}`,onClick:$});case"expand-down":return(0,i.jsx)(a0,{...e,direction:"down",icon:c.FoldDownIcon,isSplit:j,label:`Expand file down from line ${S?.blobLineNumber||""}`,onClick:M});default:return null}},p[10]=F,p[11]=$,p[12]=B,p[13]=M,p[14]=V,p[15]=j,p[16]=w?.blobLineNumber,p[17]=S?.blobLineNumber,p[18]=f):f=p[18];let U=f;return p[19]!==x||p[20]!==b||p[21]!==y||p[22]!==j||p[23]!==U?(h=(0,i.jsx)(aQ,{renderHunkButton:U,diffAnchor:x,diffLine:b,isLeftSide:y,isSplit:j}),p[19]=x,p[20]=b,p[21]=y,p[22]=j,p[23]=U,p[24]=h):h=p[24],h}:function({currentHunk:e,diffAnchor:t,diffLine:n,fileLineCount:a,isLeftSide:r,isSplit:s,nextHunk:o,nextLine:d,previousHunk:u,prevLine:m}){let{expandStartOfHunk:f,expandEndOfPreviousHunk:h}=iT({currentHunk:e,nextHunk:o,previousHunk:u}),p=0===n.position&&0!==n.blobLineNumber||!m,g=!d,x=0===n.blobLineNumber,b=p||g,v=g&&m?.blobLineNumber===a,y=(0,l.useMemo)(()=>!b&&!(n.blobLineNumber<=0)&&(!!(n.blobLineNumber-m.blobLineNumber<=20)||!!(d.blobLineNumber-n.blobLineNumber>=20)),[b,n,d,m]),j=(0,l.useMemo)(()=>!b&&!v&&n.blobLineNumber-m.blobLineNumber>20,[b,v,n,m]),C=(0,l.useMemo)(()=>!(n.blobLineNumber<=0)&&!x&&!!p,[p,x,n]),w=(0,l.useMemo)(()=>!p&&!v&&!!g,[p,g,v]),N=(0,l.useMemo)(()=>{switch(!0){case y:return"expand-all";case j:return"expand-up-and-down";case C:return"expand-up";case w:return"expand-down"}},[y,j,C,w]),S=()=>f(),L=()=>h(),D=()=>f(),_=z();return(0,i.jsx)(aQ,{renderHunkButton:e=>{if(_.has(iY.YR.expandLines))return null;switch(N){case"expand-all":return(0,i.jsx)(a0,{...e,direction:"all",icon:c.UnfoldIcon,isSplit:s,label:`Expand file from line ${m?.blobLineNumber||""} to line ${d?.blobLineNumber||""}`,onClick:D});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(a0,{...e,direction:"down",icon:c.FoldDownIcon,isSplit:s,label:`Expand file down from line ${m?.blobLineNumber||""}`,className:aJ,onClick:L}),(0,i.jsx)(a0,{...e,direction:"up",icon:c.FoldUpIcon,isSplit:s,label:`Expand file up from line ${d?.blobLineNumber||""}`,className:aJ,onClick:S})]});case"expand-up":return(0,i.jsx)(a0,{...e,direction:"up",icon:c.FoldUpIcon,isSplit:s,label:`Expand file up from line ${d?.blobLineNumber||""}`,onClick:S});case"expand-down":return(0,i.jsx)(a0,{...e,direction:"down",icon:c.FoldDownIcon,isSplit:s,label:`Expand file down from line ${m?.blobLineNumber||""}`,onClick:L});default:return null}},diffAnchor:t,diffLine:n,isLeftSide:r,isSplit:s})};try{a0.displayName||(a0.displayName="ExpandButtonLine")}catch{}try{a1.displayName||(a1.displayName="ExpandableHunkHeaderDiffLine")}catch{}var a2=n(12918);let a3=(0,l.memo)((0,a.GV)()?function(e){let t,n,a,s,l,o,d,c,u,m,f,h=(0,r.c)(54),{copilotChatReference:p,diffHasHiddenUnicodeCharacters:g,filePath:x,handleDiffSideCellSelectionBlocking:b,hunksData:v,leftDiffLine:y,nextDiffLine:j,prevDiffLine:C,rightDiffLine:w,showHiddenUnicode:N,subjectId:S,viewerData:L}=e,D=Z(),I=Q();h[0]!==g||h[1]!==N?(t=e=>{let t=!1;return g&&!(0,E.Po)(e)&&(t=(0,tq.Y)(e.text),N&&t&&(e=e.html?{...e,html:(0,a2.Gx)(e.html)??e.html}:{...e,text:(0,tq.TA)(e.text)})),[e,t]},h[0]=g,h[1]=N,h[2]=t):t=h[2];let R=t,[k,A]=R(y),[T,O]=R(w),P=J((0,E.Po)(k)?void 0:k),F=J((0,E.Po)(T)?void 0:T);e:{let e;if((0,E.Po)(k)){n=k;break e}h[3]!==k||h[4]!==P?(e={...k,...P},h[3]=k,h[4]=P,h[5]=e):e=h[5],n=e}let $=n;t:{let e;if((0,E.Po)(T)){a=T;break t}h[6]!==T||h[7]!==F?(e={...T,...F},h[6]=T,h[7]=F,h[8]=e):e=h[8],a=e}let M=a;h[9]!==$?(s=(0,E.qK)($)&&"HUNK"===$.type,h[9]=$,h[10]=s):s=h[10];let B=s;h[11]!==D||h[12]!==y||h[13]!==w?(l=(0,E.qX)(D,y,w),h[11]=D,h[12]=y,h[13]=w,h[14]=l):l=h[14];let V=l;h[15]!==$||h[16]!==M?(o=(0,E.Po)($)?(0,E.Po)(M)?void 0:M:$,h[15]=$,h[16]=M,h[17]=o):o=h[17];let U=o;h[18]!==k?(d=(0,E.Po)(k)?void 0:(0,E.oH)(k.left,"LEFT"),h[18]=k,h[19]=d):d=h[19];let G=d,{threads:H,annotations:q,commentsPreference:z}=(0,_.rP)(x,G??"");h[20]!==T?(c=(0,E.Po)(T)?void 0:(0,E.oH)(T.right,"RIGHT"),h[20]=T,h[21]=c):c=h[21];let K=c,{threads:W,annotations:X,commentsPreference:Y}=(0,_.rP)(x,K??""),ee=z===ip.sI.Collapsed||Y===ip.sI.Collapsed?ip.sI.Collapsed:ip.sI.Visible,et=!(((0,E.Po)($)||!$.isSelected)&&((0,E.Po)(M)||!M.isSelected));if(!U)return null;h[22]!==U||h[23]!==v?(u=e9(U,v),h[22]=U,h[23]=v,h[24]=u):u=h[24];let{currentHunk:en,nextHunk:ei,previousHunk:ea}=u;return $?(h[25]!==p||h[26]!==ee||h[27]!==en||h[28]!==D||h[29]!==I||h[30]!==x||h[31]!==b||h[32]!==B||h[33]!==et||h[34]!==q||h[35]!==y||h[36]!==A||h[37]!==$||h[38]!==H||h[39]!==j||h[40]!==ei||h[41]!==C||h[42]!==ea||h[43]!==X||h[44]!==O||h[45]!==M||h[46]!==W||h[47]!==V||h[48]!==S||h[49]!==L?(m=B?(0,i.jsx)(a1,{currentHunk:en,diffAnchor:D,diffLine:y,fileLineCount:I,isLeftSide:!0,isSplit:!0,nextHunk:ei,nextLine:j,previousHunk:ea,prevLine:C}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aq,{annotationsAtPosition:q,commentsPreference:ee,copilotChatReference:p,currentHunk:en,diffLine:$,diffAnchor:D,filePath:x,handleDiffSideCellSelectionBlocking:b,hasHiddenUnicodeCharacters:A,isLeftSide:!0,isRowSelected:et,isSplit:!0,nextHunk:ei,previousHunk:ea,rowId:V,subjectId:S,threadsAtPosition:H,viewerData:L}),(0,i.jsx)(aq,{threadsAtPosition:W,annotationsAtPosition:X,commentsPreference:ee,copilotChatReference:p,currentHunk:en,diffLine:M,diffAnchor:D,filePath:x,handleDiffSideCellSelectionBlocking:b,hasHiddenUnicodeCharacters:O,isLeftSide:!1,isRowSelected:et,isSplit:!0,nextHunk:ei,previousHunk:ea,rowId:V,subjectId:S,viewerData:L})]}),h[25]=p,h[26]=ee,h[27]=en,h[28]=D,h[29]=I,h[30]=x,h[31]=b,h[32]=B,h[33]=et,h[34]=q,h[35]=y,h[36]=A,h[37]=$,h[38]=H,h[39]=j,h[40]=ei,h[41]=C,h[42]=ea,h[43]=X,h[44]=O,h[45]=M,h[46]=W,h[47]=V,h[48]=S,h[49]=L,h[50]=m):m=h[50],h[51]!==V||h[52]!==m?(f=(0,i.jsx)("tr",{className:"diff-line-row",children:m},V),h[51]=V,h[52]=m,h[53]=f):f=h[53],f):null}:function({copilotChatReference:e,diffHasHiddenUnicodeCharacters:t,filePath:n,handleDiffSideCellSelectionBlocking:a,hunksData:r,leftDiffLine:s,nextDiffLine:o,prevDiffLine:d,rightDiffLine:c,showHiddenUnicode:u,subjectId:m,viewerData:f}){let h=Z(),p=Q(),g=e=>{let n=!1;return t&&!(0,E.Po)(e)&&(n=(0,tq.Y)(e.text),u&&n&&(e=e.html?{...e,html:(0,a2.Gx)(e.html)??e.html}:{...e,text:(0,tq.TA)(e.text)})),[e,n]},[x,b]=g(s),[v,y]=g(c),j=J((0,E.Po)(x)?void 0:x),C=J((0,E.Po)(v)?void 0:v),w=(0,l.useMemo)(()=>(0,E.Po)(x)?x:{...x,...j},[x,j]),N=(0,l.useMemo)(()=>(0,E.Po)(v)?v:{...v,...C},[v,C]),S=(0,E.qK)(w)&&"HUNK"===w.type,L=(0,E.qX)(h,s,c),D=(0,E.Po)(w)?(0,E.Po)(N)?void 0:N:w,I=(0,E.Po)(x)?void 0:(0,E.oH)(x.left,"LEFT"),{threads:R,annotations:k,commentsPreference:A}=(0,_.rP)(n,I??""),T=(0,E.Po)(v)?void 0:(0,E.oH)(v.right,"RIGHT"),{threads:O,annotations:P,commentsPreference:F}=(0,_.rP)(n,T??""),$=A===ip.sI.Collapsed||F===ip.sI.Collapsed?ip.sI.Collapsed:ip.sI.Visible,M=(0,l.useMemo)(()=>!(((0,E.Po)(w)||!w.isSelected)&&((0,E.Po)(N)||!N.isSelected)),[w,N]);if(!D)return null;let{currentHunk:B,nextHunk:V,previousHunk:U}=e9(D,r);return w?(0,i.jsx)("tr",{className:"diff-line-row",children:S?(0,i.jsx)(a1,{currentHunk:B,diffAnchor:h,diffLine:s,fileLineCount:p,isLeftSide:!0,isSplit:!0,nextHunk:V,nextLine:o,previousHunk:U,prevLine:d}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(aq,{annotationsAtPosition:k,commentsPreference:$,copilotChatReference:e,currentHunk:B,diffLine:w,diffAnchor:h,filePath:n,handleDiffSideCellSelectionBlocking:a,hasHiddenUnicodeCharacters:b,isLeftSide:!0,isRowSelected:M,isSplit:!0,nextHunk:V,previousHunk:U,rowId:L,subjectId:m,threadsAtPosition:R,viewerData:f}),(0,i.jsx)(aq,{threadsAtPosition:O,annotationsAtPosition:P,commentsPreference:$,copilotChatReference:e,currentHunk:B,diffLine:N,diffAnchor:h,filePath:n,handleDiffSideCellSelectionBlocking:a,hasHiddenUnicodeCharacters:y,isLeftSide:!1,isRowSelected:M,isSplit:!0,nextHunk:V,previousHunk:U,rowId:L,subjectId:m,viewerData:f})]})},L):null});try{a3.displayName||(a3.displayName="SplitDiffRow")}catch{}function a4(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(o.Vv);for(;n.length<t.length;)n.push(o.Vv)};for(let a of e)switch(a.type){case"ADDITION":n.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(a),n.push(a)}return i(),{leftLines:t,rightLines:n}}let a5=(0,a.GV)()?function(e){let t,n,i=(0,r.c)(5);i[0]!==e?(t=a4(e),i[0]=e,i[1]=t):t=i[1];let{leftLines:a,rightLines:s}=t;return i[2]!==a||i[3]!==s?(n={leftLines:a,rightLines:s},i[2]=a,i[3]=s,i[4]=n):n=i[4],n}:function(e){let{leftLines:t,rightLines:n}=(0,l.useMemo)(()=>a4(e),[e]);return{leftLines:t,rightLines:n}},a6=(0,l.memo)((0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(24),{diffHasHiddenUnicodeCharacters:o,diffLines:d,fileAnchor:c,filePath:u,handleDiffSideCellSelectionBlocking:m,showHiddenUnicode:f,tableRef:h,copilotChatReference:p,subjectId:g,viewerData:x}=e,{leftLines:b,rightLines:v}=a5(d);l[0]!==b?(t=te(b),l[0]=b,l[1]=t):t=l[1];let y=t,{addLineToSelection:j,clearSelectedLines:C,selectMultipleLines:w}=Y(),N=G();return l[2]!==j||l[3]!==C||l[4]!==c||l[5]!==N||l[6]!==b||l[7]!==v||l[8]!==w||l[9]!==h?(n={addLineToSelection:j,clearSelectedLines:C,containerRef:h,fileAnchor:c,getfirstLineSelectionOnDrag:N,isSplitDiff:!0,leftLines:b,selectMultipleLines:w,rightLines:v,disabled:!1},l[2]=j,l[3]=C,l[4]=c,l[5]=N,l[6]=b,l[7]=v,l[8]=w,l[9]=h,l[10]=n):n=l[10],tG(n),l[11]!==p||l[12]!==o||l[13]!==u||l[14]!==m||l[15]!==y||l[16]!==b||l[17]!==v||l[18]!==f||l[19]!==g||l[20]!==x?(a=b.map((e,t)=>{let n=b[t],a=v[t],r=b[t-1],s=(0,E.Po)(b[t+1])?v[t+1]:b[t+1],l=`${(0,E.Po)(n)||!n?`empty-left-diff-${t}`:n.blobLineNumber}-${(0,E.Po)(a)||!a?`empty-right-diff-${t}`:a.blobLineNumber}`;return(0,i.jsx)(a3,{copilotChatReference:p,diffHasHiddenUnicodeCharacters:o,filePath:u,handleDiffSideCellSelectionBlocking:m,hunksData:y,leftDiffLine:n,nextDiffLine:s,prevDiffLine:r,rightDiffLine:a,showHiddenUnicode:f,subjectId:g,viewerData:x},l)}),l[11]=p,l[12]=o,l[13]=u,l[14]=m,l[15]=y,l[16]=b,l[17]=v,l[18]=f,l[19]=g,l[20]=x,l[21]=a):a=l[21],l[22]!==a?(s=(0,i.jsx)(i.Fragment,{children:a}),l[22]=a,l[23]=s):s=l[23],s}:function({diffHasHiddenUnicodeCharacters:e,diffLines:t,fileAnchor:n,filePath:a,handleDiffSideCellSelectionBlocking:r,showHiddenUnicode:s,tableRef:o,copilotChatReference:d,subjectId:c,viewerData:u}){let{leftLines:m,rightLines:f}=a5(t),h=(0,l.useMemo)(()=>te(m),[m]),{addLineToSelection:p,clearSelectedLines:g,selectMultipleLines:x}=Y();return tG({addLineToSelection:p,clearSelectedLines:g,containerRef:o,fileAnchor:n,getfirstLineSelectionOnDrag:G(),isSplitDiff:!0,leftLines:m,selectMultipleLines:x,rightLines:f,disabled:!1}),(0,i.jsx)(i.Fragment,{children:m.map((t,n)=>{let l=m[n],o=f[n],p=m[n-1],g=(0,E.Po)(m[n+1])?f[n+1]:m[n+1],x=`${(0,E.Po)(l)||!l?`empty-left-diff-${n}`:l.blobLineNumber}-${(0,E.Po)(o)||!o?`empty-right-diff-${n}`:o.blobLineNumber}`;return(0,i.jsx)(a3,{copilotChatReference:d,diffHasHiddenUnicodeCharacters:e,filePath:a,handleDiffSideCellSelectionBlocking:r,hunksData:h,leftDiffLine:l,nextDiffLine:g,prevDiffLine:p,rightDiffLine:o,showHiddenUnicode:s,subjectId:c,viewerData:u},x)})})});try{a6.displayName||(a6.displayName="SplitDiffLines")}catch{}let a7=(0,l.memo)(function({copilotChatReference:e,diffHasHiddenUnicodeCharacters:t,filePath:n,hunksData:a,currentDiffLine:r,nextDiffLine:s,prevDiffLine:o,showHiddenUnicode:d,subjectId:c,viewerData:u}){let m=Z(),f=Q(),h=J(r),p=(0,l.useMemo)(()=>({...r,...h}),[r,h]),g=(0,l.useMemo)(()=>!!p.isSelected,[p.isSelected]),x="DELETION"!==r.type?"RIGHT":"LEFT",b="RIGHT"===x?r.right:r.left,v=(0,E.oH)(b,x),{threads:y,annotations:j,commentsPreference:C}=(0,_.rP)(n,v??""),w="HUNK"===p.type,N=(0,e2.IQ)(m,(0,e2.XU)(p.type),p.blobLineNumber),{currentHunk:S,nextHunk:L,previousHunk:D}=e9(p,a),I=(0,E.qX)(m,p,p),R=t&&(0,tq.Y)(p.text);d&&R&&(p=p.html?{...p,html:(0,a2.Gx)(p.html)??p.html}:{...p,text:(0,tq.TA)(p.text)});let k="DELETION"===p.type;return(0,i.jsx)("tr",{className:"diff-line-row",children:w?(0,i.jsx)(a1,{currentHunk:S,diffAnchor:m,diffLine:p,fileLineCount:f,isLeftSide:k,isSplit:!1,nextHunk:L,nextLine:s,previousHunk:D,prevLine:o}):(0,i.jsx)(az,{annotationsAtPosition:j,commentsPreference:C,copilotChatReference:e,currentHunk:S,diffAnchor:m,diffLine:p,filePath:n,hasHiddenUnicodeCharacters:R,isLeftSide:k,isRowSelected:g,isSplit:!1,lineAnchor:N,nextHunk:L,previousHunk:D,rowId:I,subjectId:c,threadsAtPosition:y,viewerData:u})},I)});try{a7.displayName||(a7.displayName="UnifiedDiffRow")}catch{}let a8=(0,l.memo)((0,a.GV)()?function(e){let t,n,a,s,l=(0,r.c)(21),{diffHasHiddenUnicodeCharacters:o,diffLines:d,fileAnchor:c,filePath:u,tableRef:m,showHiddenUnicode:f,copilotChatReference:h,subjectId:p,viewerData:g}=e;l[0]!==d?(t=te(d.map(a9)),l[0]=d,l[1]=t):t=l[1];let x=t,{addLineToSelection:b,clearSelectedLines:v,selectMultipleLines:y}=Y(),j=G();return l[2]!==b||l[3]!==v||l[4]!==c||l[5]!==j||l[6]!==y||l[7]!==d||l[8]!==m?(n={addLineToSelection:b,clearSelectedLines:v,containerRef:m,fileAnchor:c,getfirstLineSelectionOnDrag:j,isSplitDiff:!1,leftLines:d,selectMultipleLines:y,disabled:!1},l[2]=b,l[3]=v,l[4]=c,l[5]=j,l[6]=y,l[7]=d,l[8]=m,l[9]=n):n=l[9],tG(n),l[10]!==h||l[11]!==o||l[12]!==d||l[13]!==u||l[14]!==x||l[15]!==f||l[16]!==p||l[17]!==g?(a=d.map((e,t)=>{let n=d[t+1],a=d[t-1],r=`unified-diff-row-l:${e.left}-r:${e.right}-b:${e.blobLineNumber}`;return(0,i.jsx)(a7,{copilotChatReference:h,diffHasHiddenUnicodeCharacters:o,filePath:u,hunksData:x,currentDiffLine:e,nextDiffLine:n,prevDiffLine:a,showHiddenUnicode:f,subjectId:p,viewerData:g},r)}),l[10]=h,l[11]=o,l[12]=d,l[13]=u,l[14]=x,l[15]=f,l[16]=p,l[17]=g,l[18]=a):a=l[18],l[19]!==a?(s=(0,i.jsx)(i.Fragment,{children:a}),l[19]=a,l[20]=s):s=l[20],s}:function({diffHasHiddenUnicodeCharacters:e,diffLines:t,fileAnchor:n,filePath:a,tableRef:r,showHiddenUnicode:s,copilotChatReference:o,subjectId:d,viewerData:c}){let u=(0,l.useMemo)(()=>te(t.map(e=>e)),[t]),{addLineToSelection:m,clearSelectedLines:f,selectMultipleLines:h}=Y();return tG({addLineToSelection:m,clearSelectedLines:f,containerRef:r,fileAnchor:n,getfirstLineSelectionOnDrag:G(),isSplitDiff:!1,leftLines:t,selectMultipleLines:h,disabled:!1}),(0,i.jsx)(i.Fragment,{children:t.map((n,r)=>{let l=t[r+1],m=t[r-1],f=`unified-diff-row-l:${n.left}-r:${n.right}-b:${n.blobLineNumber}`;return(0,i.jsx)(a7,{copilotChatReference:o,diffHasHiddenUnicodeCharacters:e,filePath:a,hunksData:u,currentDiffLine:n,nextDiffLine:l,prevDiffLine:m,showHiddenUnicode:s,subjectId:d,viewerData:c},f)})})});try{a8.displayName||(a8.displayName="UnifiedDiffLines")}catch{}function a9(e){return e}let re="DiffLines-module__tableLayoutFixed--UBX7h",rt="DiffLines-module__compact--wxqBo";var rn=n(60745),ri=n(73189);let ra=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(9),{showStartConversation:s,hasDraftComment:l,lineSpacingPreference:o,openStartConversationDialog:d,authorLogin:u,authorAvatarUrl:m}=e;return a[0]!==m||a[1]!==u||a[2]!==l||a[3]!==o||a[4]!==d||a[5]!==s?(t=s&&(0,i.jsx)("div",{"aria-hidden":!1,className:(0,b.$)("d-flex","flex-row",ac),children:(0,i.jsx)(i.Fragment,{children:l?(0,i.jsx)(e_.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,b.$)("py-0","compact"===o?au:am,ap),onClick:d,children:(0,i.jsx)(ao,{lineSpacingPreference:o,authorAvatarUrl:m,authorLogin:u})}):(0,i.jsx)(e_.Q,{icon:c.PlusIcon,"aria-label":"Add comment",size:"small","data-add-comment-button":!0,className:(0,b.$)("fgColor-muted","bgColor-accent-emphasis","borderColor-accent-emphasis","fgColor-onEmphasis","px-0",af,ap,ag),onClick:d})})}),a[0]=m,a[1]=u,a[2]=l,a[3]=o,a[4]=d,a[5]=s,a[6]=t):t=a[6],a[7]!==t?(n=(0,i.jsx)(i.Fragment,{children:t}),a[7]=t,a[8]=n):n=a[8],n}:function({showStartConversation:e,hasDraftComment:t,lineSpacingPreference:n,openStartConversationDialog:a,authorLogin:r,authorAvatarUrl:s}){return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)("div",{"aria-hidden":!1,className:(0,b.$)("d-flex","flex-row",ac),children:(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(e_.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,b.$)("py-0","compact"===n?au:am,ap),onClick:a,children:(0,i.jsx)(ao,{lineSpacingPreference:n,authorAvatarUrl:s,authorLogin:r})}):(0,i.jsx)(e_.Q,{icon:c.PlusIcon,"aria-label":"Add comment",size:"small","data-add-comment-button":!0,className:(0,b.$)("fgColor-muted","bgColor-accent-emphasis","borderColor-accent-emphasis","fgColor-onEmphasis","px-0",af,ap,ag),onClick:a})})})})};try{ra.displayName||(ra.displayName="SimpleAddCommentButton")}catch{}let rr=(0,a.GV)()?function(e){let t,n,a,s,o,d,u,m,f=(0,r.c)(40),{showStartConversation:h,viewerData:p,openStartConversationDialog:g,threads:x,annotations:v,shouldDisplayMinimizedComments:y,diffAnchor:j,diffLine:C,isLeftSide:w,isSplit:N,nextHunk:S,previousHunk:L,currentHunk:D,copilotChatReference:_,handleCopyCode:I,shouldDisplayCollapseComments:R,toggleViewingMarkers:k}=e,[A,E]=(0,l.useState)(!1),T=(0,l.useRef)(null),O=x.reduce(rs,0),P=v.length,{commentsPreference:F,lineSpacingPreference:$}=p,M=O+P>0&&F===ip.sI.Collapsed;f[0]!==v.length||f[1]!==x.length||f[2]!==k?(t=e=>{(1===x.length||1===v.length)&&e.preventDefault(),k?.()},f[0]=v.length,f[1]=x.length,f[2]=k,f[3]=t):t=f[3];let B=t;return f[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,b.$)("d-flex","flex-row",ad),f[4]=n):n=f[4],f[5]!==A||f[6]!==v||f[7]!==B||f[8]!==$||f[9]!==y||f[10]!==x||f[11]!==M?(a=M&&y&&(0,i.jsx)(e_.Q,{"aria-expanded":A,"aria-label":"View comments",size:"small",className:(0,b.$)("py-0","px-1",ap),onClick:B,children:(0,i.jsx)(iA,{threads:x,annotations:v,lineSpacingPreference:$})}),f[5]=A,f[6]=v,f[7]=B,f[8]=$,f[9]=y,f[10]=x,f[11]=M,f[12]=a):a=f[12],f[13]===Symbol.for("react.memo_cache_sentinel")?(s=(0,b.$)("fgColor-muted",ah),f[13]=s):s=f[13],f[14]!==A?(o=(0,i.jsx)(eT.W.Anchor,{children:(0,i.jsx)(e_.Q,{ref:T,"aria-haspopup":"true","aria-label":"More actions",icon:c.TriangleDownIcon,size:"small",className:s,onClick:()=>E(!A)})}),f[14]=A,f[15]=o):o=f[15],f[16]!==v||f[17]!==_||f[18]!==D||f[19]!==j||f[20]!==C||f[21]!==I||f[22]!==w||f[23]!==N||f[24]!==S||f[25]!==g||f[26]!==L||f[27]!==R||f[28]!==h||f[29]!==x||f[30]!==k||f[31]!==p?(d=(0,i.jsx)(eT.W.Overlay,{width:"medium",children:(0,i.jsx)(eO.l,{children:(0,i.jsx)(i0,{threads:x,annotations:v,currentHunk:D,diffAnchor:j,diffLine:C,shouldDisplayCollapseComments:R,copilotChatReference:_,showStartConversation:h,handleCopyCode:I,handleViewMarkersSelection:k,isLeftSide:w,isSplit:N,nextHunk:S,previousHunk:L,startConversationCurrentLine:g,startConversationWithSuggestedChange:g,viewerData:p})})}),f[16]=v,f[17]=_,f[18]=D,f[19]=j,f[20]=C,f[21]=I,f[22]=w,f[23]=N,f[24]=S,f[25]=g,f[26]=L,f[27]=R,f[28]=h,f[29]=x,f[30]=k,f[31]=p,f[32]=d):d=f[32],f[33]!==A||f[34]!==o||f[35]!==d?(u=(0,i.jsxs)(eT.W,{anchorRef:T,open:A,onOpenChange:ri.l,children:[o,d]}),f[33]=A,f[34]=o,f[35]=d,f[36]=u):u=f[36],f[37]!==a||f[38]!==u?(m=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{"aria-hidden":!1,className:n,children:(0,i.jsxs)(i_.A,{className:ax,children:[a,u]})})}),f[37]=a,f[38]=u,f[39]=m):m=f[39],m}:function({showStartConversation:e,viewerData:t,openStartConversationDialog:n,threads:a,annotations:r,shouldDisplayMinimizedComments:s,diffAnchor:o,diffLine:d,isLeftSide:u,isSplit:m,nextHunk:f,previousHunk:h,currentHunk:p,copilotChatReference:g,handleCopyCode:x,shouldDisplayCollapseComments:v,toggleViewingMarkers:y}){let[j,C]=(0,l.useState)(!1),w=(0,l.useRef)(null),N=a.reduce((e,t)=>e+(t.commentsData?.comments.length??0),0),S=r.length,{commentsPreference:L,lineSpacingPreference:D}=t,_=N+S>0&&L===ip.sI.Collapsed,I=(0,l.useCallback)(e=>{(1===a.length||1===r.length)&&e.preventDefault(),y?.()},[r.length,a.length,y]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{"aria-hidden":!1,className:(0,b.$)("d-flex","flex-row",ad),children:(0,i.jsxs)(i_.A,{className:ax,children:[_&&s&&(0,i.jsx)(e_.Q,{"aria-expanded":j,"aria-label":"View comments",size:"small",className:(0,b.$)("py-0","px-1",ap),onClick:I,children:(0,i.jsx)(iA,{threads:a,annotations:r,lineSpacingPreference:D})}),(0,i.jsxs)(eT.W,{anchorRef:w,open:j,onOpenChange:ri.l,children:[(0,i.jsx)(eT.W.Anchor,{children:(0,i.jsx)(e_.Q,{ref:w,"aria-haspopup":"true","aria-label":"More actions",icon:c.TriangleDownIcon,size:"small",className:(0,b.$)("fgColor-muted",ah),onClick:()=>C(!j)})}),(0,i.jsx)(eT.W.Overlay,{width:"medium",children:(0,i.jsx)(eO.l,{children:(0,i.jsx)(i0,{threads:a,annotations:r,currentHunk:p,diffAnchor:o,diffLine:d,shouldDisplayCollapseComments:v,copilotChatReference:g,showStartConversation:e,handleCopyCode:x,handleViewMarkersSelection:y,isLeftSide:u,isSplit:m,nextHunk:f,previousHunk:h,startConversationCurrentLine:n,startConversationWithSuggestedChange:n,viewerData:t})})})]})]})})})};function rs(e,t){return e+(t.commentsData?.comments.length??0)}try{rr.displayName||(rr.displayName="SimpleContextMenu")}catch{}let rl=(0,l.forwardRef)((0,a.GV)()?function(e,t){let n,a,s,l=(0,r.c)(28),{annotations:o,authorAvatarUrl:d,authorLogin:c,copilotChatReference:u,currentHunk:m,diffAnchor:f,diffLine:h,hasDraftComment:p,handleCopyCode:g,isLeftSide:x,isSplit:b,nextHunk:v,previousHunk:y,shouldDisplayCollapseComments:j,shouldDisplayMinimizedComments:C,showStartConversation:w,threads:N,toggleViewingMarkers:S,viewerData:L,openStartConversationDialog:D}=e;l[0]!==d||l[1]!==c||l[2]!==p||l[3]!==D||l[4]!==w||l[5]!==L.lineSpacingPreference?(n=(0,i.jsx)(ra,{showStartConversation:w,hasDraftComment:p,lineSpacingPreference:L.lineSpacingPreference,openStartConversationDialog:D,authorLogin:c,authorAvatarUrl:d}),l[0]=d,l[1]=c,l[2]=p,l[3]=D,l[4]=w,l[5]=L.lineSpacingPreference,l[6]=n):n=l[6];let _=C??!1;return l[7]!==o||l[8]!==u||l[9]!==m||l[10]!==f||l[11]!==h||l[12]!==g||l[13]!==x||l[14]!==b||l[15]!==v||l[16]!==D||l[17]!==y||l[18]!==j||l[19]!==w||l[20]!==_||l[21]!==N||l[22]!==S||l[23]!==L?(a=(0,i.jsx)(rr,{showStartConversation:w,viewerData:L,openStartConversationDialog:D,threads:N,annotations:o,shouldDisplayMinimizedComments:_,diffAnchor:f,diffLine:h,isLeftSide:x,isSplit:b,nextHunk:v,previousHunk:y,currentHunk:m,copilotChatReference:u,handleCopyCode:g,shouldDisplayCollapseComments:j,toggleViewingMarkers:S}),l[7]=o,l[8]=u,l[9]=m,l[10]=f,l[11]=h,l[12]=g,l[13]=x,l[14]=b,l[15]=v,l[16]=D,l[17]=y,l[18]=j,l[19]=w,l[20]=_,l[21]=N,l[22]=S,l[23]=L,l[24]=a):a=l[24],l[25]!==n||l[26]!==a?(s=(0,i.jsxs)(i.Fragment,{children:[n,a]}),l[25]=n,l[26]=a,l[27]=s):s=l[27],s}:function({annotations:e,authorAvatarUrl:t,authorLogin:n,copilotChatReference:a,currentHunk:r,diffAnchor:s,diffLine:l,hasDraftComment:o,handleCopyCode:d,isLeftSide:c,isSplit:u,nextHunk:m,previousHunk:f,shouldDisplayCollapseComments:h,shouldDisplayMinimizedComments:p,showStartConversation:g,threads:x,toggleViewingMarkers:b,viewerData:v,openStartConversationDialog:y},j){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ra,{showStartConversation:g,hasDraftComment:o,lineSpacingPreference:v.lineSpacingPreference,openStartConversationDialog:y,authorLogin:n,authorAvatarUrl:t}),(0,i.jsx)(rr,{showStartConversation:g,viewerData:v,openStartConversationDialog:y,threads:x,annotations:e,shouldDisplayMinimizedComments:p??!1,diffAnchor:s,diffLine:l,isLeftSide:c,isSplit:u,nextHunk:m,previousHunk:f,currentHunk:r,copilotChatReference:a,handleCopyCode:d,shouldDisplayCollapseComments:h,toggleViewingMarkers:b})]})});rl.displayName="ActionBar";let ro=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,f=(0,r.c)(43),{diffLine:h,filePath:p,avatarURL:g,userLogin:x,viewerCanApplySuggestion:v}=e,y="HUNK"===h.type,j="ADDITION"!==h.type,C="DELETION"!==h.type,w=Z();if(f[0]!==w||f[1]!==h){let e=(0,E.qX)(w,h,h);t=(0,E.u6)(e,2),f[0]=w,f[1]=h,f[2]=t}else t=f[2];let N=t,S=g??"",L=x??"",D=v??!1;f[3]!==S||f[4]!==L||f[5]!==D?(n={avatarUrl:S,login:L,viewerCanApplySuggestion:D},f[3]=S,f[4]=L,f[5]=D,f[6]=n):n=f[6];let I=n;f[7]!==h.type?(a=(0,E.Yf)(h.type,!0,!1),f[7]=h.type,f[8]=a):a=f[8];let R=a;f[9]!==h.type?(s=(0,E.Yf)(h.type,!1,!1),f[9]=h.type,f[10]=s):s=f[10];let k=s;f[11]!==h.html||f[12]!==h.type?(o=(0,E.x_)(h.html,h.type),f[11]=h.html,f[12]=h.type,f[13]=o):o=f[13];let[A,T]=o;f[14]!==T?(d=T&&["+","-"].includes(T),f[14]=T,f[15]=d):d=f[15];let O=d,[P,F]=(0,l.useState)(!1),[$,M]=(0,l.useState)(!1),B="DELETION"!==h.type?"RIGHT":"LEFT",V="RIGHT"===B?h.right:h.left;f[16]!==V||f[17]!==B?(c=(0,E.oH)(V,B),f[16]=V,f[17]=B,f[18]=c):c=f[18];let U=c,{threads:G,annotations:H,commentsPreference:q}=(0,_.rP)(p,U??""),z=G.length+H.length!==0&&q===ip.sI.Collapsed;f[19]!==z?(u=(0,E.S4)({hasThreads:z}),f[19]=z,f[20]=u):u=f[20];let K=u,W=(0,l.useRef)(null),Q=(0,l.useRef)(null),[X,J]=(0,l.useState)(G.length>0||H.length>0);return f[21]!==H||f[22]!==N||f[23]!==k||f[24]!==K||f[25]!==w||f[26]!==h||f[27]!==p||f[28]!==$||f[29]!==y||f[30]!==P||f[31]!==A||f[32]!==U||f[33]!==R||f[34]!==B||f[35]!==T||f[36]!==X||f[37]!==j||f[38]!==O||f[39]!==C||f[40]!==G||f[41]!==I?(m=(0,i.jsx)("tr",{className:"diff-line-row",children:y?(0,i.jsx)("td",{colSpan:4,className:"flex-grow-0 bgColor-accent-muted",children:(0,i.jsx)("div",{className:"d-flex flex-row",children:(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:h.html})})})}):(0,i.jsxs)(i.Fragment,{children:[j?(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:R},children:(0,i.jsx)("code",{children:h.left})}):(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:R}}),C?(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:R},children:(0,i.jsx)("code",{children:h.right})}):(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:R}}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:k},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===h.type,deletion:"DELETION"===h.type}),children:[O&&(0,i.jsx)("span",{className:"diff-text-marker",children:T}),(0,i.jsx)(eZ.$6,{html:A,className:"diff-text-inner"})]}),X?(0,i.jsx)(io,{diffLine:h,gridCellId:N,gutterSizeOffset:K,inlineMarkersRef:W,cellRef:Q,fileAnchor:w,dispatchMarkersStatus:ri.l,lineMarkersKey:U,annotations:H,conversationListThreads:G,filePath:p,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:h.type,viewerData:I,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,children:P&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default",(G.length,"mt-2 mb-1")),children:(0,i.jsx)(nu,{diffLine:h,diffAnchor:w,batchingEnabled:!0,filePath:p,focusOnMount:!0,isLeftSide:"LEFT"===B,isInDialogMode:!1,isOpen:P,lineNumber:h.blobLineNumber,viewerData:I,onCloseCommentDialog:()=>F(!1)})})}):null,$&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{F(!0),J(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:Q,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:w,diffLine:h,threads:G,annotations:H,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:"LEFT"===B,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]})}),f[21]=H,f[22]=N,f[23]=k,f[24]=K,f[25]=w,f[26]=h,f[27]=p,f[28]=$,f[29]=y,f[30]=P,f[31]=A,f[32]=U,f[33]=R,f[34]=B,f[35]=T,f[36]=X,f[37]=j,f[38]=O,f[39]=C,f[40]=G,f[41]=I,f[42]=m):m=f[42],m}:function({diffLine:e,filePath:t,avatarURL:n,userLogin:a,viewerCanApplySuggestion:r}){let s="HUNK"===e.type,o="ADDITION"!==e.type,d="DELETION"!==e.type,c=Z(),u=(0,E.qX)(c,e,e),m=(0,E.u6)(u,2),f={avatarUrl:n??"",login:a??"",viewerCanApplySuggestion:r??!1},h=(0,E.Yf)(e.type,!0,!1),p=(0,E.Yf)(e.type,!1,!1),[g,x]=(0,E.x_)(e.html,e.type),v=x&&["+","-"].includes(x),[y,j]=(0,l.useState)(!1),[C,w]=(0,l.useState)(!1),N="DELETION"!==e.type?"RIGHT":"LEFT",S="RIGHT"===N?e.right:e.left,L=(0,E.oH)(S,N),{threads:D,annotations:I,commentsPreference:R}=(0,_.rP)(t,L??""),k=D.length+I.length!==0,A=(0,E.S4)({hasThreads:k&&R===ip.sI.Collapsed}),T=(0,l.useRef)(null),O=(0,l.useRef)(null),[P,F]=(0,l.useState)(D.length>0||I.length>0);return(0,i.jsx)("tr",{className:"diff-line-row",children:s?(0,i.jsx)("td",{colSpan:4,className:"flex-grow-0 bgColor-accent-muted",children:(0,i.jsx)("div",{className:"d-flex flex-row",children:(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:e.html})})})}):(0,i.jsxs)(i.Fragment,{children:[o?(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:h},children:(0,i.jsx)("code",{children:e.left})}):(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:h}}),d?(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:h},children:(0,i.jsx)("code",{children:e.right})}):(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:h}}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:p},onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===e.type,deletion:"DELETION"===e.type}),children:[v&&(0,i.jsx)("span",{className:"diff-text-marker",children:x}),(0,i.jsx)(eZ.$6,{html:g,className:"diff-text-inner"})]}),P?(0,i.jsx)(io,{diffLine:e,gridCellId:m,gutterSizeOffset:A,inlineMarkersRef:T,cellRef:O,fileAnchor:c,dispatchMarkersStatus:ri.l,lineMarkersKey:L,annotations:I,conversationListThreads:D,filePath:t,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:e.type,viewerData:f,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,children:y&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default",(D.length,"mt-2 mb-1")),children:(0,i.jsx)(nu,{diffLine:e,diffAnchor:c,batchingEnabled:!0,filePath:t,focusOnMount:!0,isLeftSide:"LEFT"===N,isInDialogMode:!1,isOpen:y,lineNumber:e.blobLineNumber,viewerData:f,onCloseCommentDialog:()=>j(!1)})})}):null,C&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{j(!0),F(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:O,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:c,diffLine:e,threads:D,annotations:I,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:"LEFT"===N,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]})})};try{ro.displayName||(ro.displayName="SimpleUnifiedDiffRow")}catch{}function rd({diffLines:e,filePath:t,avatarURL:n,userLogin:a,viewerCanApplySuggestion:r}){return e.map(e=>{let s=`unified-diff-row-l:${e.left}-r:${e.right}-b:${e.blobLineNumber}`;return(0,i.jsx)(ro,{diffLine:e,filePath:t,avatarURL:n,userLogin:a,viewerCanApplySuggestion:r},s)})}try{rd.displayName||(rd.displayName="SimpleUnifiedDiffLines")}catch{}let rc=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,f,h,p,g,x,v,y,j=(0,r.c)(68),{leftDiffLine:C,rightDiffLine:w,filePath:N,avatarURL:S,userLogin:L,viewerCanApplySuggestion:D}=e,I=C?.type==="HUNK",R=Z();j[0]!==C?(t=C?(0,E.Yf)(C.type,!0,!1):"",j[0]=C,j[1]=t):t=j[1];let k=t;j[2]!==w?(n=w?(0,E.Yf)(w.type,!0,!1):"",j[2]=w,j[3]=n):n=j[3];let A=n;j[4]!==C?(a=C?(0,E.Yf)(C.type,!1,!1):"",j[4]=C,j[5]=a):a=j[5];let T=a;j[6]!==w?(s=w?(0,E.Yf)(w.type,!1,!1):"",j[6]=w,j[7]=s):s=j[7];let O=s;if(j[8]!==R||j[9]!==C||j[10]!==w){let e=C?(0,E.qX)(R,C,w):"";o=(0,E.u6)(e,1),d=(0,E.u6)(e,3),j[8]=R,j[9]=C,j[10]=w,j[11]=o,j[12]=d}else o=j[11],d=j[12];let P=d;j[13]!==C?(c=C?(0,E.x_)(C.html,C.type):[void 0,void 0],j[13]=C,j[14]=c):c=j[14];let[F,$]=c;j[15]!==$?(u=$&&["+","-"].includes($),j[15]=$,j[16]=u):u=j[16];let M=u;j[17]!==w?(m=w?(0,E.x_)(w.html,w.type):[void 0,void 0],j[17]=w,j[18]=m):m=j[18];let[B,V]=m;j[19]!==V?(f=V&&["+","-"].includes(V),j[19]=V,j[20]=f):f=j[20];let U=f;j[21]!==C?(h=C?(0,E.oH)(C.left,"LEFT"):void 0,j[21]=C,j[22]=h):h=j[22];let G=h,{threads:H,annotations:q}=(0,_.rP)(N,G??""),z=S??"",K=L??"",W=D??!1;j[23]!==z||j[24]!==K||j[25]!==W?(p={avatarUrl:z,login:K,viewerCanApplySuggestion:W},j[23]=z,j[24]=K,j[25]=W,j[26]=p):p=j[26];let Q=p;j[27]!==w?(g=w?(0,E.oH)(w.right,"RIGHT"):void 0,j[27]=w,j[28]=g):g=j[28];let X=g,{threads:J,annotations:Y,commentsPreference:ee}=(0,_.rP)(N,X??""),[et,en]=(0,l.useState)(!1),[ei,ea]=(0,l.useState)(!1),[er,es]=(0,l.useState)(!1),[el,eo]=(0,l.useState)(!1),[ed,ec]=(0,l.useState)(H.length>0||q.length>0),[eu,em]=(0,l.useState)(J.length>0||Y.length>0),ef=H.length+q.length!==0,eh=J.length+Y.length!==0,ep=ef&&ee===ip.sI.Collapsed;j[29]!==ep?(x=(0,E.S4)({hasThreads:ep}),j[29]=ep,j[30]=x):x=j[30];let eg=x,ex=eh&&ee===ip.sI.Collapsed;j[31]!==ex?(v=(0,E.S4)({hasThreads:ex}),j[31]=ex,j[32]=v):v=j[32];let eb=v,ev=(0,l.useRef)(null),ey=(0,l.useRef)(null);return j[33]!==S||j[34]!==R||j[35]!==N||j[36]!==I||j[37]!==ei||j[38]!==et||j[39]!==el||j[40]!==er||j[41]!==q||j[42]!==o||j[43]!==T||j[44]!==eg||j[45]!==C||j[46]!==F||j[47]!==G||j[48]!==k||j[49]!==$||j[50]!==H||j[51]!==Y||j[52]!==P||j[53]!==O||j[54]!==eb||j[55]!==w||j[56]!==B||j[57]!==X||j[58]!==A||j[59]!==V||j[60]!==J||j[61]!==ed||j[62]!==M||j[63]!==eu||j[64]!==U||j[65]!==L||j[66]!==Q?(y=(0,i.jsx)("tr",{className:"diff-line-row",children:I?(0,i.jsx)("td",{colSpan:4,className:"flex-grow-0 bgColor-accent-muted",children:(0,i.jsx)("div",{className:"d-flex flex-row",children:(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:C.html})})})}):(0,i.jsxs)(i.Fragment,{children:[C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:k},children:(0,i.jsx)("code",{children:C.left})}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:T},onMouseEnter:()=>ea(!0),onMouseLeave:()=>ea(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===C.type,deletion:"DELETION"===C.type}),children:[M&&(0,i.jsx)("span",{className:"diff-text-marker",children:$}),(0,i.jsx)(eZ.$6,{html:F,className:"diff-text-inner"})]}),ed&&(0,i.jsx)(io,{diffLine:C,gridCellId:o,gutterSizeOffset:eg,inlineMarkersRef:ev,cellRef:ey,fileAnchor:R,dispatchMarkersStatus:ri.l,lineMarkersKey:G,annotations:q,conversationListThreads:H,filePath:N,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:C.type,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,viewerData:Q,children:et&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,i.jsx)(nu,{diffLine:C,diffAnchor:R,batchingEnabled:!0,filePath:N,focusOnMount:!1,isLeftSide:!0,isInDialogMode:!1,isOpen:!0,lineNumber:C.left??void 0,viewerData:Q,onCloseCommentDialog:()=>en(!1)})})}),ei&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{en(!0),ec(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:ey,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:R,diffLine:C,threads:H,annotations:q,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:!0,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:k}}),(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:k}})]}),w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:A},children:(0,i.jsx)("code",{children:w.right})}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:O},onMouseEnter:()=>eo(!0),onMouseLeave:()=>eo(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===w.type,deletion:"DELETION"===w.type}),children:[U&&(0,i.jsx)("span",{className:"diff-text-marker",children:V}),(0,i.jsx)(eZ.$6,{html:B,className:"diff-text-inner"})]}),eu&&(0,i.jsx)(io,{diffLine:w,gridCellId:P,gutterSizeOffset:eb,inlineMarkersRef:ev,cellRef:ey,fileAnchor:R,dispatchMarkersStatus:ri.l,lineMarkersKey:X,annotations:Y,conversationListThreads:J,filePath:N,viewerData:Q,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:w.type,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,children:er&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,i.jsx)(nu,{diffLine:w,diffAnchor:R,batchingEnabled:!0,filePath:N,focusOnMount:!1,isLeftSide:!1,isInDialogMode:!1,isOpen:!0,lineNumber:w.right??void 0,viewerData:{avatarUrl:S??"",login:L??""},onCloseCommentDialog:()=>es(!1)})})}),el&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{es(!0),em(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:ey,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:"diff-blah",diffLine:w,threads:J,annotations:Y,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:!1,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:A}}),(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:A}})]})]})}),j[33]=S,j[34]=R,j[35]=N,j[36]=I,j[37]=ei,j[38]=et,j[39]=el,j[40]=er,j[41]=q,j[42]=o,j[43]=T,j[44]=eg,j[45]=C,j[46]=F,j[47]=G,j[48]=k,j[49]=$,j[50]=H,j[51]=Y,j[52]=P,j[53]=O,j[54]=eb,j[55]=w,j[56]=B,j[57]=X,j[58]=A,j[59]=V,j[60]=J,j[61]=ed,j[62]=M,j[63]=eu,j[64]=U,j[65]=L,j[66]=Q,j[67]=y):y=j[67],y}:function({leftDiffLine:e,rightDiffLine:t,filePath:n,avatarURL:a,userLogin:r,viewerCanApplySuggestion:s}){let o=e?.type==="HUNK",d=Z(),c=e?(0,E.Yf)(e.type,!0,!1):"",u=t?(0,E.Yf)(t.type,!0,!1):"",m=e?(0,E.Yf)(e.type,!1,!1):"",f=t?(0,E.Yf)(t.type,!1,!1):"",h=e?(0,E.qX)(d,e,t):"",p=(0,E.u6)(h,1),g=(0,E.u6)(h,3),[x,v]=e?(0,E.x_)(e.html,e.type):[void 0,void 0],y=v&&["+","-"].includes(v),[j,C]=t?(0,E.x_)(t.html,t.type):[void 0,void 0],w=C&&["+","-"].includes(C),N=e?(0,E.oH)(e.left,"LEFT"):void 0,{threads:S,annotations:L}=(0,_.rP)(n,N??""),D={avatarUrl:a??"",login:r??"",viewerCanApplySuggestion:s??!1},I=t?(0,E.oH)(t.right,"RIGHT"):void 0,{threads:R,annotations:k,commentsPreference:A}=(0,_.rP)(n,I??""),[T,O]=(0,l.useState)(!1),[P,F]=(0,l.useState)(!1),[$,M]=(0,l.useState)(!1),[B,V]=(0,l.useState)(!1),[U,G]=(0,l.useState)(S.length>0||L.length>0),[H,q]=(0,l.useState)(R.length>0||k.length>0),z=S.length+L.length!==0,K=R.length+k.length!==0,W=(0,E.S4)({hasThreads:z&&A===ip.sI.Collapsed}),Q=(0,E.S4)({hasThreads:K&&A===ip.sI.Collapsed}),X=(0,l.useRef)(null),J=(0,l.useRef)(null);return(0,i.jsx)("tr",{className:"diff-line-row",children:o?(0,i.jsx)("td",{colSpan:4,className:"flex-grow-0 bgColor-accent-muted",children:(0,i.jsx)("div",{className:"d-flex flex-row",children:(0,i.jsx)("code",{className:"diff-text-cell hunk",children:(0,i.jsx)(eZ.$6,{className:"diff-text-inner color-fg-muted",html:e.html})})})}):(0,i.jsxs)(i.Fragment,{children:[e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:c},children:(0,i.jsx)("code",{children:e.left})}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:m},onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===e.type,deletion:"DELETION"===e.type}),children:[y&&(0,i.jsx)("span",{className:"diff-text-marker",children:v}),(0,i.jsx)(eZ.$6,{html:x,className:"diff-text-inner"})]}),U&&(0,i.jsx)(io,{diffLine:e,gridCellId:p,gutterSizeOffset:W,inlineMarkersRef:X,cellRef:J,fileAnchor:d,dispatchMarkersStatus:ri.l,lineMarkersKey:N,annotations:L,conversationListThreads:S,filePath:n,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:e.type,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,viewerData:D,children:T&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,i.jsx)(nu,{diffLine:e,diffAnchor:d,batchingEnabled:!0,filePath:n,focusOnMount:!1,isLeftSide:!0,isInDialogMode:!1,isOpen:!0,lineNumber:e.left??void 0,viewerData:D,onCloseCommentDialog:()=>O(!1)})})}),P&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{O(!0),G(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:J,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:d,diffLine:e,threads:S,annotations:L,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:!0,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:c}}),(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:c}})]}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{className:"text-center v-align-top",style:{backgroundColor:u},children:(0,i.jsx)("code",{children:t.right})}),(0,i.jsxs)("td",{className:"diff-text-cell",style:{backgroundColor:f},onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),children:[(0,i.jsxs)("code",{className:(0,b.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===t.type,deletion:"DELETION"===t.type}),children:[w&&(0,i.jsx)("span",{className:"diff-text-marker",children:C}),(0,i.jsx)(eZ.$6,{html:j,className:"diff-text-inner"})]}),H&&(0,i.jsx)(io,{diffLine:t,gridCellId:g,gutterSizeOffset:Q,inlineMarkersRef:X,cellRef:J,fileAnchor:d,dispatchMarkersStatus:ri.l,lineMarkersKey:I,annotations:k,conversationListThreads:R,filePath:n,viewerData:D,onCloseFocusMode:ri.l,isRowSelected:!1,lineType:t.type,onCloseConversationList:ri.l,onDeleteLineComment:ri.l,children:$&&(0,i.jsx)("div",{className:(0,b.$)(" border rounded-2 color-border-default","mt-2 mb-1"),children:(0,i.jsx)(nu,{diffLine:t,diffAnchor:d,batchingEnabled:!0,filePath:n,focusOnMount:!1,isLeftSide:!1,isInDialogMode:!1,isOpen:!0,lineNumber:t.right??void 0,viewerData:{avatarUrl:a??"",login:r??""},onCloseCommentDialog:()=>M(!1)})})}),B&&(0,i.jsx)(rl,{openStartConversationDialog:()=>{M(!0),q(!0)},authorAvatarUrl:"undefined",authorLogin:"undefined",ref:J,copilotChatReference:void 0,currentHunk:void 0,diffAnchor:"diff-blah",diffLine:t,threads:R,annotations:k,handleCopyCode:ri.l,hasDraftComment:!1,isLeftSide:!1,isSplit:!1,nextHunk:void 0,previousHunk:void 0,showStartConversation:!0,shouldDisplayMinimizedComments:!1,shouldDisplayCollapseComments:!0,toggleViewingMarkers:ri.l,viewerData:{avatarUrl:"string",diffViewPreference:"string",lineSpacingPreference:"compact",login:"string",shouldDisplayComments:!0,shouldDisplayEditOptions:!0,tabSizePreference:8,viewerCanComment:!0,viewerCanApplySuggestion:!0}})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:u}}),(0,i.jsx)("td",{style:{userSelect:"none",position:"relative",backgroundColor:u}})]})]})})};try{rc.displayName||(rc.displayName="SimpleSplitDiffRow")}catch{}function ru(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(void 0);for(;n.length<t.length;)n.push(void 0)};for(let a of e)switch(a.type){case"ADDITION":n.push(a);break;case"DELETION":t.push(a);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(a),n.push(a)}return i(),{leftLines:t,rightLines:n}}let rm=(0,a.GV)()?function(e){let t,n,i=(0,r.c)(5);i[0]!==e?(t=ru(e),i[0]=e,i[1]=t):t=i[1];let{leftLines:a,rightLines:s}=t;return i[2]!==a||i[3]!==s?(n={leftLines:a,rightLines:s},i[2]=a,i[3]=s,i[4]=n):n=i[4],n}:function(e){let{leftLines:t,rightLines:n}=(0,l.useMemo)(()=>ru(e),[e]);return{leftLines:t,rightLines:n}},rf=(0,a.GV)()?function(e){let t,n=(0,r.c)(7),{diffLines:a,filePath:s,avatarURL:l,userLogin:o,viewerCanApplySuggestion:d}=e,{leftLines:c,rightLines:u}=rm(a);return n[0]!==l||n[1]!==s||n[2]!==c||n[3]!==u||n[4]!==o||n[5]!==d?(t=c.map((e,t)=>{let n=c[t],a=u[t],r=`${(0,E.Po)(n)||!n?`empty-left-diff-${t}`:n.blobLineNumber}-${(0,E.Po)(a)||!a?`empty-right-diff-${t}`:a.blobLineNumber}`;return(0,i.jsx)(rc,{leftDiffLine:n,rightDiffLine:a,filePath:s,avatarURL:l,userLogin:o,viewerCanApplySuggestion:d},r)}),n[0]=l,n[1]=s,n[2]=c,n[3]=u,n[4]=o,n[5]=d,n[6]=t):t=n[6],t}:function({diffLines:e,filePath:t,avatarURL:n,userLogin:a,viewerCanApplySuggestion:r}){let{leftLines:s,rightLines:l}=rm(e);return s.map((e,o)=>{let d=s[o],c=l[o],u=`${(0,E.Po)(d)||!d?`empty-left-diff-${o}`:d.blobLineNumber}-${(0,E.Po)(c)||!c?`empty-right-diff-${o}`:c.blobLineNumber}`;return(0,i.jsx)(rc,{leftDiffLine:d,rightDiffLine:c,filePath:t,avatarURL:n,userLogin:a,viewerCanApplySuggestion:r},u)})};try{rf.displayName||(rf.displayName="SimpleSplitDiffLines")}catch{}let rh=(0,a.GV)()?function(e){let t,n=(0,r.c)(3),{diffAnchor:a,children:s}=e;return n[0]!==s||n[1]!==a?(t=(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":a,children:s}),n[0]=s,n[1]=a,n[2]=t):t=n[2],t}:function({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})},rp=(0,l.memo)((0,a.GV)()?function(e){let t,n=(0,r.c)(39),{diffEntryData:a,diffLinesManuallyUnhidden:s,baseHelpUrl:l,onHandleLoadDiff:o,copilotChatReference:d,hasExpandedAllRanges:c,isSplitView:u,subjectId:m,viewerData:f}=e,h=`diff-${a.pathDigest}`;if(a.isBinary){let e;return n[0]!==h?(e=(0,i.jsx)(rh,{diffAnchor:h,children:"Binary file not shown."}),n[0]=h,n[1]=e):e=n[1],e}if((0,e0.dK)(a)){let e;return n[2]!==h?(e=(0,i.jsx)(rh,{diffAnchor:h,children:"File renamed without changes."}),n[2]=h,n[3]=e):e=n[3],e}if((0,e0.Jc)(a)){let e;return n[4]!==h?(e=(0,i.jsx)(rh,{diffAnchor:h,children:"File copied without changes."}),n[4]=h,n[5]=e):e=n[5],e}if((0,e0.Sn)(a,a.status,a.oldTreeEntry?.mode,a.newTreeEntry?.mode)){let e;return n[6]!==h?(e=(0,i.jsx)(rh,{diffAnchor:h,children:"File mode changed."}),n[6]=h,n[7]=e):e=n[7],e}if(!s&&(0,e0.HI)(a)){let e,t,r=a.truncatedReason;return n[8]!==r?(e=(0,e0.l_)(r),n[8]=r,n[9]=e):e=n[9],n[10]!==h||n[11]!==o||n[12]!==e?(t=(0,i.jsx)(e6,{diffAnchor:h,onLoadDiff:o,children:e}),n[10]=h,n[11]=o,n[12]=e,n[13]=t):t=n[13],t}if((0,e0.s8)(a)){let e;return n[14]!==h?(e=(0,i.jsx)(rh,{diffAnchor:h,children:"Whitespace-only changes."}),n[14]=h,n[15]=e):e=n[15],e}if(!s&&(0,e0.lO)(a)){let e;return n[16]!==h||n[17]!==o?(e=(0,i.jsx)(e6,{diffAnchor:h,onLoadDiff:o,children:"This file was deleted."}),n[16]=h,n[17]=o,n[18]=e):e=n[18],e}if(!s&&(0,e0.xW)(a)){let e,t=`${l}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`;return n[19]!==h||n[20]!==o||n[21]!==t?(e=(0,i.jsxs)(e6,{diffAnchor:h,helpText:"customizing how changed files appear on GitHub.",helpUrl:t,onLoadDiff:o,children:["Some generated files are not rendered by default. Learn more about"," "]}),n[19]=h,n[20]=o,n[21]=t,n[22]=e):e=n[22],e}if(a.isTooBig&&0===a.diffLines.length)if(s){let e,t,a=`${l}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`;return n[23]!==a?(e=(0,i.jsx)(e3.A,{inline:!0,href:a,children:"check out this pull request locally."}),n[23]=a,n[24]=e):e=n[24],n[25]!==h||n[26]!==e?(t=(0,i.jsxs)(rh,{diffAnchor:h,children:["Diff is too big to render. To view,"," ",e]}),n[25]=h,n[26]=e,n[27]=t):t=n[27],t}else{let e;return n[28]!==h||n[29]!==o?(e=(0,i.jsx)(e6,{diffAnchor:h,onLoadDiff:o,children:"Large diffs are not rendered by default."}),n[28]=h,n[29]=o,n[30]=e):e=n[30],e}return a.diffLines?(n[31]!==d||n[32]!==h||n[33]!==a||n[34]!==c||n[35]!==u||n[36]!==m||n[37]!==f?(t=(0,i.jsx)(rg,{diffAnchor:h,diffEntryData:a,viewerData:f,copilotChatReference:d,hasExpandedAllRanges:c,isSplitView:u,subjectId:m}),n[31]=d,n[32]=h,n[33]=a,n[34]=c,n[35]=u,n[36]=m,n[37]=f,n[38]=t):t=n[38],t):null}:function({diffEntryData:e,diffLinesManuallyUnhidden:t,baseHelpUrl:n,onHandleLoadDiff:a,copilotChatReference:r,hasExpandedAllRanges:s,isSplitView:l,subjectId:o,viewerData:d}){let c=`diff-${e.pathDigest}`;if(e.isBinary)return(0,i.jsx)(rh,{diffAnchor:c,children:"Binary file not shown."});if((0,e0.dK)(e))return(0,i.jsx)(rh,{diffAnchor:c,children:"File renamed without changes."});if((0,e0.Jc)(e))return(0,i.jsx)(rh,{diffAnchor:c,children:"File copied without changes."});if((0,e0.Sn)(e,e.status,e.oldTreeEntry?.mode,e.newTreeEntry?.mode))return(0,i.jsx)(rh,{diffAnchor:c,children:"File mode changed."});if(!t&&(0,e0.HI)(e))return(0,i.jsx)(e6,{diffAnchor:c,onLoadDiff:a,children:(0,e0.l_)(e.truncatedReason)});if((0,e0.s8)(e))return(0,i.jsx)(rh,{diffAnchor:c,children:"Whitespace-only changes."});if(!t&&(0,e0.lO)(e))return(0,i.jsx)(e6,{diffAnchor:c,onLoadDiff:a,children:"This file was deleted."});if(!t&&(0,e0.xW)(e))return(0,i.jsxs)(e6,{diffAnchor:c,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${n}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:a,children:["Some generated files are not rendered by default. Learn more about"," "]});if(e.isTooBig&&0===e.diffLines.length)if(t)return(0,i.jsxs)(rh,{diffAnchor:c,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(e3.A,{inline:!0,href:`${n}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]});else return(0,i.jsx)(e6,{diffAnchor:c,onLoadDiff:a,children:"Large diffs are not rendered by default."});return e.diffLines?(0,i.jsx)(rg,{diffAnchor:c,diffEntryData:e,viewerData:d,copilotChatReference:r,hasExpandedAllRanges:s,isSplitView:l,subjectId:o}):null}),rg=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u,m,h,p,x,v,y,j,C,w,N,S=(0,r.c)(61),{diffAnchor:L,viewerData:D,diffEntryData:_,copilotChatReference:I,hasExpandedAllRanges:R,isSplitView:k,subjectId:A}=e,E=(0,l.useRef)(null),{clearSelectedLines:T}=Y(),[O,P]=(0,l.useState)(null),[F,$]=(0,l.useState)(!1),M=_.newTreeEntry?.lineCount??_.oldTreeEntry?.lineCount??0;S[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,e4.G7)("pr_simple_diffs"),S[0]=t):t=S[0];let B=t;e:{let e=_.diffLines[_.diffLines.length-1];if(e?.blobLineNumber&&e.blobLineNumber<M){let t;S[1]!==_.diffLines||S[2]!==e.blobLineNumber?(t=_.diffLines.concat({__id:e7,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}),S[1]=_.diffLines,S[2]=e.blobLineNumber,S[3]=t):t=S[3],n=t;break e}n=_.diffLines}let V=n,{lineSpacingPreference:U,tabSizePreference:G}=D,H=q();S[4]!==T||S[5]!==H?(a=e=>{if(!E.current||!e.target)return;let t=e.target;!E.current.contains(t)&&(t.closest("td.diff-line-number")||t.closest("[data-add-comment-button]"))&&H()&&(T(),ej(),(0,f.K3)())},S[4]=T,S[5]=H,S[6]=a):a=S[6];let z=a;S[7]!==z?(s=()=>(g.XC?.addEventListener("mousedown",z),()=>{g.XC?.removeEventListener("mousedown",z)}),o=[z],S[7]=z,S[8]=s,S[9]=o):(s=S[8],o=S[9]),(0,l.useEffect)(s,o);t:{let e,t=_.status,n=_.oldTreeEntry?.path,i=_.newTreeEntry?.path;if(!n&&!i){d=void 0;break t}e="RENAMED"===t?`${n} renamed to ${i}`:"DELETED"===t||"REMOVED"===t?n:i,d=`Diff for: ${e}`}let K=d;S[10]!==V?(c=(0,e2.c7)(V),S[10]=V,S[11]=c):c=S[11];let W=c;S[12]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{P(e)},S[12]=u):u=S[12];let Z=u;S[13]!==_.path||S[14]!==R?(m=e=>{if(e.shiftKey&&e.metaKey&&"ArrowLeft"===e.key&&!R&&e.target?.getAttribute("role")==="gridcell"){let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${_.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},S[13]=_.path,S[14]=R,S[15]=m):m=S[15];let Q=m;S[16]!==O||S[17]!==k?(h=e=>{let t=document.getSelection();if(t){let n=[];for(let e=0;e<t.rangeCount;e++){let i=t.getRangeAt(e).cloneContents();if(i.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${k?`, ${"left"===O?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of i.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of i.children){if(0===e.querySelectorAll("td.diff-text-cell").length)continue;let t=e.textContent;`
`===t?n.push(""):n.push(t)}}else if(1===t.rangeCount){let e=t.toString();if(!e)continue;n.push(e)}else{let e=i.textContent;if(!e)continue;n.push(e)}}e.clipboardData.setData("text/plain",n.join(`
`)),e.preventDefault()}},S[16]=O,S[17]=k,S[18]=h):h=S[18];let X=h;S[19]!==V?(p=V.some(rx),S[19]=V,S[20]=p):p=S[20];let J=p;S[21]!==I||S[22]!==L||S[23]!==_.path||S[24]!==J||S[25]!==V||S[26]!==M||S[27]!==F||S[28]!==A||S[29]!==D?(x={diffHasHiddenUnicodeCharacters:J,diffLines:V,fileAnchor:L,fileLineCount:M,filePath:_.path,handleDiffSideCellSelectionBlocking:Z,showHiddenUnicode:F,tableRef:E,copilotChatReference:I,subjectId:A,viewerData:D},S[21]=I,S[22]=L,S[23]=_.path,S[24]=J,S[25]=V,S[26]=M,S[27]=F,S[28]=A,S[29]=D,S[30]=x):x=S[30];let ee=x;S[31]!==J||S[32]!==F?(v=J&&(0,i.jsx)(rn.a,{isShown:F,toggleShowHiddenCharacters:()=>$(!F)}),S[31]=J,S[32]=F,S[33]=v):v=S[33];let et="compact"===U;S[34]!==et?(y=(0,b.$)("tab-size","width-full",re,{[rt]:et}),S[34]=et,S[35]=y):y=S[35];let en=`${W}px`,ei=`${2*parseFloat(W)}px`;return S[36]!==en||S[37]!==ei?(j={"--line-number-cell-width":en,"--line-number-cell-width-unified":ei},S[36]=en,S[37]=ei,S[38]=j):j=S[38],S[39]!==_.path||S[40]!==V||S[41]!==ee||S[42]!==k||S[43]!==W||S[44]!==D.avatarUrl||S[45]!==D.login||S[46]!==D.viewerCanApplySuggestion?(C=k?(0,i.jsx)(e1.wj,{lineWidth:W,children:B?(0,i.jsx)(rf,{diffLines:V,filePath:_.path,avatarURL:D.avatarUrl,userLogin:D.login,viewerCanApplySuggestion:D.viewerCanApplySuggestion}):(0,i.jsx)(a6,{...ee})}):(0,i.jsx)(e1.Qe,{lineWidth:W,children:B?(0,i.jsx)(rd,{diffLines:V,filePath:_.path,avatarURL:D.avatarUrl,userLogin:D.login,viewerCanApplySuggestion:D.viewerCanApplySuggestion}):(0,i.jsx)(a8,{...ee})}),S[39]=_.path,S[40]=V,S[41]=ee,S[42]=k,S[43]=W,S[44]=D.avatarUrl,S[45]=D.login,S[46]=D.viewerCanApplySuggestion,S[47]=C):C=S[47],S[48]!==L||S[49]!==O||S[50]!==Q||S[51]!==X||S[52]!==y||S[53]!==j||S[54]!==C||S[55]!==G||S[56]!==K?(w=(0,i.jsx)("table",{"aria-label":K,onKeyDown:Q,ref:E,className:y,"data-block-diff-cell-selection":O,"data-diff-anchor":L,"data-tab-size":G,"data-paste-markdown-skip":!0,onCopy:X,role:"grid",style:j,children:C}),S[48]=L,S[49]=O,S[50]=Q,S[51]=X,S[52]=y,S[53]=j,S[54]=C,S[55]=G,S[56]=K,S[57]=w):w=S[57],S[58]!==v||S[59]!==w?(N=(0,i.jsxs)(i.Fragment,{children:[v,w]}),S[58]=v,S[59]=w,S[60]=N):N=S[60],N}:function({diffAnchor:e,viewerData:t,diffEntryData:n,copilotChatReference:a,hasExpandedAllRanges:r,isSplitView:s,subjectId:o}){let d=(0,l.useRef)(null),{clearSelectedLines:c}=Y(),[u,m]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),x=n.newTreeEntry?.lineCount??n.oldTreeEntry?.lineCount??0,v=(0,e4.G7)("pr_simple_diffs"),y=(0,l.useMemo)(()=>{let e=n.diffLines[n.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<x?n.diffLines.concat({__id:e7,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):n.diffLines},[n.diffLines,x]),{lineSpacingPreference:j,tabSizePreference:C}=t,w=q(),N=(0,l.useCallback)(e=>{if(!d.current||!e.target)return;let t=e.target;!d.current.contains(t)&&(t.closest("td.diff-line-number")||t.closest("[data-add-comment-button]"))&&w()&&(c(),ej(),(0,f.K3)())},[c,w]);(0,l.useEffect)(()=>(g.XC?.addEventListener("mousedown",N),()=>{g.XC?.removeEventListener("mousedown",N)}),[N]);let S=(0,l.useMemo)(()=>{let e,t=n.status,i=n.oldTreeEntry?.path,a=n.newTreeEntry?.path;if(i||a)return e="RENAMED"===t?`${i} renamed to ${a}`:"DELETED"===t||"REMOVED"===t?i:a,`Diff for: ${e}`},[n]),L=(0,e2.c7)(y),D=(0,l.useCallback)(e=>{m(e)},[m]),_=(0,l.useCallback)(e=>{if(e.shiftKey&&e.metaKey&&"ArrowLeft"===e.key&&!r&&e.target?.getAttribute("role")==="gridcell"){let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${n.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},[r,n.path]),I=(0,l.useCallback)(e=>{let t=document.getSelection();if(t){let n=[];for(let e=0;e<t.rangeCount;e++){let i=t.getRangeAt(e).cloneContents();if(i.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${s?`, ${"left"===u?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of i.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of i.children){if(0===e.querySelectorAll("td.diff-text-cell").length)continue;let t=e.textContent;`
`===t?n.push(""):n.push(t)}}else if(1===t.rangeCount){let e=t.toString();if(!e)continue;n.push(e)}else{let e=i.textContent;if(!e)continue;n.push(e)}}e.clipboardData.setData("text/plain",n.join(`
`)),e.preventDefault()}},[u,s]),R=(0,l.useMemo)(()=>y.some(e=>(0,tq.Y)(e.text)),[y]),k={diffHasHiddenUnicodeCharacters:R,diffLines:y,fileAnchor:e,fileLineCount:x,filePath:n.path,handleDiffSideCellSelectionBlocking:D,showHiddenUnicode:h,tableRef:d,copilotChatReference:a,subjectId:o,viewerData:t};return(0,i.jsxs)(i.Fragment,{children:[R&&(0,i.jsx)(rn.a,{isShown:h,toggleShowHiddenCharacters:()=>p(!h)}),(0,i.jsx)("table",{"aria-label":S,onKeyDown:_,ref:d,className:(0,b.$)("tab-size","width-full",re,{[rt]:"compact"===j}),"data-block-diff-cell-selection":u,"data-diff-anchor":e,"data-tab-size":C,"data-paste-markdown-skip":!0,onCopy:I,role:"grid",style:{"--line-number-cell-width":`${L}px`,"--line-number-cell-width-unified":`${2*parseFloat(L)}px`},children:s?(0,i.jsx)(e1.wj,{lineWidth:L,children:v?(0,i.jsx)(rf,{diffLines:y,filePath:n.path,avatarURL:t.avatarUrl,userLogin:t.login,viewerCanApplySuggestion:t.viewerCanApplySuggestion}):(0,i.jsx)(a6,{...k})}):(0,i.jsx)(e1.Qe,{lineWidth:L,children:v?(0,i.jsx)(rd,{diffLines:y,filePath:n.path,avatarURL:t.avatarUrl,userLogin:t.login,viewerCanApplySuggestion:t.viewerCanApplySuggestion}):(0,i.jsx)(a8,{...k})})})]})};function rx(e){return(0,tq.Y)(e.text)}try{rh.displayName||(rh.displayName="PlainTextStatus")}catch{}try{rp.displayName||(rp.displayName="DiffLines")}catch{}try{rg.displayName||(rg.displayName="CodeDiffLines")}catch{}var rb=n(8431),rv=n(46251),ry=n(78049);let rj="SubmoduleDiff-module__filesActionList--sbPQt",rC="SubmoduleDiff-module__fileRowLinkItem--Z1ES5",rw="SubmoduleDiff-module__path--hB1wm",rN="SubmoduleDiff-module__fileRow--Y9n2E",rS="SubmoduleDiff-module__linesAdded--tJqtP",rL="SubmoduleDiff-module__linesDeleted--nr9cp",rD=(0,a.GV)()?function(e){let t,n,a,s,l,o,d=(0,r.c)(28),{submodule:u}=e,{basePath:m,changedFiles:f,contentsUrl:h,newCommitOid:p,oldCommitOid:g,status:x,submoduleUrl:b}=u,v=u.summary.length>0&&u.contentsUrl&&"MODIFIED"===x;switch(x){case"ADDED":{let e;d[0]!==h||d[1]!==p?(e=(0,i.jsx)(rR,{commitOid:p,contentsUrl:h,type:"added"}),d[0]=h,d[1]=p,d[2]=e):e=d[2],t=e;break}case"DELETED":case"REMOVED":{let e;d[3]!==h||d[4]!==g?(e=(0,i.jsx)(rR,{commitOid:g,contentsUrl:h,type:"deleted"}),d[3]=h,d[4]=g,d[5]=e):e=d[5],t=e;break}default:{let e;d[6]!==f||d[7]!==h||d[8]!==p||d[9]!==g?(e=(0,i.jsx)(rk,{newCommitOid:p,oldCommitOid:g,changedFiles:f,contentsUrl:h}),d[6]=f,d[7]=h,d[8]=p,d[9]=g,d[10]=e):e=d[10],t=e}}let y=t,j=`px-3 py-2 ${v?"border-bottom bgColor-muted":""}`;return d[11]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(c.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),d[11]=n):n=d[11],d[12]!==m||d[13]!==b?(a=(0,i.jsx)(r_,{basePath:m,submoduleUrl:b}),d[12]=m,d[13]=b,d[14]=a):a=d[14],d[15]!==y||d[16]!==j||d[17]!==a?(s=(0,i.jsxs)("div",{className:j,children:[n,a,y]}),d[15]=y,d[16]=j,d[17]=a,d[18]=s):s=d[18],d[19]!==h||d[20]!==p||d[21]!==g||d[22]!==v||d[23]!==u.summary?(l=v&&(0,i.jsx)(eO.l,{className:rj,showDividers:!0,variant:"full",children:u.summary.map(e=>(0,i.jsx)(rA,{compareUrl:`${h}/compare/${g}...${p}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))}),d[19]=h,d[20]=p,d[21]=g,d[22]=v,d[23]=u.summary,d[24]=l):l=d[24],d[25]!==s||d[26]!==l?(o=(0,i.jsxs)("div",{children:[s,l]}),d[25]=s,d[26]=l,d[27]=o):o=d[27],o}:function({submodule:e}){let{basePath:t,changedFiles:n,contentsUrl:a,newCommitOid:r,oldCommitOid:s,status:o,submoduleUrl:d}=e,u=e.summary.length>0&&e.contentsUrl&&"MODIFIED"===o,m=(0,l.useMemo)(()=>{switch(o){case"ADDED":return(0,i.jsx)(rR,{commitOid:r,contentsUrl:a,type:"added"});case"DELETED":case"REMOVED":return(0,i.jsx)(rR,{commitOid:s,contentsUrl:a,type:"deleted"});default:return(0,i.jsx)(rk,{newCommitOid:r,oldCommitOid:s,changedFiles:n,contentsUrl:a})}},[r,s,o,n,a]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:`px-3 py-2 ${u?"border-bottom bgColor-muted":""}`,children:[(0,i.jsx)(c.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),(0,i.jsx)(r_,{basePath:t,submoduleUrl:d}),m]}),u&&(0,i.jsx)(eO.l,{className:rj,showDividers:!0,variant:"full",children:e.summary.map(e=>(0,i.jsx)(rA,{compareUrl:`${a}/compare/${s}...${r}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))})]})},r_=(0,a.GV)()?function(e){let t,n,a=(0,r.c)(5),{basePath:s,submoduleUrl:l}=e;return a[0]!==s||a[1]!==l?(t=l?(0,i.jsx)(e3.A,{inline:!0,href:l,children:s}):s,a[0]=s,a[1]=l,a[2]=t):t=a[2],a[3]!==t?(n=(0,i.jsxs)(i.Fragment,{children:["Submodule"," ",t," "]}),a[3]=t,a[4]=n):n=a[4],n}:function({basePath:e,submoduleUrl:t}){return(0,i.jsxs)(i.Fragment,{children:["Submodule"," ",t?(0,i.jsx)(e3.A,{inline:!0,href:t,children:e}):e," "]})};function rI(e){return e.slice(0,7)}let rR=(0,a.GV)()?function(e){let t=(0,r.c)(13),{commitOid:n,contentsUrl:a,type:s}=e,l=void 0===n?"":n,o="added"===s?"added at":"deleted from";if(a){let e,n,r,s=`${a}/tree/${l}`;return t[0]!==l?(e=rI(l),t[0]=l,t[1]=e):e=t[1],t[2]!==s||t[3]!==e?(n=(0,i.jsx)(e3.A,{inline:!0,href:s,children:e}),t[2]=s,t[3]=e,t[4]=n):n=t[4],t[5]!==n||t[6]!==o?(r=(0,i.jsxs)(i.Fragment,{children:[o," ",n]}),t[5]=n,t[6]=o,t[7]=r):r=t[7],r}{let e,n;return t[8]!==l?(e=rI(l),t[8]=l,t[9]=e):e=t[9],t[10]!==e||t[11]!==o?(n=(0,i.jsxs)(i.Fragment,{children:[o," ",e]}),t[10]=e,t[11]=o,t[12]=n):n=t[12],n}}:function({commitOid:e="",contentsUrl:t,type:n}){let a="added"===n?"added at":"deleted from";return t?(0,i.jsxs)(i.Fragment,{children:[a," ",(0,i.jsx)(e3.A,{inline:!0,href:`${t}/tree/${e}`,children:rI(e)})]}):(0,i.jsxs)(i.Fragment,{children:[a," ",rI(e)]})},rk=(0,a.GV)()?function(e){let t,n,a,s=(0,r.c)(12),{newCommitOid:l,oldCommitOid:o,changedFiles:d,contentsUrl:c}=e,u=void 0===l?"":l,m=void 0===o?"":o,f=void 0===d?0:d;s[0]!==f||s[1]!==c||s[2]!==u||s[3]!==m?(t=f>0&&c?`${f} ${1===f?"file":"files"}`:`from ${rI(m)} to ${rI(u)}`,s[0]=f,s[1]=c,s[2]=u,s[3]=m,s[4]=t):t=s[4];let h=t;return s[5]!==h||s[6]!==c||s[7]!==u||s[8]!==m?(n=c?(0,i.jsx)(e3.A,{inline:!0,href:`${c}/compare/${m}...${u}`,children:h}):h,s[5]=h,s[6]=c,s[7]=u,s[8]=m,s[9]=n):n=s[9],s[10]!==n?(a=(0,i.jsxs)(i.Fragment,{children:["updated"," ",n]}),s[10]=n,s[11]=a):a=s[11],a}:function({newCommitOid:e="",oldCommitOid:t="",changedFiles:n=0,contentsUrl:a}){let r=n>0&&a?`${n} ${1===n?"file":"files"}`:`from ${rI(t)} to ${rI(e)}`;return(0,i.jsxs)(i.Fragment,{children:["updated"," ",a?(0,i.jsx)(e3.A,{inline:!0,href:`${a}/compare/${t}...${e}`,children:r}):r]})},rA=(0,a.GV)()?function(e){let t,n,a,l,o,d,c=(0,r.c)(16),{compareUrl:u,linesAdded:m,linesDeleted:f,path:h,pathDigest:p,status:g}=e,x=`${u}#diff-${p}`;return c[0]!==g?(t=(0,i.jsx)(ry.E,{status:g}),c[0]=g,c[1]=t):t=c[1],c[2]!==h?(n=(0,i.jsx)("span",{className:rw,children:h}),c[2]=h,c[3]=n):n=c[3],c[4]!==m||c[5]!==f?(a=(m>0||f>0)&&(0,i.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,i.jsx)("div",{className:rS,children:m>0&&(0,i.jsxs)(s.C,{isAddition:!0,children:["+",rE(m)]})}),(0,i.jsx)("div",{className:rL,children:f>0&&(0,i.jsxs)(s.C,{isAddition:!1,children:["-",rE(f)]})})]}),c[4]=m,c[5]=f,c[6]=a):a=c[6],c[7]!==n||c[8]!==a?(l=(0,i.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[n,a]}),c[7]=n,c[8]=a,c[9]=l):l=c[9],c[10]!==t||c[11]!==l?(o=(0,i.jsxs)(rv.B,{gap:"condensed",direction:"horizontal",align:"center",className:rN,children:[t,l]}),c[10]=t,c[11]=l,c[12]=o):o=c[12],c[13]!==x||c[14]!==o?(d=(0,i.jsx)(eO.l.LinkItem,{href:x,className:rC,children:o}),c[13]=x,c[14]=o,c[15]=d):d=c[15],d}:function({compareUrl:e,linesAdded:t,linesDeleted:n,path:a,pathDigest:r,status:l}){return(0,i.jsx)(eO.l.LinkItem,{href:`${e}#diff-${r}`,className:rC,children:(0,i.jsxs)(rv.B,{gap:"condensed",direction:"horizontal",align:"center",className:rN,children:[(0,i.jsx)(ry.E,{status:l}),(0,i.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[(0,i.jsx)("span",{className:rw,children:a}),(t>0||n>0)&&(0,i.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,i.jsx)("div",{className:rS,children:t>0&&(0,i.jsxs)(s.C,{isAddition:!0,children:["+",rE(t)]})}),(0,i.jsx)("div",{className:rL,children:n>0&&(0,i.jsxs)(s.C,{isAddition:!1,children:["-",rE(n)]})})]})]})]})})};function rE(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{rD.displayName||(rD.displayName="SubmoduleDiff")}catch{}try{r_.displayName||(r_.displayName="SubmodulePath")}catch{}try{rR.displayName||(rR.displayName="SubmoduleCommitChange")}catch{}try{rk.displayName||(rk.displayName="SubmoduleModified")}catch{}try{rA.displayName||(rA.displayName="SubmoduleFileRow")}catch{}let rT=({hasCopilotAccess:e,isBinary:t,isSubmodule:n,path:i,repository:a,status:r})=>!!e&&!t&&!n&&!!i&&"DELETED"!==r&&"REMOVED"!==r&&!!a.id&&!!a.name&&!!a.ownerLogin&&!0,rO=({newCommitOid:e,newTreeEntry:t,oldCommitOid:n,oldTreeEntry:i,path:a,pathDigest:r,repository:s})=>{let l=n&&e?(0,n1.IO9)({repo:s,commitish:n,action:"raw",path:a}):"";return{baseFile:rP({path:i?.path,oid:n,repository:s}),headFile:rP({path:t?.path,oid:e,repository:s}),baseBranchRef:n,id:`#diff-${r}`,type:"file-diff",url:l}},rP=({path:e,oid:t,repository:n})=>e&&t?{type:"file",url:(0,n1.IO9)({repo:n,commitish:t,action:"raw",path:e}),path:e,repoID:n.id,repoName:n.name,repoOwner:n.ownerLogin,ref:t,commitOID:t}:null,rF=(0,a.GV)()?function(e){let t,n=(0,r.c)(8),{isBinary:i,isSubmodule:a,path:s,status:l,repository:o,newCommitOid:d,newTreeEntry:c,oldCommitOid:u,oldTreeEntry:m,pathDigest:f,hasCopilotAccess:h}=e;e:{let e;if(!rT({isBinary:i,isSubmodule:a,path:s,status:l,repository:o,hasCopilotAccess:h})){t=void 0;break e}n[0]!==d||n[1]!==c||n[2]!==u||n[3]!==m||n[4]!==s||n[5]!==f||n[6]!==o?(e=rO({newCommitOid:d,newTreeEntry:c,oldCommitOid:u,oldTreeEntry:m,path:s,pathDigest:f,repository:o}),n[0]=d,n[1]=c,n[2]=u,n[3]=m,n[4]=s,n[5]=f,n[6]=o,n[7]=e):e=n[7],t=e}return t}:function({isBinary:e,isSubmodule:t,path:n,status:i,repository:a,newCommitOid:r,newTreeEntry:s,oldCommitOid:o,oldTreeEntry:d,pathDigest:c,hasCopilotAccess:u}){return(0,l.useMemo)(()=>{if(rT({isBinary:e,isSubmodule:t,path:n,status:i,repository:a,hasCopilotAccess:u}))return rO({newCommitOid:r,newTreeEntry:s,oldCommitOid:o,oldTreeEntry:d,path:n,pathDigest:c,repository:a})},[r,s,o,d,c,a,u,e,t,n,i])},r$="FileReviewThread-module__ReviewThreadContainer--InwxI",rM="FileReviewThread-module__ReviewThreadHeading--oFg3s",rB="FileReviewThread-module__ReviewThreadInnerContainer--jYE3S",rV="FileReviewThread-module__SpinnerWrapper--zQOoj",rU=(0,a.GV)()?function(e){let t,n,a,s,d,u,f,h,p,g,x,v,y,j,C,w,N,S,L,D,_,I,R,k,A,E,T=(0,r.c)(69);if(T[0]!==e){let{fileAnchor:i,filePath:r,thread:l,isFirstThread:o,ghostUser:c,manuallyUpdateCommentsWithThisThreadId:u,...m}=e;t=r,d=l,a=o,n=c,s=m,T[0]=e,T[1]=t,T[2]=n,T[3]=a,T[4]=s,T[5]=d}else t=T[1],n=T[2],a=T[3],s=T[4],d=T[5];let O=(0,l.useRef)(null);T[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,nO.A)("localStorage"),T[6]=u):u=T[6];let P=u,F=d?.isResolved,[$,M]=(0,l.useState)(""),[B,V]=(0,l.useState)(F??!1);T[7]!==F||T[8]!==d.id?(f=()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${d.id}`);null!==e?V(JSON.parse(e)):F&&V(!0)},h=[F,d.id],T[7]=F,T[8]=d.id,T[9]=f,T[10]=h):(f=T[9],h=T[10]),(0,l.useEffect)(f,h),T[11]!==B||T[12]!==d.id?(p=()=>{window.requestAnimationFrame(()=>{P.setItem(`reviewThreadIsCollapsed_${d.id}`,JSON.stringify(!B))}),V(rH)},T[11]=B,T[12]=d.id,T[13]=p):p=T[13];let U=p,{sendAnalyticsEvent:G}=(0,tz.s)(),{mutate:H}=(0,nY.H)(t,o.zW);T[14]!==H||T[15]!==G||T[16]!==d?(g=()=>{d&&!d.isResolved&&(H({threadId:d.id},{onError:()=>M("Failed to resolve thread"),onSuccess:()=>{V(!0),P.removeItem(`reviewThreadIsCollapsed_${d.id}`)}}),G("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},T[14]=H,T[15]=G,T[16]=d,T[17]=g):g=T[17];let q=g,{mutate:z}=(0,n0.i)(t,o.zW);T[18]!==G||T[19]!==d||T[20]!==z?(x=()=>{d&&(z({threadId:d.id},{onError:()=>M("Failed to unresolve thread"),onSuccess:()=>{V(!1),P.removeItem(`reviewThreadIsCollapsed_${d.id}`)}}),G("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))},T[18]=G,T[19]=d,T[20]=z,T[21]=x):x=T[21];let K=x;if(!d||!(d.commentsData?.comments&&d.commentsData.comments.length>0))return null;let W=d?.commentsData?.comments[0]?.reviewVariantType===nj.hH.Automated?d.commentsData?.comments[0]?.automatedComment:null,Z=W&&W.dismissable,Q=W&&W.source===nj.vk.LicenseCompliance,X=!!d.isResolved;T[22]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n2.M3)(),T[22]=v):v=T[22];let J=v;T[23]!==d.commentsData?.comments?(y=J&&d.commentsData?.comments?.some(rG),T[23]=d.commentsData?.comments,T[24]=y):y=T[24];let Y=y,ee=d.commentsData?.comments[0]?.createdAt,et=d.commentsData?.comments[0]?.author?.login??"Unknown Author",en=`${F?"Unresolve":"Resolve"} comment`;if(ee){let e;T[25]!==ee?(e=(0,nE.C)(new Date(ee)),T[25]=ee,T[26]=e):e=T[26];let t=e;en=`${F?"Unresolve":"Resolve"} ${et}'s comment, ${t}`}T[27]===Symbol.for("react.memo_cache_sentinel")?(j=(0,i.jsx)(nM,{}),T[27]=j):j=T[27],T[28]===Symbol.for("react.memo_cache_sentinel")?(C=(0,b.$)("px-1",r$),T[28]=C):C=T[28];let ei=B?"Expand comment":"Collapse comment",ea=B?c.ChevronRightIcon:c.ChevronDownIcon;return T[29]!==U||T[30]!==a||T[31]!==ei||T[32]!==ea?(w=(0,i.jsx)(m.K,{"aria-label":ei,icon:ea,size:"small",variant:"invisible",onClick:U,"data-is-first-collapse-button":a}),T[29]=U,T[30]=a,T[31]=ei,T[32]=ea,T[33]=w):w=T[33],T[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsx)("h2",{className:rM,children:"Comment on file"}),T[34]=N):N=T[34],T[35]!==d.positioning?.isOutdated?(S=d.positioning?.isOutdated&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Outdated"}),T[35]=d.positioning?.isOutdated,T[36]=S):S=T[36],T[37]!==X?(L=X&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Resolved"}),T[37]=X,T[38]=L):L=T[38],T[39]!==S||T[40]!==L?(D=(0,i.jsxs)("div",{className:rB,children:[S,L]}),T[39]=S,T[40]=L,T[41]=D):D=T[41],T[42]!==w||T[43]!==D?(_=(0,i.jsxs)("div",{className:C,children:[w,N,D]}),T[42]=w,T[43]=D,T[44]=_):_=T[44],T[45]===Symbol.for("react.memo_cache_sentinel")?(I=(0,i.jsxs)("div",{className:rV,children:[(0,i.jsx)(eQ.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),T[45]=I):I=T[45],T[46]!==$?(R=$&&(0,i.jsxs)(nF.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(c.StopIcon,{className:"mr-2"}),$]}),T[46]=$,T[47]=R):R=T[47],T[48]!==W||T[49]!==Z||T[50]!==t||T[51]!==n||T[52]!==q||T[53]!==K||T[54]!==B||T[55]!==Y||T[56]!==F||T[57]!==X||T[58]!==Q||T[59]!==en||T[60]!==s||T[61]!==d?(k=!B&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nJ,{lineMarkersKey:o.zW,batchingEnabled:!0,filePath:t,gridCellId:`${t}-file-level-markers`,isInlineComment:!1,thread:d,shouldLimitHeight:!1,...s,ghostUser:n}),Y&&!Z&&!Q&&(0,i.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,i.jsx)(e_.Q,{"aria-label":en,onClick:X?K:q,className:"mr-2",children:F?"Unresolve comment":"Resolve comment"}),X&&d.resolvedBy&&(0,i.jsxs)("span",{className:"fgColor-muted f6",children:[(0,i.jsx)("b",{children:d.resolvedBy})," marked this comment as resolved"]})]}),Z&&(0,i.jsx)(n7,{automatedComment:W,thread:d,filePath:t,lineMarkersKey:o.zW,setErrorMessage:M,setIsCollapsed:V,safeLocalStorage:P})]}),T[48]=W,T[49]=Z,T[50]=t,T[51]=n,T[52]=q,T[53]=K,T[54]=B,T[55]=Y,T[56]=F,T[57]=X,T[58]=Q,T[59]=en,T[60]=s,T[61]=d,T[62]=k):k=T[62],T[63]!==R||T[64]!==k?(A=(0,i.jsxs)(l.Suspense,{fallback:I,children:[R,k]}),T[63]=R,T[64]=k,T[65]=A):A=T[65],T[66]!==_||T[67]!==A?(E=(0,i.jsx)(nT.t,{fallback:j,children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:O,children:[_,A]})}),T[66]=_,T[67]=A,T[68]=E):E=T[68],E}:function({fileAnchor:e,filePath:t,thread:n,isFirstThread:a,ghostUser:r,manuallyUpdateCommentsWithThisThreadId:s,...d}){let u=(0,l.useRef)(null),f=(0,nO.A)("localStorage"),h=n?.isResolved,[p,g]=(0,l.useState)(""),[x,v]=(0,l.useState)(h??!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${n.id}`);null!==e?v(JSON.parse(e)):h&&v(!0)},[h,n.id]);let{sendAnalyticsEvent:y}=(0,tz.s)(),{mutate:j}=(0,nY.H)(t,o.zW),{mutate:C}=(0,n0.i)(t,o.zW);if(!n||!(n.commentsData?.comments&&n.commentsData.comments.length>0))return null;let w=n?.commentsData?.comments[0]?.reviewVariantType===nj.hH.Automated?n.commentsData?.comments[0]?.automatedComment:null,N=w&&w.dismissable,S=w&&w.source===nj.vk.LicenseCompliance,L=!!n.isResolved,D=(0,n2.M3)()&&n.commentsData?.comments?.some(e=>e.state?.toUpperCase()!=="PENDING"),_=n.commentsData?.comments[0]?.createdAt,I=n.commentsData?.comments[0]?.author?.login??"Unknown Author",R=`${h?"Unresolve":"Resolve"} comment`;if(_){let e=(0,nE.C)(new Date(_));R=`${h?"Unresolve":"Resolve"} ${I}'s comment, ${e}`}return(0,i.jsx)(nT.t,{fallback:(0,i.jsx)(nM,{}),children:(0,i.jsxs)("div",{className:"rounded-2 bgColor-default",ref:u,children:[(0,i.jsxs)("div",{className:(0,b.$)("px-1",r$),children:[(0,i.jsx)(m.K,{"aria-label":x?"Expand comment":"Collapse comment",icon:x?c.ChevronRightIcon:c.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{window.requestAnimationFrame(()=>{f.setItem(`reviewThreadIsCollapsed_${n.id}`,JSON.stringify(!x))}),v(e=>!e)},"data-is-first-collapse-button":a}),(0,i.jsx)("h2",{className:rM,children:"Comment on file"}),(0,i.jsxs)("div",{className:rB,children:[n.positioning?.isOutdated&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Outdated"}),L&&(0,i.jsx)(nP.A,{variant:"secondary",children:"Resolved"})]})]}),(0,i.jsxs)(l.Suspense,{fallback:(0,i.jsxs)("div",{className:rV,children:[(0,i.jsx)(eQ.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:[p&&(0,i.jsxs)(nF.A,{variant:"danger",className:"m-2",children:[(0,i.jsx)(c.StopIcon,{className:"mr-2"}),p]}),!x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nJ,{lineMarkersKey:o.zW,batchingEnabled:!0,filePath:t,gridCellId:`${t}-file-level-markers`,isInlineComment:!1,thread:n,shouldLimitHeight:!1,...d,ghostUser:r}),D&&!N&&!S&&(0,i.jsxs)("div",{className:"d-flex flex-items-center p-2 border-top flex-wrap",children:[(0,i.jsx)(e_.Q,{"aria-label":R,onClick:L?()=>{n&&(C({threadId:n.id},{onError:()=>g("Failed to unresolve thread"),onSuccess:()=>{v(!1),f.removeItem(`reviewThreadIsCollapsed_${n.id}`)}}),y("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{n&&!n.isResolved&&(j({threadId:n.id},{onError:()=>g("Failed to resolve thread"),onSuccess:()=>{v(!0),f.removeItem(`reviewThreadIsCollapsed_${n.id}`)}}),y("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))},className:"mr-2",children:h?"Unresolve comment":"Resolve comment"}),L&&n.resolvedBy&&(0,i.jsxs)("span",{className:"fgColor-muted f6",children:[(0,i.jsx)("b",{children:n.resolvedBy})," marked this comment as resolved"]})]}),N&&(0,i.jsx)(n7,{automatedComment:w,thread:n,filePath:t,lineMarkersKey:o.zW,setErrorMessage:g,setIsCollapsed:v,safeLocalStorage:f})]})]})]})})};function rG(e){return e.state?.toUpperCase()!=="PENDING"}function rH(e){return!e}try{rU.displayName||(rU.displayName="FileReviewThread")}catch{}let rq=(0,a.GV)()?function(e){let t,n,a,s,o,d,c,u=(0,r.c)(19);if(u[0]!==e){let{conversationListThreads:i,filePath:r,manuallyUpdateCommentsWithThisThreadId:l,ghostUser:o,...d}=e;t=i,n=r,a=o,s=d,u[0]=e,u[1]=t,u[2]=n,u[3]=a,u[4]=s}else t=u[1],n=u[2],a=u[3],s=u[4];let m=(0,l.useRef)(null);if(u[5]!==t?(o={containerRef:m,markers:t,disabled:!1,focusInStrategy:"closest"},u[5]=t,u[6]=o):o=u[6],nh(o),u[7]!==t||u[8]!==n||u[9]!==a||u[10]!==s){let e;u[12]!==t.length||u[13]!==n||u[14]!==a||u[15]!==s?(e=(e,r)=>(0,i.jsx)("div",{className:(0,b.$)("mt-1 border rounded-2 color-border-default color-shadow-small",r===t.length-1?"mb-1":"mb-2"),"data-first-marker":0===r,"data-marker-id":`${e.id}`,tabIndex:0,children:(0,i.jsx)(rU,{viewerData:s.viewerData,filePath:n,thread:e,ghostUser:a},e.id)},`review-thread-${e.id}`),u[12]=t.length,u[13]=n,u[14]=a,u[15]=s,u[16]=e):e=u[16],d=t.map(e),u[7]=t,u[8]=n,u[9]=a,u[10]=s,u[11]=d}else d=u[11];return u[17]!==d?(c=(0,i.jsx)("div",{className:"d-flex pt-1 px-1",children:(0,i.jsx)("div",{className:nk,ref:m,children:d})}),u[17]=d,u[18]=c):c=u[18],c}:function({conversationListThreads:e,filePath:t,manuallyUpdateCommentsWithThisThreadId:n,ghostUser:a,...r}){let s=(0,l.useRef)(null);return nh({containerRef:s,markers:e,disabled:!1,focusInStrategy:"closest"}),(0,i.jsx)("div",{className:"d-flex pt-1 px-1",children:(0,i.jsx)("div",{className:nk,ref:s,children:e.map((n,s)=>(0,i.jsx)("div",{className:(0,b.$)("mt-1 border rounded-2 color-border-default color-shadow-small",s===e.length-1?"mb-1":"mb-2"),"data-first-marker":0===s,"data-marker-id":`${n.id}`,tabIndex:0,children:(0,i.jsx)(rU,{viewerData:r.viewerData,filePath:t,thread:n,ghostUser:a},n.id)},`review-thread-${n.id}`))})})};try{rq.displayName||(rq.displayName="FileMarkers")}catch{}let rz=new Set,rK="b:0-l:null-r:null";function rW(e){switch(e){case"COMMIT":return"Due to the large number of changes in the selected commit, only one file is being shown at a time.";case"RANGE":return"Due to the large number of changes in the selected commit range, only one file is being shown at a time.";default:return"Due to the large number of changes in this pull request, only one file is being shown at a time."}}let rZ=(0,l.forwardRef)((0,a.GV)()?function(e,t){let n,a,d,u,m,f,h,p,x,v,y,j,C,w,N,S,L,D,I,R=(0,r.c)(133),{addFileCommentButtonRef:k,collapsed:A,currentUser:E,diffLines:T,diffManuallyExpanded:O,diffSize:P,helpUrl:F,estimatedDiffHeight:M,fileComments:B,headerStickyOffset:V,hiddenFeatures:U,isAddingFileComment:G,isBinary:H,isSelected:q,isSubmodule:z,isTooBig:K,leftSideContent:W,linesAdded:Z,linesChanged:Q,linesDeleted:X,newTreeEntry:J,newCommitOid:Y,objectId:ee,oldTreeEntry:et,oldCommitOid:en,onToggleCollapse:ei,path:ea,pathDigest:er,pullRequestGlobalRelayId:es,repository:el,richDiffState:eo,rightSideContent:ed,setIsAddingFileComment:ec,hasExpandedAllRanges:eu,expandAllContextLines:em,canExpandOrCollapseLines:ef,status:eh,submodule:ep,truncatedReason:eg,addInjectedContextLines:ex,loadDiff:eb}=e,ev=void 0===M?0:M,ey=void 0===U?rz:U,ej=void 0!==q&&q,eC=z&&!!ep,ew=!eC&&!eo?.showRichDiff,[eN,eS]=(0,l.useState)(O),eL=(0,_.j5)(),{comparisonView:eD}=(0,_.L3)();R[0]!==E.hasCopilotAccess||R[1]!==H||R[2]!==z||R[3]!==Y||R[4]!==J||R[5]!==en||R[6]!==et||R[7]!==ea||R[8]!==er||R[9]!==el||R[10]!==eh?(n={isBinary:H,isSubmodule:z,path:ea,status:eh,repository:el,newCommitOid:Y,newTreeEntry:J,oldCommitOid:en,oldTreeEntry:et,pathDigest:er,hasCopilotAccess:E.hasCopilotAccess},R[0]=E.hasCopilotAccess,R[1]=H,R[2]=z,R[3]=Y,R[4]=J,R[5]=en,R[6]=et,R[7]=ea,R[8]=er,R[9]=el,R[10]=eh,R[11]=n):n=R[11];let e_=rF(n);R[12]!==eb?(a=async()=>{await eb(),eS(!0)},R[12]=eb,R[13]=a):a=R[13];let eI=a,{baseOid:eR,headOid:ek}=(0,_.E4)(),eA=(0,eG.u)("cotd_ui");R[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,e4.G7)("pr_simple_diffs"),R[14]=d):d=R[14];let eE=d,{effectiveRange:eT}=(0,_.L3)(),{mutate:eO}=t5();R[15]!==ec?(u=()=>{ec(!0)},R[15]=ec,R[16]=u):u=R[16];let eP=u;R[17]!==eP?(m={F0:{startNewComment:eP,diffLineKey:rK}},R[17]=eP,R[18]=m):m=R[18];let eF=m;R[19]!==eA||R[20]!==eO||R[21]!==eT||R[22]!==ek||R[23]!==ea||R[24]!==ec||R[25]!==eR?(f=e=>{let{onCompleted:t,onError:n,submitBatch:i,text:a}=e;eA?eO(new ReviewCommentFactory({filePath:ea,effectiveDiffRange:eT,submitBatch:i,text:a}).fileRequestData(),{onError:n,onSuccess:e=>{t?.(e.thread.id,e.comment.databaseId),ec(!1)}}):eO({text:a,path:ea,submitBatch:i,subjectType:o.Wr.File,comparisonEndOid:ek,comparisonStartOid:eR},{onError:n,onSuccess:e=>{t?.(e.thread.id,e.comment.databaseId),ec(!1)}})},R[19]=eA,R[20]=eO,R[21]=eT,R[22]=ek,R[23]=ea,R[24]=ec,R[25]=eR,R[26]=f):f=R[26];let e$=f;R[27]!==k||R[28]!==ec?(h=()=>{ec(!1),k?.current?.focus()},R[27]=k,R[28]=ec,R[29]=h):h=R[29];let eM=h,eB=E?.avatarURL??"",eV=E?.splitPreference,eU=E?.login??"",eH=E?.lineSpacing,ez=E?.shouldDisplayComments,eK=E?.shouldDisplayEditOptions,eW=E?.tabSize??4,eZ=E?.canComment,eQ=E?.canApplySuggestion;R[30]!==eB||R[31]!==eV||R[32]!==eU||R[33]!==eH||R[34]!==ez||R[35]!==eK||R[36]!==eW||R[37]!==eZ||R[38]!==eQ?(p={avatarUrl:eB,diffViewPreference:eV,login:eU,lineSpacingPreference:eH,shouldDisplayComments:ez,shouldDisplayEditOptions:eK,tabSizePreference:eW,viewerCanComment:eZ,viewerCanApplySuggestion:eQ},R[30]=eB,R[31]=eV,R[32]=eU,R[33]=eH,R[34]=ez,R[35]=eK,R[36]=eW,R[37]=eZ,R[38]=eQ,R[39]=p):p=R[39];let eX=p,eJ=(0,l.useId)(),e0=`heading-${eJ}`;e:{if("split"===new URLSearchParams(g.cg?.location.search).get("diff")){x=!0;break e}x="split"===E.splitPreference}let e1=x,e2=J?.lineCount??et?.lineCount??0,e3=`diff-${er}`,e5=`diff-${er}`;R[40]===Symbol.for("react.memo_cache_sentinel")?(v=(0,b.$)(rb.A.diffTargetable,rb.A.diff),R[40]=v):v=R[40];let e6=`${er}_${T.length}`;R[41]!==ev?(y=eE?{contentVisibility:"auto",containIntrinsicSize:`auto ${ev}px`}:void 0,R[41]=ev,R[42]=y):y=R[42];let e7=`${void 0===V?0:V}px`;R[43]!==e7?(j={"--header-sticky-offset":e7},R[43]=e7,R[44]=j):j=R[44];let e8=`#diff-${er}`,e9=eo?.richDiff?.canToggleRichDiff,te=J?.mode,tt=J?.path,tn=et?.mode,ti=et?.path;R[45]!==A||R[46]!==ei?(C=e=>ei(e,!A),R[45]=A,R[46]=ei,R[47]=C):C=R[47];let ta=eo?.onToggleRichDiff,tr=eo?.showRichDiff;return R[48]!==ef||R[49]!==A||R[50]!==P||R[51]!==em||R[52]!==eu||R[53]!==e0||R[54]!==ey||R[55]!==H||R[56]!==eL||R[57]!==W||R[58]!==Z||R[59]!==Q||R[60]!==X||R[61]!==ea||R[62]!==ed||R[63]!==eh||R[64]!==e8||R[65]!==e9||R[66]!==te||R[67]!==tt||R[68]!==tn||R[69]!==ti||R[70]!==C||R[71]!==ta||R[72]!==tr?(w=(0,i.jsx)(s.B,{headingId:e0,hiddenFeatures:ey,areLinesExpanded:eu,canExpandOrCollapseLines:ef,fileLinkHref:e8,isCollapsed:A,isBinary:H,size:P,canToggleRichDiff:e9,linesAdded:Z,linesChanged:Q,linesDeleted:X,newMode:te,newPath:tt,oldMode:tn,oldPath:ti,patchStatus:eh,path:ea,onToggleExpandAllLines:em,onToggleFileCollapsed:C,onToggleDiffDisplay:ta,additionalLeftSideContent:W,rightSideContent:ed,showRichDiff:tr,isInSingleFileMode:eL}),R[48]=ef,R[49]=A,R[50]=P,R[51]=em,R[52]=eu,R[53]=e0,R[54]=ey,R[55]=H,R[56]=eL,R[57]=W,R[58]=Z,R[59]=Q,R[60]=X,R[61]=ea,R[62]=ed,R[63]=eh,R[64]=e8,R[65]=e9,R[66]=te,R[67]=tt,R[68]=tn,R[69]=ti,R[70]=C,R[71]=ta,R[72]=tr,R[73]=w):w=R[73],R[74]!==j||R[75]!==w?(N=(0,i.jsx)("div",{className:rb.A.diffHeaderWrapper,style:j,children:w}),R[74]=j,R[75]=w,R[76]=N):N=R[76],R[77]!==A||R[78]!==e_||R[79]!==T||R[80]!==B||R[81]!==e$||R[82]!==eu||R[83]!==F||R[84]!==G||R[85]!==H||R[86]!==e1||R[87]!==K||R[88]!==Q||R[89]!==eN||R[90]!==Y||R[91]!==J||R[92]!==ee||R[93]!==en||R[94]!==et||R[95]!==eM||R[96]!==eI||R[97]!==ea||R[98]!==er||R[99]!==es||R[100]!==eo||R[101]!==ew||R[102]!==eC||R[103]!==eh||R[104]!==ep||R[105]!==eg||R[106]!==eX?(S=A?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[(0,i.jsxs)(i.Fragment,{children:[B.length>0&&(0,i.jsx)(rq,{conversationListThreads:B,filePath:ea}),G&&(0,i.jsx)("div",{className:(0,b.$)("border rounded-2 color-border-default m-1 rounded-2 bgColor-default",rb.A.diffAddFileThread),children:(0,i.jsx)(eq,{batchingEnabled:!0,filePath:ea,fileLevelComment:!0,isLeftSide:void 0,viewerData:eX,onAddComment:e$,onClose:eM})})]}),eC&&(0,i.jsx)(rD,{submodule:ep}),eo?.showRichDiff&&(0,i.jsx)(eY,{queryConfig:eo.queryConfig,initialData:eo.richDiff}),ew&&(0,i.jsx)(rp,{hasExpandedAllRanges:eu,copilotChatReference:e_,diffEntryData:{diffLines:T,isBinary:H,isTooBig:K,linesChanged:Q,newTreeEntry:J,newCommitOid:Y,objectId:ee,oldTreeEntry:et,oldCommitOid:en,path:ea,pathDigest:er,status:eh,truncatedReason:eg},baseHelpUrl:F,subjectId:es||"",viewerData:eX,isSplitView:e1,diffLinesManuallyUnhidden:eN,onHandleLoadDiff:eI})]}),R[77]=A,R[78]=e_,R[79]=T,R[80]=B,R[81]=e$,R[82]=eu,R[83]=F,R[84]=G,R[85]=H,R[86]=e1,R[87]=K,R[88]=Q,R[89]=eN,R[90]=Y,R[91]=J,R[92]=ee,R[93]=en,R[94]=et,R[95]=eM,R[96]=eI,R[97]=ea,R[98]=er,R[99]=es,R[100]=eo,R[101]=ew,R[102]=eC,R[103]=eh,R[104]=ep,R[105]=eg,R[106]=eX,R[107]=S):S=R[107],R[108]!==e0||R[109]!==ej||R[110]!==t||R[111]!==e5||R[112]!==e6||R[113]!==y||R[114]!==N||R[115]!==S?(L=(0,i.jsxs)("div",{role:"region",ref:t,"aria-labelledby":e0,id:e5,className:v,"data-targeted":ej,style:y,children:[N,S]},e6),R[108]=e0,R[109]=ej,R[110]=t,R[111]=e5,R[112]=e6,R[113]=y,R[114]=N,R[115]=S,R[116]=L):L=R[116],R[117]!==eD||R[118]!==eL?(D=eL&&(0,i.jsxs)("div",{className:rb.A.diffFooter,children:[(0,i.jsx)(c.InfoIcon,{size:16,"aria-hidden":"true"}),(0,i.jsx)("span",{className:"text-center",children:rW(eD)})]}),R[117]=eD,R[118]=eL,R[119]=D):D=R[119],R[120]!==ex||R[121]!==T||R[122]!==e2||R[123]!==ey||R[124]!==e1||R[125]!==J||R[126]!==et||R[127]!==ea||R[128]!==eF||R[129]!==e3||R[130]!==L||R[131]!==D?(I=(0,i.jsxs)($,{addInjectedContextLines:ex,diffAnchor:e3,diffLines:T,fileLineCount:e2,path:ea,startNewConversationForLineOrFileMap:eF,hiddenFeatures:ey,isSplitView:e1,oldTreeEntry:et,newTreeEntry:J,children:[L,D]}),R[120]=ex,R[121]=T,R[122]=e2,R[123]=ey,R[124]=e1,R[125]=J,R[126]=et,R[127]=ea,R[128]=eF,R[129]=e3,R[130]=L,R[131]=D,R[132]=I):I=R[132],I}:function({addFileCommentButtonRef:e,collapsed:t,currentUser:n,diffLines:a,diffManuallyExpanded:r,diffSize:d,helpUrl:u,estimatedDiffHeight:m=0,fileComments:f,headerStickyOffset:h=0,hiddenFeatures:p=rz,isAddingFileComment:x,isBinary:v,isSelected:y=!1,isSubmodule:j,isTooBig:C,leftSideContent:w,linesAdded:N,linesChanged:S,linesDeleted:L,newTreeEntry:D,newCommitOid:I,objectId:R,oldTreeEntry:k,oldCommitOid:A,onToggleCollapse:E,path:T,pathDigest:O,pullRequestGlobalRelayId:P,repository:F,richDiffState:M,rightSideContent:B,setIsAddingFileComment:V,hasExpandedAllRanges:U,expandAllContextLines:G,canExpandOrCollapseLines:H,status:q,submodule:z,truncatedReason:K,addInjectedContextLines:W,loadDiff:Z},Q){let X=j&&!!z,J=!X&&!M?.showRichDiff,[Y,ee]=(0,l.useState)(r),et=(0,_.j5)(),{comparisonView:en}=(0,_.L3)(),ei=rF({isBinary:v,isSubmodule:j,path:T,status:q,repository:F,newCommitOid:I,newTreeEntry:D,oldCommitOid:A,oldTreeEntry:k,pathDigest:O,hasCopilotAccess:n.hasCopilotAccess}),ea=async()=>{await Z(),ee(!0)},{baseOid:er,headOid:es}=(0,_.E4)(),el=(0,eG.u)("cotd_ui"),eo=(0,e4.G7)("pr_simple_diffs"),{effectiveRange:ed}=(0,_.L3)(),{mutate:ec}=t5(),eu=(0,l.useCallback)(()=>{V(!0)},[V]),em=(0,l.useMemo)(()=>({F0:{startNewComment:eu,diffLineKey:rK}}),[eu]),ef=(0,l.useMemo)(()=>({avatarUrl:n?.avatarURL??"",diffViewPreference:n?.splitPreference,login:n?.login??"",lineSpacingPreference:n?.lineSpacing,shouldDisplayComments:n?.shouldDisplayComments,shouldDisplayEditOptions:n?.shouldDisplayEditOptions,tabSizePreference:n?.tabSize??4,viewerCanComment:n?.canComment,viewerCanApplySuggestion:n?.canApplySuggestion}),[n.avatarURL,n.canApplySuggestion,n.canComment,n.lineSpacing,n.login,n.shouldDisplayComments,n.shouldDisplayEditOptions,n.splitPreference,n.tabSize]),eh=(0,l.useId)(),ep=`heading-${eh}`,eg=(0,l.useMemo)(()=>"split"===new URLSearchParams(g.cg?.location.search).get("diff")||"split"===n.splitPreference,[n.splitPreference]),ex=D?.lineCount??k?.lineCount??0;return(0,i.jsxs)($,{addInjectedContextLines:W,diffAnchor:`diff-${O}`,diffLines:a,fileLineCount:ex,path:T,startNewConversationForLineOrFileMap:em,hiddenFeatures:p,isSplitView:eg,oldTreeEntry:k,newTreeEntry:D,children:[(0,i.jsxs)("div",{role:"region",ref:Q,"aria-labelledby":ep,id:`diff-${O}`,className:(0,b.$)(rb.A.diffTargetable,rb.A.diff),"data-targeted":y,style:eo?{contentVisibility:"auto",containIntrinsicSize:`auto ${m}px`}:void 0,children:[(0,i.jsx)("div",{className:rb.A.diffHeaderWrapper,style:{"--header-sticky-offset":`${h}px`},children:(0,i.jsx)(s.B,{headingId:ep,hiddenFeatures:p,areLinesExpanded:U,canExpandOrCollapseLines:H,fileLinkHref:`#diff-${O}`,isCollapsed:t,isBinary:v,size:d,canToggleRichDiff:M?.richDiff?.canToggleRichDiff,linesAdded:N,linesChanged:S,linesDeleted:L,newMode:D?.mode,newPath:D?.path,oldMode:k?.mode,oldPath:k?.path,patchStatus:q,path:T,onToggleExpandAllLines:G,onToggleFileCollapsed:e=>E(e,!t),onToggleDiffDisplay:M?.onToggleRichDiff,additionalLeftSideContent:w,rightSideContent:B,showRichDiff:M?.showRichDiff,isInSingleFileMode:et})}),t?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[(0,i.jsxs)(i.Fragment,{children:[f.length>0&&(0,i.jsx)(rq,{conversationListThreads:f,filePath:T}),x&&(0,i.jsx)("div",{className:(0,b.$)("border rounded-2 color-border-default m-1 rounded-2 bgColor-default",rb.A.diffAddFileThread),children:(0,i.jsx)(eq,{batchingEnabled:!0,filePath:T,fileLevelComment:!0,isLeftSide:void 0,viewerData:ef,onAddComment:({onCompleted:e,onError:t,submitBatch:n,text:i})=>{el?ec(new ReviewCommentFactory({filePath:T,effectiveDiffRange:ed,submitBatch:n,text:i}).fileRequestData(),{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment.databaseId),V(!1)}}):ec({text:i,path:T,submitBatch:n,subjectType:o.Wr.File,comparisonEndOid:es,comparisonStartOid:er},{onError:t,onSuccess:t=>{e?.(t.thread.id,t.comment.databaseId),V(!1)}})},onClose:()=>{V(!1),e?.current?.focus()}})})]}),X&&(0,i.jsx)(rD,{submodule:z}),M?.showRichDiff&&(0,i.jsx)(eY,{queryConfig:M.queryConfig,initialData:M.richDiff}),J&&(0,i.jsx)(rp,{hasExpandedAllRanges:U,copilotChatReference:ei,diffEntryData:{diffLines:a,isBinary:v,isTooBig:C,linesChanged:S,newTreeEntry:D,newCommitOid:I,objectId:R,oldTreeEntry:k,oldCommitOid:A,path:T,pathDigest:O,status:q,truncatedReason:K},baseHelpUrl:u,subjectId:P||"",viewerData:ef,isSplitView:eg,diffLinesManuallyUnhidden:Y,onHandleLoadDiff:ea})]})]},`${O}_${a.length}`),et&&(0,i.jsxs)("div",{className:rb.A.diffFooter,children:[(0,i.jsx)(c.InfoIcon,{size:16,"aria-hidden":"true"}),(0,i.jsx)("span",{className:"text-center",children:rW(en)})]})]})}),rQ=(0,a.GV)()?function(e){let t,n,a,o,d,u=(0,r.c)(24),{path:m,pathDigest:f,linesAdded:h,linesChanged:p,linesDeleted:g,oldTreeEntry:x,newTreeEntry:v,status:y}=e,j=(0,l.useId)(),C=`heading-${j}`,[w,N]=(0,l.useState)(!1),S=`diff-${f}`;u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,b.$)(rb.A.diffTargetable,rb.A.diff),u[0]=t):t=u[0];let L=`${f}_error`,D=v?.mode,_=v?.path,I=x?.mode,R=x?.path;return u[1]!==w?(n=()=>N(!w),u[1]=w,u[2]=n):n=u[2],u[3]!==C||u[4]!==w||u[5]!==h||u[6]!==p||u[7]!==g||u[8]!==m||u[9]!==y||u[10]!==D||u[11]!==_||u[12]!==I||u[13]!==R||u[14]!==n?(a=(0,i.jsx)("div",{className:rb.A.diffHeaderWrapper,children:(0,i.jsx)(s.B,{headingId:C,isCollapsed:w,isBinary:!1,linesAdded:h,linesChanged:p,linesDeleted:g,newMode:D,newPath:_,oldMode:I,oldPath:R,patchStatus:y,path:m,onToggleFileCollapsed:n})}),u[3]=C,u[4]=w,u[5]=h,u[6]=p,u[7]=g,u[8]=m,u[9]=y,u[10]=D,u[11]=_,u[12]=I,u[13]=R,u[14]=n,u[15]=a):a=u[15],u[16]!==w?(o=!w&&(0,i.jsx)("div",{className:"border position-relative rounded-bottom-2",children:(0,i.jsxs)(n$.E,{children:[(0,i.jsx)(n$.E.Visual,{children:(0,i.jsx)(c.AlertIcon,{size:"medium",className:"fgColor-muted"})}),(0,i.jsx)(n$.E.Heading,{as:"h4",children:"There was an issue loading this file"}),(0,i.jsxs)(n$.E.Description,{children:[" ","Try refreshing the page or if the problem persists"," ",(0,i.jsx)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:(0,i.jsx)("u",{children:"contact support"})}),"."]})]})}),u[16]=w,u[17]=o):o=u[17],u[18]!==C||u[19]!==S||u[20]!==o||u[21]!==L||u[22]!==a?(d=(0,i.jsxs)("div",{role:"region","aria-labelledby":C,id:S,className:t,children:[a,o]},L),u[18]=C,u[19]=S,u[20]=o,u[21]=L,u[22]=a,u[23]=d):d=u[23],d}:function({path:e,pathDigest:t,linesAdded:n,linesChanged:a,linesDeleted:r,oldTreeEntry:o,newTreeEntry:d,status:u}){let m=(0,l.useId)(),f=`heading-${m}`,[h,p]=(0,l.useState)(!1);return(0,i.jsxs)("div",{role:"region","aria-labelledby":f,id:`diff-${t}`,className:(0,b.$)(rb.A.diffTargetable,rb.A.diff),children:[(0,i.jsx)("div",{className:rb.A.diffHeaderWrapper,children:(0,i.jsx)(s.B,{headingId:f,isCollapsed:h,isBinary:!1,linesAdded:n,linesChanged:a,linesDeleted:r,newMode:d?.mode,newPath:d?.path,oldMode:o?.mode,oldPath:o?.path,patchStatus:u,path:e,onToggleFileCollapsed:()=>p(!h)})}),!h&&(0,i.jsx)("div",{className:"border position-relative rounded-bottom-2",children:(0,i.jsxs)(n$.E,{children:[(0,i.jsx)(n$.E.Visual,{children:(0,i.jsx)(c.AlertIcon,{size:"medium",className:"fgColor-muted"})}),(0,i.jsx)(n$.E.Heading,{as:"h4",children:"There was an issue loading this file"}),(0,i.jsxs)(n$.E.Description,{children:[" ","Try refreshing the page or if the problem persists"," ",(0,i.jsx)("a",{className:"fgColor-muted",href:"https://support.github.com/",children:(0,i.jsx)("u",{children:"contact support"})}),"."]})]})})]},`${t}_error`)},rX=(0,l.memo)(rZ);try{rZ.displayName||(rZ.displayName="DiffUnmemoized")}catch{}try{rQ.displayName||(rQ.displayName="DiffErrorFallback")}catch{}try{rX.displayName||(rX.displayName="Diff")}catch{}},82603:(e,t,n)=>{n.d(t,{dG:()=>u,hG:()=>h,o5:()=>m});var i=n(68273),a=n(21728),r=n(96540),s=n(97286),l=n(65510),o=n(96379),d=n(20622);function c(e){return{queryKey:[d.uT.codeowners,e],queryFn:async()=>{let t=`${e}/page_data/${d.uT.codeowners}`,n=await (0,o.QJ)(t);if(!n.ok)throw Error(`HTTP ${n.status}`);return await n.json()},staleTime:1/0}}let u=(0,i.Z6)()?function(e){let t,n,i=(0,a.c)(6),{basePath:r,initialData:l}=e;i[0]!==r?(t=c(r),i[0]=r,i[1]=t):t=i[1];let{queryFn:o,queryKey:d}=t;return i[2]!==l||i[3]!==o||i[4]!==d?(n={queryKey:d,queryFn:o,initialData:l,staleTime:1/0},i[2]=l,i[3]=o,i[4]=d,i[5]=n):n=i[5],(0,s.I)(n)}:function({basePath:e,initialData:t}){let{queryFn:n,queryKey:i}=c(e);return(0,s.I)({queryKey:i,queryFn:n,initialData:t,staleTime:1/0})},m=(0,i.Z6)()?function(e){let t,n,i,r=(0,a.c)(8),{basePath:s,diffPath:o}=e;r[0]!==s?(t=c(s),r[0]=s,r[1]=t):t=r[1];let{queryFn:d,queryKey:u}=t;r[2]!==o?(n=e=>h({codeownersData:e,diffPath:o}),r[2]=o,r[3]=n):n=r[3];let m=n;return r[4]!==d||r[5]!==u||r[6]!==m?(i={queryKey:u,queryFn:d,staleTime:1/0,select:m},r[4]=d,r[5]=u,r[6]=m,r[7]=i):i=r[7],(0,l.U)(i)}:function({basePath:e,diffPath:t}){let{queryFn:n,queryKey:i}=c(e);return(0,l.U)({queryKey:i,queryFn:n,staleTime:1/0,select:(0,r.useCallback)(e=>h({codeownersData:e,diffPath:t}),[t])})},f={isOwnedByViewer:!1,owners:[],ruleLineNumber:void 0,ruleUrl:void 0};function h({diffPath:e,codeownersData:t}){if(!t)return f;let n=t.ownershipByPath[e];return n?{isOwnedByViewer:n.isOwnedByViewer,owners:n.owners||[],ruleLineNumber:n.ruleLineNumber,ruleUrl:n.ruleUrl}:f}},85933:(e,t,n)=>{function i(){return!!document.querySelector('react-app[data-lazy="true"]')}function a(){return!!document.querySelector('react-app[data-alternate="true"]')}function r(){return!!document.querySelector("header.AppHeader")}function s(){return performance.getEntriesByType("resource").some(e=>"fetch"===e.initiatorType&&e.name.includes("_graphql?"))}function l(){return performance.getEntriesByType("resource").some(e=>"script"===e.initiatorType)}n.d(t,{Dk:()=>r,NT:()=>c,X:()=>d,_:()=>i,aE:()=>s,u$:()=>a,xF:()=>l}),n(69599);let o=null;function d(){return o}function c(e){o=e}},86909:(e,t,n)=>{n.d(t,{YH:()=>S,Gt:()=>N,Vv:()=>R});var i,a=n(74848),r=n(68273),s=n(21728),l=n(77430),o=n(73017),d=n(38621),c=n(26108),u=n(98552),m=n(69497),f=n(21373),h=n(34164),p=n(48505);let g="Annotation-module__annotation--KlX5M",x="Annotation-module__annotationSource--fZyli",b="Annotation-module__annotationMessage--gFM9M",v="Annotation-module__inlineReviewThreadHeading--Qj9j8";var y=n(79036),j=n(96540),C=n(82075),w=n(71315);let N={[p.UZ.Failure]:(0,a.jsx)(d.StopIcon,{className:"fgColor-danger mr-2"}),[p.UZ.Warning]:(0,a.jsx)(d.AlertIcon,{className:"fgColor-attention mr-2"}),[p.UZ.Notice]:(0,a.jsx)(d.InfoIcon,{className:"fgColor-muted mr-2"})},S=(0,r.GV)()?function(e){let t,n,i,r,p,v,j,C=(0,s.c)(31),{annotation:w,inSidePanel:N}=e,S=N?"h3":"h2",{isCollapsed:L,handleToggleCollapsed:I}=R(w),k=y.GF[w.annotationLevel];return C[0]!==k.borderColor?(t=(0,h.$)("p-1 bgColor-default",k.borderColor,g),C[0]=k.borderColor,C[1]=t):t=C[1],C[2]!==I||C[3]!==N||C[4]!==L?(n=!N&&(0,a.jsx)(c.K,{"aria-label":L?"Expand annotation":"Collapse annotation",icon:L?d.ChevronRightIcon:d.ChevronDownIcon,size:"small",variant:"invisible",onClick:I}),C[2]=I,C[3]=N,C[4]=L,C[5]=n):n=C[5],C[6]!==w||C[7]!==N?(i=!N&&(0,a.jsx)(D,{annotation:w}),C[6]=w,C[7]=N,C[8]=i):i=C[8],C[9]!==w||C[10]!==N?(r=N&&(0,a.jsx)(_,{annotation:w}),C[9]=w,C[10]=N,C[11]=r):r=C[11],C[12]!==n||C[13]!==i||C[14]!==r?(p=(0,a.jsxs)("div",{className:"d-flex flex-items-center",children:[n,i,r]}),C[12]=n,C[13]=i,C[14]=r,C[15]=p):p=C[15],C[16]!==S||C[17]!==w.annotationLevel||C[18]!==w.appAvatarAltText||C[19]!==w.appAvatarUrl||C[20]!==w.checkRun||C[21]!==w.checkSuiteName||C[22]!==w.message||C[23]!==w.title||C[24]!==N||C[25]!==L?(v=(!L||N)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ml-4 mt-2",children:w.title&&(0,a.jsx)(u.A,{weight:"semibold",size:"medium",className:y.GF[w.annotationLevel].primaryColorClass,children:w.title})}),(0,a.jsxs)(S,{className:"sr-only",children:[y.GF[w.annotationLevel].ariaLabel,": ",w.title]}),(0,a.jsx)("div",{className:"mb-3 mt-1 ml-4",children:w.message&&(0,a.jsx)(o.$6,{html:w.message,className:b})}),(0,a.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4 pr-2 pb-2",children:[(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)(l.r,{src:w.appAvatarUrl,alt:w.appAvatarAltText}),(0,a.jsxs)(m.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${w.checkSuiteName} / ${w.checkRun.name}`,children:[(0,a.jsx)(u.A,{weight:"semibold",size:"small",children:w.checkSuiteName})," ","/ ",(0,a.jsx)(u.A,{size:"small",children:w.checkRun.name})]})]}),w.checkRun.detailsUrl&&(0,a.jsx)(f.Q,{as:"a",href:w.checkRun.detailsUrl,size:"small",children:"View details"})]})]}),C[16]=S,C[17]=w.annotationLevel,C[18]=w.appAvatarAltText,C[19]=w.appAvatarUrl,C[20]=w.checkRun,C[21]=w.checkSuiteName,C[22]=w.message,C[23]=w.title,C[24]=N,C[25]=L,C[26]=v):v=C[26],C[27]!==t||C[28]!==p||C[29]!==v?(j=(0,a.jsxs)("div",{className:t,children:[p,v]}),C[27]=t,C[28]=p,C[29]=v,C[30]=j):j=C[30],j}:function({annotation:e,inSidePanel:t}){let n=(0,j.useMemo)(()=>t?"h3":"h2",[t]),{isCollapsed:i,handleToggleCollapsed:r}=R(e);return(0,a.jsxs)("div",{className:(0,h.$)("p-1 bgColor-default",y.GF[e.annotationLevel].borderColor,g),children:[(0,a.jsxs)("div",{className:"d-flex flex-items-center",children:[!t&&(0,a.jsx)(c.K,{"aria-label":i?"Expand annotation":"Collapse annotation",icon:i?d.ChevronRightIcon:d.ChevronDownIcon,size:"small",variant:"invisible",onClick:r}),!t&&(0,a.jsx)(D,{annotation:e}),t&&(0,a.jsx)(_,{annotation:e})]}),(!i||t)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ml-4 mt-2",children:e.title&&(0,a.jsx)(u.A,{weight:"semibold",size:"medium",className:y.GF[e.annotationLevel].primaryColorClass,children:e.title})}),(0,a.jsxs)(n,{className:"sr-only",children:[y.GF[e.annotationLevel].ariaLabel,": ",e.title]}),(0,a.jsx)("div",{className:"mb-3 mt-1 ml-4",children:e.message&&(0,a.jsx)(o.$6,{html:e.message,className:b})}),(0,a.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4 pr-2 pb-2",children:[(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)(l.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,a.jsxs)(m.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,a.jsx)(u.A,{weight:"semibold",size:"small",children:e.checkSuiteName})," ","/ ",(0,a.jsx)(u.A,{size:"small",children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,a.jsx)(f.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})]})},L=(0,r.GV)()?function(e){let t,n=(0,s.c)(2),{children:i}=e;return n[0]!==i?(t=(0,a.jsx)("span",{className:"text-semibold fgColor-default",children:i}),n[0]=i,n[1]=t):t=n[1],t}:function({children:e}){return(0,a.jsx)("span",{className:"text-semibold fgColor-default",children:e})},D=(0,r.GV)()?function(e){let t,n,i=(0,s.c)(6),{annotation:r}=e,l=N[r.annotationLevel],o=y.GF[r.annotationLevel];return i[0]!==r.endLine?(t=(0,a.jsxs)(L,{children:["R",r.endLine]}),i[0]=r.endLine,i[1]=t):t=i[1],i[2]!==l||i[3]!==o.ariaLabel||i[4]!==t?(n=(0,a.jsxs)("h2",{className:v,children:[l,o.ariaLabel," on line"," ",t]}),i[2]=l,i[3]=o.ariaLabel,i[4]=t,i[5]=n):n=i[5],n}:function({annotation:e}){return(0,a.jsxs)("h2",{className:v,children:[N[e.annotationLevel],y.GF[e.annotationLevel].ariaLabel," on line"," ",(0,a.jsxs)(L,{children:["R",e.endLine]})]})},_=(0,r.GV)()?function(e){let t,n,i=(0,s.c)(3),{annotation:r}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,h.$)(v,"ml-4","pt-1","pl-0"),i[0]=t):t=i[0];let l=y.GF[r.annotationLevel];return i[1]!==l.ariaLabel?(n=(0,a.jsx)("div",{className:t,children:(0,a.jsx)(L,{children:l.ariaLabel})}),i[1]=l.ariaLabel,i[2]=n):n=i[2],n}:function({annotation:e}){return(0,a.jsx)("div",{className:(0,h.$)(v,"ml-4","pt-1","pl-0"),children:(0,a.jsx)(L,{children:y.GF[e.annotationLevel].ariaLabel})})};function I(e){return`AnnotationIsCollapsed_${e.path}_${e.endLine}_${e.annotationLevel}_${e.title}`}let R=(0,r.GV)()?function(e){let t,n,i,a,r,l=(0,s.c)(10);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,C.A)("localStorage"),l[0]=t):t=l[0];let o=t,[d,c]=(0,j.useState)(!1);l[1]!==e?(n=()=>{let t=localStorage.getItem(I(e));null!==t&&c(JSON.parse(t))},i=[e],l[1]=e,l[2]=n,l[3]=i):(n=l[2],i=l[3]),(0,j.useEffect)(n,i),l[4]!==e||l[5]!==d?(a=()=>{w.cg?.requestAnimationFrame(()=>{o.setItem(I(e),JSON.stringify(!d))}),c(k)},l[4]=e,l[5]=d,l[6]=a):a=l[6];let u=a;return l[7]!==u||l[8]!==d?(r={isCollapsed:d,handleToggleCollapsed:u},l[7]=u,l[8]=d,l[9]=r):r=l[9],r}:function(e){let t=(0,C.A)("localStorage"),[n,i]=(0,j.useState)(!1);return(0,j.useEffect)(()=>{let t=localStorage.getItem(I(e));null!==t&&i(JSON.parse(t))},[e]),{isCollapsed:n,handleToggleCollapsed:()=>{w.cg?.requestAnimationFrame(()=>{t.setItem(I(e),JSON.stringify(!n))}),i(e=>!e)}}};function k(e){return!e}try{S.displayName||(S.displayName="Annotation")}catch{}try{(i=AnnotationHeadingTag).displayName||(i.displayName="AnnotationHeadingTag")}catch{}try{L.displayName||(L.displayName="Emphasis")}catch{}try{D.displayName||(D.displayName="AnnotationBanner")}catch{}try{_.displayName||(_.displayName="SidePanelAnnotationBanner")}catch{}},88008:(e,t,n)=>{n.d(t,{CE:()=>r,Ol:()=>s,hW:()=>l});var i=n(95800);function a(e,t){return`${e}-${t}-active-batch-suggestions`}function r(e,t,n){let r=a(e,t);(0,i.SO)(r,JSON.stringify(n))}function s(e,t){let n=a(e,t),r=(0,i.Gq)(n);if(!r)return[];try{let e=JSON.parse(r);return Array.isArray(e)?e:[]}catch{return[]}}function l(e,t){let n=a(e,t);(0,i.Ai)(n)}},89155:(e,t,n)=>{n.d(t,{F:()=>l});var i=n(68273),a=n(21728),r=n(39029),s=n(34261);let l=(0,i.Z6)()?function(e){let t,n=(0,a.c)(1),{refetch:i}=(0,s.W)();n[0]===Symbol.for("react.memo_cache_sentinel")?(t={git_updated:!0,title_updated:!0},n[0]=t):t=n[0],(0,r.og)(e,i,t)}:function(e){let{refetch:t}=(0,s.W)();(0,r.og)(e,t,{git_updated:!0,title_updated:!0})}},93642:(e,t,n)=>{function i(e,t){for(let n of function e(t,n=[]){var i,r;let s;if(""===t)return n;let l=t.match(a());if(!l)return n;let o=l.groups.fence;if(!o)return n;let d=o.includes("~")?"~":"`",c=t.match((s=a([i=d],r=o.length),RegExp(`${s.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${i}{${r},}[ 	]*$`,"ms")));if(!c)return n;let u=0,m=l.groups.indent;""!==m&&(u=m.length);let f=c.groups.suggestion;if(u>0){let e=RegExp(`^ {0,${u}}`,"m");f=f.replace(e,"")}return n.push(f),e(t.slice(c.index+c[0].length),n)}(e))if(n===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function a(e=["`","~"],t){let n=t?`{${t}}`:"{3,}",i=e.map(e=>`${e}${n}`);return RegExp(`^(?<indent> {0,3})(?<fence>${i.join("|")})suggestion[ 	]*$`,"m")}n.d(t,{u:()=>i})},94195:(e,t,n)=>{n.d(t,{Gy:()=>d,LB:()=>h,nn:()=>p,lm:()=>m});var i=n(74848),a=n(96540);let r=null,s=null,l=new Set;function o(e){return l.add(e),r||(r=new ResizeObserver(()=>{s||(s=requestAnimationFrame(()=>{for(let e of(s=null,l))e()}))})).observe(document.documentElement),()=>{l.delete(e),0===l.size&&r&&(r.disconnect(),r=null)}}let d={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},c=[d.xxxxlarge,d.xxxlarge,d.xxlarge,d.xlarge,d.large,d.medium,d.small],u=a.createContext({screenSize:d.small});function m(){return a.useContext(u)}function f(){return p(window.innerWidth)}function h({children:e,initialValue:t=d.small}){let n=(0,a.useSyncExternalStore)(o,f,(0,a.useCallback)(()=>t,[t])),r=(0,a.useMemo)(()=>({screenSize:n}),[n]);return(0,i.jsx)(u.Provider,{value:r,children:e})}function p(e){for(let t of c)if(e>=t)return t;return d.small}try{u.displayName||(u.displayName="ScreenContext")}catch{}try{h.displayName||(h.displayName="ScreenSizeProvider")}catch{}},95807:(e,t,n)=>{n.d(t,{i:()=>v});var i=n(74848),a=n(68273),r=n(21728),s=n(96379),l=n(21373),o=n(69726),d=n(11196),c=n(96540),u=n(30459),m=n(57224),f=n(70263);let h="PullRequestsProcessingIndicator-module__button--IKkby",p="PullRequestsProcessingIndicator-module__indicator--iNiwb",g="PullRequestsProcessingIndicator-module__text--JUMXg";function x(e,t){return Math.round(e.getTime()-t.getTime())/1e3}let b={stale:!1,latest_unsynced_push_to_head_ref_at:null};function v({processingIndicatorUrl:e,repositoryId:t,pullRequestId:n}){let[a,r]=(0,c.useState)(b),l=(0,f.A)(),o=(0,c.useCallback)(async()=>{try{let t=await (0,s.lS)(e);if(t.ok){let e=await t.json();l()&&r(e)}}catch{l()&&r(b)}},[l,e]);(0,c.useEffect)(()=>{o()},[]);let{stale:d,latest_unsynced_push_to_head_ref_at:u}=a;return(0,i.jsx)("div",{className:"border-left pl-1",children:(0,i.jsx)(m.y,{appName:"pull-requests-processing-indicator",category:"render",metadata:{},children:(0,i.jsx)(y,{pullRequestId:n,repositoryId:t,stale:d,latest_unsynced_push_to_head_ref_at:u})})})}let y=(0,a.Z6)()?function(e){let t,n,a=(0,r.c)(6),{pullRequestId:s,repositoryId:c,stale:m,latest_unsynced_push_to_head_ref_at:f}=e,{sendAnalyticsEvent:b}=(0,u.s)();if(!m||!f)return null;if(a[0]!==f||a[1]!==s||a[2]!==c||a[3]!==b){t=Symbol.for("react.early_return_sentinel");e:{let e=x(new Date,new Date(f));if(e<20||e>=86400){t=null;break e}b("pull_requests.processing_indicator","",{repositoryId:c,pullRequestId:s,secondsSinceLastPush:e})}a[0]=f,a[1]=s,a[2]=c,a[3]=b,a[4]=t}else t=a[4];return t!==Symbol.for("react.early_return_sentinel")?t:(a[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(d.m,{text:"Recent push is being processed and will appear soon",direction:"s",children:(0,i.jsx)(l.Q,{as:"a",href:"https://gh.io/pr-sync-in-progress",variant:"invisible",className:h,children:(0,i.jsxs)("div",{className:p,children:[(0,i.jsx)(o.A,{size:"small"}),(0,i.jsx)("span",{className:g,children:"Processing updates"})]})})}),a[5]=n):n=a[5],n)}:function({pullRequestId:e,repositoryId:t,stale:n,latest_unsynced_push_to_head_ref_at:a}){let{sendAnalyticsEvent:r}=(0,u.s)();if(!n||!a)return null;let s=x(new Date,new Date(a));return s<20||s>=86400?null:(r("pull_requests.processing_indicator","",{repositoryId:t,pullRequestId:e,secondsSinceLastPush:s}),(0,i.jsx)(d.m,{text:"Recent push is being processed and will appear soon",direction:"s",children:(0,i.jsx)(l.Q,{as:"a",href:"https://gh.io/pr-sync-in-progress",variant:"invisible",className:h,children:(0,i.jsxs)("div",{className:p,children:[(0,i.jsx)(o.A,{size:"small"}),(0,i.jsx)("span",{className:g,children:"Processing updates"})]})})}))};try{v.displayName||(v.displayName="PullRequestsProcessingIndicatorWithDataFetching")}catch{}try{y.displayName||(y.displayName="PullRequestsProcessingIndicator")}catch{}},97695:(e,t,n)=>{n.d(t,{H:()=>m});var i=n(68273),a=n(21728),r=n(48845),s=n(20622),l=n(97665),o=n(94747),d=n(69510),c=n(27011),u=n(21067);let m=(0,i.Z6)()?function(e,t){let n,i,m,f,h=(0,a.c)(12),p=(0,c.Kp)();h[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,u.cj)(),h[0]=n):n=h[0];let g=n,x=`${p}/page_data/${s.uT.resolveThread}`,b=(0,l.jE)(),{updateThread:v}=(0,c.an)();return h[1]!==x?(i=async e=>{let{threadId:t}=e,n=await (0,r.q$)(x,{method:"POST",body:{threadId:t}});(0,r.R)(n)},h[1]=x,h[2]=i):i=h[2],h[3]!==p||h[4]!==e||h[5]!==t||h[6]!==b||h[7]!==v?(m=(n,i)=>(v(Number(i.threadId),e,t,e=>{if(e)return{...e,isResolved:!0,resolvedBy:g}}),b.invalidateQueries({queryKey:(0,d.XG)(p)})),h[3]=p,h[4]=e,h[5]=t,h[6]=b,h[7]=v,h[8]=m):m=h[8],h[9]!==i||h[10]!==m?(f={mutationFn:i,onSuccess:m},h[9]=i,h[10]=m,h[11]=f):f=h[11],(0,o.n)(f)}:function(e,t){let n=(0,c.Kp)(),i=(0,u.cj)(),a=`${n}/page_data/${s.uT.resolveThread}`,m=(0,l.jE)(),{updateThread:f}=(0,c.an)();return(0,o.n)({mutationFn:async({threadId:e})=>{let t=await (0,r.q$)(a,{method:"POST",body:{threadId:e}});(0,r.R)(t)},onSuccess:(a,r)=>(f(Number(r.threadId),e,t,e=>{if(e)return{...e,isResolved:!0,resolvedBy:i}}),m.invalidateQueries({queryKey:(0,d.XG)(n)}))})}},99279:(e,t,n)=>{n.d(t,{G:()=>i});let i=n(12435).$h.create("pull-requests")}}]);
//# sourceMappingURL=60510-9024b6858a36.js.map