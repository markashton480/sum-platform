## Task Ticket: DOC-003 — Create Docs Router + Ops Pack for Post-MVP Management

**Task ID:** DOC-003
**Project:** SUM Platform
**Area:** Documentation / Ops Enablement
**Owner:** AI Agent (Docs/Ops)
**Priority:** High
**Status:** Ready

---

### Objective

Create a **tiny, dependable “hot path” documentation layer** for post-MVP operations (release/versioning, deploy/upgrade/rollback, verification), without disturbing the existing `docs/dev/` documentation universe.

Deliver:

1. `docs/ROUTER.md` (the steering wheel)
2. `docs/ops-pack/` (the Ops Pack: short, operational, always-up-to-date)
3. Initial checklists/runbooks/log templates that power the “SUM Platform Management” workflow.

---

### Context / Why

The repo currently contains a broad `docs/dev/` tree with milestones, audits, reports, design, etc. That’s valuable but not efficient for day-to-day operations. The goal is to **stop spelunking** and provide a **single, consistent entry point** for the actions you do weekly: shipping, deploying, upgrading, and verifying.

This task must **not** delete or reorganize existing docs. It adds a minimal layer that points into them.

---

### Scope

#### In scope

- Add new documentation files under:

  - `docs/ROUTER.md`
  - `docs/ops-pack/` (new folder)

- Distill existing canonical docs into short “Ops Pack” checklists/runbooks (linking back to canonical references where appropriate).
- Provide templates for:

  - release checklist
  - deploy runbook
  - upgrade runbook
  - rollback runbook
  - smoke tests
  - full verification tests
  - loop sites matrix
  - “what broke last time” log

#### Out of scope

- Moving, renaming, or deleting any existing documentation files/folders.
- Changing code, CI, or infrastructure.
- Rewriting long-form canonical docs (SSOT, milestone docs, etc.). Only reference them.

---

### Inputs / Source Docs (must be read)

Agent must read these docs before writing anything:

- `CODEBASE-STRUCTURE.md` (to confirm docs tree and conventions)
- `DDD.md` (documentation map + intent of doc categories)
- `release-workflow.md`
- `git_strategy.md`
- `vps-golden-path.md`
- `POST-MVP_BIG-PLAN.md`
- `AGENT-ORIENTATION.md`
- `SUM-PLATFORM-SSOT.md`
- `overview.md`
- `cli.md`

If any of these are missing locally, flag it immediately in the output.

---

### Deliverables

Create the following files exactly (paths/names must match):

#### 1) `docs/ROUTER.md`

A concise “If you want to do X, read Y” router. Must include these sections:

- **Release a new version**

  - Primary: `docs/ops-pack/release-checklist.md`
  - Reference: canonical release workflow + git strategy + hygiene + CLI usage

- **Deploy a fresh VPS**

  - Primary: `docs/ops-pack/deploy-runbook.md`
  - Reference: golden path

- **Upgrade an existing site**

  - Primary: `docs/ops-pack/upgrade-runbook.md`
  - Reference: post-MVP practice loop

- **Rollback**

  - Primary: `docs/ops-pack/rollback-runbook.md`

- **Verify nothing broke**

  - Primary: `docs/ops-pack/smoke-tests.md` + `docs/ops-pack/full-verification.md`

- **Implement platform features (reference only)**

  - Reference: SSOT + wiring + block/page/nav references

- **Investigate weird issues (reference only)**

  - Point to: reports/CM/reviews/milestones etc (without making them hot path)

Router must be:

- under ~200 lines
- action-oriented
- links must be repo-relative paths

#### 2) Create folder `docs/ops-pack/` containing:

**2.1** `docs/ops-pack/README.md`

- Explains what Ops Pack is (hot path), what it is not
- Links to all ops-pack files

**2.2** `docs/ops-pack/release-checklist.md`

- Checklist distilled from release-workflow
- Must include:

  - pre-flight checks (lint/test/boilerplate checks/release-check target(s))
  - version bump rules and “frozen line / additive evolution” guidance
  - tagging steps
  - post-tag verification (`sum init` + `sum check` expectations)
  - “record what changed” section

**2.3** `docs/ops-pack/git-policy.md`

- One-page operational Git policy:

  - default branch strategy assumptions
  - when tags are created
  - what “safe to ship” means
  - how to recover from common mistakes (high-level pointers only)

**2.4** `docs/ops-pack/deploy-runbook.md`

- Step-by-step fresh deploy runbook derived from VPS golden path
- Must include:

  - prerequisites
  - prechecks
  - backup/restore expectations (even if “TODO” where specifics aren’t defined)
  - deploy steps
  - smoke tests
  - logging (“what broke last time” update)

**2.5** `docs/ops-pack/upgrade-runbook.md`

- Step-by-step upgrade process aligned to the post-MVP practice cycle
- Must include:

  - preupgrade checks
  - backup
  - upgrade steps
  - verification steps
  - rollback triggers

**2.6** `docs/ops-pack/rollback-runbook.md`

- Simple rollback plan:

  - when to rollback
  - what rollback means in this ecosystem (tag pinning / redeploy / restore)
  - verification after rollback
  - record keeping

**2.7** `docs/ops-pack/smoke-tests.md`

- 10–15 minute checklist
- Must include at minimum:

  - `/health/` check expectations
  - homepage render
  - admin login (if applicable)
  - one form/lead submission (or equivalent)
  - any Redis/caching baseline expectations if referenced by golden path

**2.8** `docs/ops-pack/full-verification.md`

- 30–60 minute checklist
- Must include:

  - deeper navigation sanity
  - SEO basics sanity (metadata/sitemap/robots if applicable)
  - content/block rendering spot checks
  - “delta section” at the top: what to focus on based on what changed since last tag
  - end section: “what broke / what surprised / what to automate next”

**2.9** `docs/ops-pack/loop-sites-matrix.md`

- A small table template for tracking loop sites:

  - site name
  - environment (staging/demo/prod)
  - current deployed version/tag
  - last deploy date
  - last upgrade outcome
  - notes

**2.10** `docs/ops-pack/what-broke-last-time.md`

- Append-only log template:

  - per site headings
  - date/time
  - version moved from → to
  - symptoms
  - fix
  - follow-up automation idea

---

### Hard Requirements (bullet-proof constraints)

- **Do not modify or move existing docs.** Add new files only.
- All new docs must:

  - be short, operational, checklist-first
  - link to canonical docs as references (repo-relative links)
  - avoid duplicating long prose from canonical docs (summarize + link)

- Must use consistent language:

  - “Ops Pack” = hot path operational docs
  - “Canonical docs” = SSOT / release workflow / golden path / etc

- Every runbook/checklist must end with a **record-keeping step** (update matrix + update what-broke log).

---

### Validation / Acceptance Criteria

DOC-003 is done when:

1. `docs/ROUTER.md` exists and routes correctly to:

   - ops-pack hot path docs
   - canonical references (without over-linking)

2. `docs/ops-pack/` exists with all 10 files listed above.

3. Every file:

   - has correct headings
   - uses repo-relative links
   - is usable without needing to read the entire repo
   - includes explicit “Stop / rollback / escalate” triggers where applicable

4. A reviewer can follow:

- `release-checklist.md` to perform a release end-to-end (assuming commands exist)
- `deploy-runbook.md` to deploy a fresh VPS (assuming infra exists)
- `upgrade-runbook.md` to upgrade a loop site and verify

---

### Deliverable Format

Agent must output:

1. A short summary of what was created
2. A file list with paths
3. The full contents of each created file (ready to paste into repo)
4. Any uncertainties or missing references discovered (with exact filenames)

---

### Notes for Agent

- Prefer checklists over paragraphs.
- Use “Stop here if X” safety gates.
- If any referenced command names differ from docs, do not guess — note it and link to the canonical source where the correct command is defined.
