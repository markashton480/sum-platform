## **[M5-001]: Create canonical `sum_client` consumer project (no `test_project` dependency)**

**Objective**: Create a real, runnable Django/Wagtail project named **`sum_client`** that consumes `sum_core`, has a proper settings split, wires URLs correctly, and proves the platform can run _without_ relying on `core/sum_core/test_project/`.

---

## **Context** (from SSOT/PRD)

- The repo is explicitly designed to have **a client boilerplate** and **client projects** alongside the reusable core package.
- The PRD defines a **Client Boilerplate Project** as a P0 requirement, including settings split, requirements pinning, and template/static override structure.
- Current state: repo includes `clients/_smoke_consumer/` and placeholders for `cli/`, `boilerplate/`, etc. We now need the canonical real client project.
- `/health/` is part of the shipped ops baseline and must return JSON status.

---

## **Technical Requirements** (align with SSOT + PRD)

- Create **`clients/sum_client/`** as a proper Django project that installs and uses `sum_core` (no imports from `sum_core.test_project`).
- Settings split must exist: `base.py`, `local.py`, `production.py`.
- Ensure `/health/` resolves and returns JSON (and does so via the `sum_core` implementation, not duplicated logic).
- Template/static override paths exist in the client project (even if mostly empty initially), matching the boilerplate expectations.

---

## **Design Specifications**

- None new in this task. This is “boring correctness”: wiring, settings, and runtime proof.

---

## **Implementation Guidelines**

**Create/modify** (expected shape; exact filenames can vary, but must match intent):

- `clients/sum_client/manage.py`
- `clients/sum_client/pyproject.toml` _or_ `requirements.txt` (whatever pattern we’re using for client sites — but it must pin `sum_core` in a deployable way later)
- `clients/sum_client/sum_client/settings/base.py`
- `clients/sum_client/sum_client/settings/local.py`
- `clients/sum_client/sum_client/settings/production.py`
- `clients/sum_client/sum_client/urls.py` (must include `sum_core` routes: pages, forms submit, health)
- `clients/sum_client/templates/overrides/` (present)
- `clients/sum_client/static/client/` (present)

**Hard rules**

- **No references** to `core/sum_core/test_project/...` anywhere in `sum_client` (imports, settings, URLConf, templates, etc.). (Motivated by the M5 goal: zero reliance on `test_project`.)
- Any new Python modules must include the required header comment block and use type hints (per our project conventions).

**Local run expectation**

- Developer can run migrations and start the server for `sum_client` locally, and reach:

  - Wagtail admin
  - `/health/` JSON

---

## **Acceptance Criteria**

1. `clients/sum_client/` exists and is a runnable Django/Wagtail project consuming `sum_core`.
2. Settings are split (`base.py`, `local.py`, `production.py`) and the project boots using `local` without requiring core’s `test_project`.
3. `GET /health/` returns HTTP 200 and JSON (status + checks), coming from the `sum_core` ops endpoint.
4. URL wiring supports the already-built platform surfaces (pages render, forms endpoint route exists, admin loads) as described in the repo README.
5. A grep-style sanity check shows **no `test_project` references** inside `clients/sum_client/`. (This can be a documented command in the task output.)

---

## **Dependencies & Prerequisites**

- Milestone 4 freeze is in place; `sum_core` is treated as stable and not refactored for this task (M5 non-goal).
- Existing `/health/` implementation in core is available.

---

## **Testing Requirements** (from `test-strategy-v1.1.md`)

Add/ensure tests at the client/boilerplate layer to prove wiring:

- **Integration-ish test (minimum)**: `sum_client` Django test client hits `/health/` and asserts:

  - `200 OK`
  - JSON has `status` and `checks` keys (don’t overfit exact internals).

- **Negative-ish test (minimum)**: misconfigure a required env var (or simulate missing dependency) and ensure `sum check` will eventually catch it (if not in this task, at least document expected failure mode).

Quality gates:

- Tests must run in CI style (`pytest`), and coverage expectations remain ≥80% for affected areas as per our merge criteria.

---

## **Estimated Complexity**

- **Time**: M
- **Risk**: Medium (wiring errors are easy; subtle dependency leaks into `test_project` are the main trap)
- **Suggested Model**: GPT-5.2 (High complexity if you want it to also draft the settings/URL wiring cleanly; otherwise Sonnet-class is fine)

---
