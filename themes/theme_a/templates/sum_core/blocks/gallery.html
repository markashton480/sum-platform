{% load wagtailcore_tags wagtailimages_tags %}

<section class="py-24 bg-sage-oat">
  <div class="container mx-auto px-4">

    {% if self.heading or self.eyebrow %}
    <header class="text-center mb-16 reveal">
      {% if self.eyebrow %}
        <div class="text-[10px] font-bold uppercase tracking-[0.2em] text-sage-label mb-4">
          {{ self.eyebrow }}
        </div>
      {% endif %}
      {% if self.heading %}
        <div class="font-display text-4xl md:text-5xl text-sage-black mb-6">
          {{ self.heading|richtext }}
        </div>
      {% endif %}
      {% if self.intro %}
        <p class="text-lg text-sage-black/70 leading-relaxed max-w-2xl mx-auto font-body">{{ self.intro }}</p>
      {% endif %}
    </header>
    {% endif %}

    {% if self.images %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for item in self.images %}
      <figure class="group reveal delay-{{ forloop.counter0|add:1 }}00">
        <div class="relative overflow-hidden rounded-sm aspect-[3/2] bg-sage-linen shadow-sm">
          {% image item.image fill-900x600 as rendition %}
          <img
            src="{{ rendition.url }}"
            width="{{ rendition.width }}"
            height="{{ rendition.height }}"
            alt="{{ item.alt_text|default:item.image.title }}"
            class="w-full h-full object-cover transition-transform duration-1000 ease-out group-hover:scale-110"
            loading="lazy"
          />
          <!-- Subtle overlay on hover -->
          <div class="absolute inset-0 bg-sage-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>
        {% if item.caption %}
        <figcaption class="mt-4 text-[11px] font-bold uppercase tracking-widest text-sage-label/60 border-l border-sage-moss/30 pl-3">
          {{ item.caption }}
        </figcaption>
        {% endif %}
      </figure>
      {% endfor %}
    </div>
    {% endif %}

  </div>
</section>
